<!doctype html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Android," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="最近在组建项目组从0开始开发项目，从立项到上线，有一些心得，包括项目规范、结构、优化、三方等，与大家分享，一起修仙！
接下来我会以自己写的两个项目为例，结合起来分析。代码已经上传github：

Material Design风格项目 点击前往 喜欢就给个star^_^
UI、Base、网络等封装库项目 点击前往 喜欢也给个star喽

先上图来看看吧：

项目采用MVP+Retrofit+RxJ">
<meta property="og:type" content="article">
<meta property="og:title" content="Android项目从立项到上线">
<meta property="og:url" content="http://adolph.cc/2017/09/03/android-project/index.html">
<meta property="og:site_name" content="Magic">
<meta property="og:description" content="最近在组建项目组从0开始开发项目，从立项到上线，有一些心得，包括项目规范、结构、优化、三方等，与大家分享，一起修仙！
接下来我会以自己写的两个项目为例，结合起来分析。代码已经上传github：

Material Design风格项目 点击前往 喜欢就给个star^_^
UI、Base、网络等封装库项目 点击前往 喜欢也给个star喽

先上图来看看吧：

项目采用MVP+Retrofit+RxJ">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171104150981004338352.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171104150981008811224.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171104150981042494432.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171104150981047164097.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171104150981050013389.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171104150981053458526.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171104150981056272553.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171104150981070542458.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/2017110515098119341868.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171105150981196443079.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171105150981206687113.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171105150981211916250.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171105150981225588056.png">
<meta property="og:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171105150981228211507.png">
<meta property="og:updated_time" content="2017-11-04T16:31:56.857Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Android项目从立项到上线">
<meta name="twitter:description" content="最近在组建项目组从0开始开发项目，从立项到上线，有一些心得，包括项目规范、结构、优化、三方等，与大家分享，一起修仙！
接下来我会以自己写的两个项目为例，结合起来分析。代码已经上传github：

Material Design风格项目 点击前往 喜欢就给个star^_^
UI、Base、网络等封装库项目 点击前往 喜欢也给个star喽

先上图来看看吧：

项目采用MVP+Retrofit+RxJ">
<meta name="twitter:image" content="http://ohtrrgyyd.bkt.clouddn.com/20171104150981004338352.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    sidebar: {"position":"left","display":"always","offset":12,"offset_float":0,"b2t":true,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://adolph.cc/2017/09/03/android-project/"/>





  <title> Android项目从立项到上线 | Magic </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta custom-logo">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Magic</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocapitalize="off" autocomplete="off" autocorrect="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://adolph.cc/2017/09/03/android-project/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="MagicalRice">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="http://ohtrrgyyd.bkt.clouddn.com/037c5bde749f737e107c8fb8e9321c9d.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Magic">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                Android项目从立项到上线
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-03T23:38:00+08:00">
                2017-09-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Android/" itemprop="url" rel="index">
                    <span itemprop="name">Android</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv">本文总阅读量
            <span class="busuanzi-value" id="busuanzi_value_page_pv" ></span>次
            </span>
          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>最近在组建项目组从0开始开发项目，从立项到上线，有一些心得，包括项目规范、结构、优化、三方等，与大家分享，一起修仙！</p>
<p>接下来我会以自己写的两个项目为例，结合起来分析。代码已经上传github：</p>
<ul>
<li>Material Design风格项目 <a href="https://github.com/shuaijia/MaterialDesignProject" target="_blank" rel="external">点击前往</a> 喜欢就给个star^_^</li>
<li>UI、Base、网络等封装库项目 <a href="https://github.com/shuaijia/JSBaseDemo" target="_blank" rel="external">点击前往</a> 喜欢也给个star喽</li>
</ul>
<p>先上图来看看吧：</p>
<p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171104150981004338352.png" alt="20171104150981004338352.png"></p>
<p>项目采用<strong>MVP+Retrofit+RxJava+Gson+Glide+Material Design</strong>设计</p>
<p>同时也使用了<strong>EventBus</strong>事件总线、<strong>GreenDao</strong>数据库、<strong>SurfaceView+MediaPlayer视频播放器</strong>等主要技术。</p>
<p>ok！项目就简单介绍到这里，接下来开始我们的修仙之路。</p>
<p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171104150981008811224.png" alt="20171104150981008811224.png"></p>
<h1 id="项目整体分析"><a href="#项目整体分析" class="headerlink" title="项目整体分析"></a>项目整体分析</h1><h2 id="UI风格"><a href="#UI风格" class="headerlink" title="UI风格"></a>UI风格</h2><h3 id="logo"><a href="#logo" class="headerlink" title="logo"></a>logo</h3><h3 id="主题风格："><a href="#主题风格：" class="headerlink" title="主题风格："></a>主题风格：</h3><ul>
<li>Material Design</li>
<li>仿ios</li>
<li>主界面–侧拉</li>
<li>主界面–仿微信 选项卡等</li>
</ul>
<h2 id="技术方案"><a href="#技术方案" class="headerlink" title="技术方案"></a>技术方案</h2><h3 id="整体分析项目，确定整体技术方案，之后的开发中按照技术方案执行，同时编写相关文档。"><a href="#整体分析项目，确定整体技术方案，之后的开发中按照技术方案执行，同时编写相关文档。" class="headerlink" title="整体分析项目，确定整体技术方案，之后的开发中按照技术方案执行，同时编写相关文档。"></a>整体分析项目，确定整体技术方案，之后的开发中按照技术方案执行，同时编写相关文档。</h3><ul>
<li>项目架构</li>
<li>网络框架</li>
<li>图片处理</li>
<li>数据处理/接口格式</li>
<li>三方使用：统计、推送、更新等</li>
</ul>
<h2 id="可行性分析"><a href="#可行性分析" class="headerlink" title="可行性分析"></a>可行性分析</h2><p>邀请项目经理、技术负责人、产品经理、后端开发、测试等共同分析技术方案的可行性，并相应调整技术方案。</p>
<h2 id="工期"><a href="#工期" class="headerlink" title="工期"></a>工期</h2><p>根据项目需求和技术方案，给出开发时长；</p>
<p>根据工期要求，可适当调整技术方案。</p>
<h2 id="测试用例"><a href="#测试用例" class="headerlink" title="测试用例"></a>测试用例</h2><p>测试人员开始整理、编写测试用例和项目标准文档；</p>
<p>个人觉得开发人员应该参与到测试工作中，这样方便自己对业务逻辑和功能分析全面，也帮助测试人员分析项目功能和技术，便于写出更加全面的测试用例。</p>
<h1 id="开发规范"><a href="#开发规范" class="headerlink" title="开发规范"></a>开发规范</h1><p>其实Android、Ios、Server等各端开发人员，都应该有完整的、严格的开发规范，这里我只说一下Android端的开发规范：</p>
<p>以自己项目为例，涉及到以下几项：</p>
<ul>
<li>文档规范</li>
<li>资源命名规范</li>
<li>代码命名规范</li>
<li>代码注释规范</li>
<li>代码风格规范</li>
<li>服务器数据规范 等</li>
</ul>
<h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h2><p>重要有以下几个文档：</p>
<ul>
<li>需求文档</li>
<li>产品原型图</li>
<li>完整UI图</li>
<li>接口文档</li>
<li>核心技术文档</li>
<li>重点逻辑文档</li>
<li>程序框架图</li>
<li>ER图、数据字典、类图等</li>
<li>测试文档</li>
</ul>
<h2 id="资源文件命名规范"><a href="#资源文件命名规范" class="headerlink" title="资源文件命名规范"></a>资源文件命名规范</h2><p>名字全部小写，最好不用数字，全部英文，单词中间下划线隔开</p>
<h3 id="drawable、anim等文件夹下"><a href="#drawable、anim等文件夹下" class="headerlink" title="drawable、anim等文件夹下"></a>drawable、anim等文件夹下</h3><p>名称结构为“技术点模块点空间类型_功能名”结构，技术点主要有：selector、translate、alpha、scale等，模块名主要有：login、pay、mine、setting等，控件类型主要有：button、textview、imageview、dialog等，功能名主要有：findpwd、request、back、next等。 </p>
<p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171104150981042494432.png" alt="20171104150981042494432.png"></p>
<h3 id="drawable-xhdpi等图片资源"><a href="#drawable-xhdpi等图片资源" class="headerlink" title="drawable-xhdpi等图片资源"></a>drawable-xhdpi等图片资源</h3><p>名称为“技术点模块点功能名”结构，技术点主要有：activity、fragment、item、include等，模块点主要有：login、setting、mine、pay等，功能名主要有：head、title、back、sure等。 </p>
<p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171104150981047164097.png" alt="20171104150981047164097.png"></p>
<h3 id="layout"><a href="#layout" class="headerlink" title="layout"></a>layout</h3><p>布局名称为“技术点模块功能名”结构，技术点主要有：activity、fragment、item、include等，模块主要有：home、lesson、mine、loginregist等，功能名主要有：login、title、setting、pay、bar等。 </p>
<p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171104150981050013389.png" alt="20171104150981050013389.png"></p>
<h3 id="values"><a href="#values" class="headerlink" title="values"></a>values</h3><p>布局名称为“技术点模块功能名”结构，技术点主要有：activity、fragment、item、include等，模块主要有：home、lesson、mine、loginregist等，功能名主要有：login、title、setting、pay、bar等。 </p>
<p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171104150981053458526.png" alt="20171104150981053458526.png"></p>
<h2 id="代码命名规范"><a href="#代码命名规范" class="headerlink" title="代码命名规范"></a>代码命名规范</h2><h3 id="包名"><a href="#包名" class="headerlink" title="包名"></a>包名</h3><p>包名为“根包名.技术点名.模块名”结构，<strong>全部小写</strong></p>
<p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171104150981056272553.png" alt="20171104150981056272553.png"></p>
<h3 id="类名"><a href="#类名" class="headerlink" title="类名"></a>类名</h3><p>采用 <strong>大驼峰</strong> 命名法，单词直接拼接，所有单词首字母大写</p>
<p>类名为“业务模块名 执行操作名 技术点名”结构，业务模块名主要有：home、lession、net、login，pay等，操作名主要有：Get、Set、Request、Login等，技术点名主要有：Activity、Fragment、View、Adapter等。 </p>
<p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171104150981070542458.png" alt="20171104150981070542458.png"></p>
<h3 id="普通变量"><a href="#普通变量" class="headerlink" title="普通变量"></a>普通变量</h3><p>采用 <strong>小驼峰</strong> 命名法，第一个单词首字母小写，其他单词首字母大写。</p>
<p>普通变量为“名字简写 类型 功能名”结构，名字简写有：js等，类型主要有：Int、Double、Boolean、String、Char等，功能名有：Login、Number、Content等。 </p>
<p><img src="http://ohtrrgyyd.bkt.clouddn.com/2017110515098119341868.png" alt="2017110515098119341868.png"></p>
<h3 id="常亮"><a href="#常亮" class="headerlink" title="常亮"></a>常亮</h3><p>所有字母全部大写，中间下划线隔开</p>
<p>常量为“功能名_标识”结构，功能名主要有：LOGIN、REQUEST、PERSONINFO等，标识有SUCCESS、ERROR、URL等。</p>
<p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171105150981196443079.png" alt="20171105150981196443079.png"></p>
<h2 id="方法名"><a href="#方法名" class="headerlink" title="方法名"></a>方法名</h2><p>名字能体现出功能即可。不再累赘重述。</p>
<h1 id="数据-接口定义"><a href="#数据-接口定义" class="headerlink" title="数据/接口定义"></a>数据/接口定义</h1><h2 id="建议"><a href="#建议" class="headerlink" title="建议"></a>建议</h2><ul>
<li>服务器返回数据采用json格式</li>
<li>json数据中无数据，必须返回空数组或空字符串，不可返回null</li>
<li>Android端使用gson或fastjson或jackson等三方解析工具解析</li>
<li>不建议使用官方JSONObject解析，容易出错</li>
<li>实体类属性名与json中字段名完全一致</li>
<li>json中字段名全部使用英文，不可英文、拼音夹杂</li>
<li>用户表识建议使用Cookie</li>
<li>建议使用POST解析，它对参数数量没有要求，也比较安全</li>
<li>为了传输安全，使用https请求 等</li>
<li>完善接口文档，建议每一版对应一个完整接口文档</li>
</ul>
<h1 id="屏幕适配"><a href="#屏幕适配" class="headerlink" title="屏幕适配"></a>屏幕适配</h1><p>安卓设备分辨率、屏幕尺寸五花八门，碎片化严重，重点对市面上主流的720 <em> 1280和1080 </em> 1920手机进行适配，同时对于其他类型手机也要适配。</p>
<p>关于屏幕适配，之前写过一个Android屏幕完美适配方案，<a href="http://blog.csdn.net/jiashuai94/article/details/77639511" target="_blank" rel="external">点击前往</a>，这里不再重复表述。</p>
<h1 id="程序架构MVP"><a href="#程序架构MVP" class="headerlink" title="程序架构MVP"></a>程序架构MVP</h1><p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171105150981206687113.png" alt="20171105150981206687113.png"></p>
<h2 id="上图介绍："><a href="#上图介绍：" class="headerlink" title="上图介绍："></a>上图介绍：</h2><p><strong>Contract</strong>：契约类，一个功能模块中View接口、Model接口和请求数据回调统一在对应模块的Contract中定义，便于管理。</p>
<p><strong>ViewInterface</strong>： view层接口，定义了view中的UI操作</p>
<p><strong>ModelInterface</strong>： model层接口，定义了model负责的数据操作方法，如请求接口，操作数据库等</p>
<p><strong>CallbackInterface</strong>： model层操作数据完成后的回调</p>
<p><strong>BasePersenter</strong>： Persenter父类，主要是对相关view的获取，销毁等操作</p>
<p><strong>View</strong>： view层实现类，主要就是Activity或Fragment，负责UI展示和事件响应</p>
<p><strong>Model</strong>： model层实现类，就是依据业务，请求对应接口或数据库，并将结果返给回调CallBack</p>
<p><strong>Persenter</strong>： persenter层类，负责业务逻辑处理，view将响应传给persenter，persenter负责调用model，并将结果返回给view供其展示</p>
<h2 id="MVP："><a href="#MVP：" class="headerlink" title="MVP："></a>MVP：</h2><p>MVP模式相当于在MVC模式中又加了一个Presenter用于处理模型和逻辑，将View和Model完全独立开，在android开发中的体现就是activity仅用于显示界面和交互，activity不参与模型结构和逻辑。</p>
<p>使用MVP模式会使得代码多出一些接口但是使得代码逻辑更加清晰，尤其是在处理复杂界面和逻辑时，我们可以对同一个activity将每一个业务都抽离成一个Presenter，这样代码既清晰逻辑明确又方便我们扩展。当然如果我们的业务逻辑本身就比较简单的话使用MVP模式就显得，没那么必要。所以我们不需要为了用它而用它，具体的还是要要业务需要</p>
<p>现在比较流行MVVM架构，后续我会将MVVM总结，大家期待一下。。</p>
<h1 id="package划分"><a href="#package划分" class="headerlink" title="package划分"></a>package划分</h1><p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171105150981211916250.png" alt="20171105150981211916250.png"></p>
<p>如上：主体按功能模块划分，同一级的还有一些技术点，如adapter、util、pay等；在功能模块下，按照mvp模式，又分为contract、model、presenter、fragment和activity；而在其他技术点包下面同样也按功能模块划分。</p>
<p>总之，我们划分包时：以功能模块为主，以技术点为辅。</p>
<h1 id="Base、Util、UI类封装"><a href="#Base、Util、UI类封装" class="headerlink" title="Base、Util、UI类封装"></a>Base、Util、UI类封装</h1><h2 id="Base类"><a href="#Base类" class="headerlink" title="Base类"></a>Base类</h2><ul>
<li>BaseApplication</li>
<li>BaseActivity</li>
<li>BaseFragment</li>
<li>BasePresenter 等</li>
</ul>
<h3 id="BaseApplication："><a href="#BaseApplication：" class="headerlink" title="BaseApplication："></a>BaseApplication：</h3><p>主要进行一些例如：<strong>三方配置</strong>、<strong>热更新加载</strong>、<strong>文件配置</strong>、<strong>数据库配置</strong>等准备工作；同时也许定义全局性变量：如<strong>Application的Context</strong>、<strong>网络状态</strong>、<strong>主线程Looper</strong>、<strong>主线程Handler</strong>等。</p>
<h3 id="BaseActivity："><a href="#BaseActivity：" class="headerlink" title="BaseActivity："></a>BaseActivity：</h3><p>封装为抽象类，将各任务抽取成方法，有子类实现：比如<strong>findViewById(initView)</strong>、<strong>initData</strong>、<strong>setListener</strong>等；</p>
<p>对友盟统计的封装：因为友盟统计或别的统计需要在所有Activity的各生命周期方法中调用api，所以应该将其封装到BaseActivity中。</p>
<p>项目为MVP结构，所以设置了View和Presenter的泛型，如：</p>
<p>其中定义了屏幕宽高度等设备信息，也定义了BasePresenter对象、并抽取抽象方法，由子类返回其对应presenter。</p>
<p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171105150981225588056.png" alt="20171105150981225588056.png"></p>
<h3 id="BaseFragment："><a href="#BaseFragment：" class="headerlink" title="BaseFragment："></a>BaseFragment：</h3><p>BaseFragment的封装如BaseActivity一样，添加View和Presenter的泛型和presenter对象，创建返回Presenter的抽象方法供子类事项；</p>
<p>创建createView(创建跟视图view)、initChildView(子view findViewById)、initData(加载数据)抽象方法</p>
<h3 id="BasePresenter："><a href="#BasePresenter：" class="headerlink" title="BasePresenter："></a>BasePresenter：</h3><p><img src="http://ohtrrgyyd.bkt.clouddn.com/20171105150981228211507.png" alt="20171105150981228211507.png"></p>
<p>BasePresenter封装如上：内置view的软引用，在Activity或Fragment的onResume中调用presenter的attachView方法，将view实例传给presenter；在Activity或Fragment的onDestroy或onStop方法中调用detachView方法解除与view的绑定；而getView方法则是presenter在model返回数据后调用来操作对应view的展示UI方法。</p>
<h2 id="Utils类"><a href="#Utils类" class="headerlink" title="Utils类"></a>Utils类</h2><h3 id="只列举一些常用的工具类："><a href="#只列举一些常用的工具类：" class="headerlink" title="只列举一些常用的工具类："></a>只列举一些常用的工具类：</h3><ul>
<li>SharedPreferenceUtils</li>
<li>ToastUtils</li>
<li>StorageUtils</li>
<li>FileUtils</li>
<li>NetUtils</li>
<li>deviceUtils</li>
<li>DateUtils</li>
<li>LogUtils</li>
<li>AppUtils 等</li>
</ul>
<h2 id="UI类"><a href="#UI类" class="headerlink" title="UI类"></a>UI类</h2><h3 id="只列举一些常用的View类"><a href="#只列举一些常用的View类" class="headerlink" title="只列举一些常用的View类"></a>只列举一些常用的View类</h3><ul>
<li>下拉刷新、上拉加载</li>
<li>圆形ImageView</li>
<li>自定义Dialog</li>
<li>Banner</li>
<li>自定义ScrollView</li>
<li>自定义RecyclerView</li>
<li>项目相关的自定义View 等</li>
</ul>
<h1 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h1><p>关于数据库操作，之前一直是自己写：也就是SQLiteOpenHelper结合相关SQL操作工具类来实现数据库操作。</p>
<p>但随着业务逻辑的增加和复杂，需要进行大量的数据库操作时，编写大量的代码，既费时间、还会避免不了地出bug；</p>
<p>所以我们只介绍几款流行的数据库框架：</p>
<ul>
<li>GreenDao</li>
<li>OrmLite</li>
<li>LitePal</li>
<li>Realm</li>
</ul>
<h2 id="GreenDao："><a href="#GreenDao：" class="headerlink" title="GreenDao："></a>GreenDao：</h2><p><strong>特点</strong>：</p>
<ol>
<li>存取速度快; </li>
<li>支持数据库加密; </li>
<li>轻量级; </li>
<li>激活实体;</li>
<li>支持缓存; </li>
<li>代码自动生成</li>
</ol>
<p><strong>地址</strong>：<a href="https://github.com/greenrobot/greenDAO" target="_blank" rel="external">https://github.com/greenrobot/greenDAO</a></p>
<h2 id="OrmLite："><a href="#OrmLite：" class="headerlink" title="OrmLite："></a>OrmLite：</h2><p><strong>优点</strong>： </p>
<ol>
<li>轻量级；</li>
<li>使用简单，易上手；</li>
<li>封装完善；</li>
<li>文档全面。</li>
</ol>
<p><strong>缺点</strong>：</p>
<ol>
<li>基于反射，效率较低（本人还没有觉得效率低)</li>
<li>缺少中文翻译文档</li>
</ol>
<p><strong>jar包地址</strong>：<a href="http://ormlite.com/releases/" target="_blank" rel="external">http://ormlite.com/releases/</a></p>
<h2 id="LitePal："><a href="#LitePal：" class="headerlink" title="LitePal："></a>LitePal：</h2><p>LitePal 框架是郭大神开源的数据库框架，他的博客也比较详细的介绍了其用法。</p>
<p>地址：<a href="https://github.com/LitePalFramework/LitePal" target="_blank" rel="external">https://github.com/LitePalFramework/LitePal</a></p>
<h2 id="Realm："><a href="#Realm：" class="headerlink" title="Realm："></a>Realm：</h2><ol>
<li><p>易用：Ream 不是在SQLite基础上的ORM，它有自己的数据查询引擎。并且十分容易使用。</p>
</li>
<li><p>快速：由于它是完全重新开始开发的数据库实现，所以它比任何的ORM速度都快很多，甚至比SLite速度都要快。</p>
</li>
<li><p>跨平台：Realm 支持 iOS &amp; OS X (Objective‑C &amp; Swift) &amp; Android。我们可以在这些平台上共享Realm数据库文件，并且上层逻辑可以不用任何改动的情况下实现移植。</p>
</li>
<li><p>高级：Ream支持加密，格式化查询，易于移植，支持JSON，流式api，数据变更通知等高级特性</p>
</li>
<li><p>可视化</p>
</li>
</ol>
<p><a href="https://github.com/realm/realm-java" target="_blank" rel="external">git地址</a></p>
<p><a href="https://realm.io/docs/java/latest/#getting-started" target="_blank" rel="external">官网</a></p>
<p>自己项目中使用了GreenDao，它代码自动生成、存取速度快、支持加密、一个轻量级别的库，用着方便，推荐大家使用GreenDao。</p>
<h1 id="图片处理"><a href="#图片处理" class="headerlink" title="图片处理"></a>图片处理</h1><p>之前有自己封装过图片处理框架，核心是使用HttpUrlConnection实现加载，仿LruCache（近期最少使用排序）算法实现图片缓存。</p>
<p>但我们用的最多的还是ImageLoader、Glide、Picasso和Fresco四大主流框架，接下来主要比较一下四个框架的各自特点：</p>
<h2 id="ImageLoader："><a href="#ImageLoader：" class="headerlink" title="ImageLoader："></a>ImageLoader：</h2><p><strong>优点</strong>:</p>
<ul>
<li>多线程下载，线程管理。</li>
<li>多级缓存架构设计和策略，内存缓存，磁盘缓存，缓存有效性处理。</li>
<li>图片压缩，特效处理，动画处理。</li>
<li>复杂网络情况下下载图片策略，例如弱网络等。</li>
<li>内存管理，lru 算法、对象引用、GC回收等优化。</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>时间久，官方不再维护，出现bug需要自己修复。</li>
</ul>
<h2 id="Glide："><a href="#Glide：" class="headerlink" title="Glide："></a>Glide：</h2><p><strong>优点</strong>：</p>
<ul>
<li>更易用，因为Glide的with方法不光接受Context，还接受Activity 和 Fragment，Context会自动的从他们获取。同时将Activity/Fragment作为with()参数的好处是：图片加载会和Activity/Fragment的生命周期保持一致，比如Paused状态在暂停加载，在Resumed的时候又自动重新加载。所以我建议传参的时候传递Activity 和 Fragment给Glide，而不是Context。</li>
<li>Glide可以加载GIF动态图。</li>
<li>Glide缓存的是跟ImageView尺寸相同的。Glide的这种方式优点是加载显示非常快。</li>
<li>默认使用HttpUrlConnection下载图片，可以配置为OkHttp或者Volley下载，也可以自定义下载方式。</li>
<li>默认使用手机内置存储进行磁盘缓存，可以配置为外部存储，可以配置缓存大小，图片池大小。</li>
<li>默认使用两个线程池来分别执行读取缓存和下载任务，都可以自定义。</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>Glide加载的图片质量要差于Picasso，这是因为Glide默认的Bitmap格式是RGB_565，比ARGB_8888格式的内存开销要小一半。</li>
</ul>
<h2 id="Picasso："><a href="#Picasso：" class="headerlink" title="Picasso："></a>Picasso：</h2><p><strong>特点</strong>：</p>
<ul>
<li>在adapter中需要取消已经不在视野范围的ImageView图片资源的加载，否则会导致图片错位，Picasso已经解决了这个问题。</li>
<li>使用复杂的图片压缩转换来尽可能的减少内存消耗</li>
<li>自带内存和硬盘二级缓存功能</li>
</ul>
<h2 id="Fresco："><a href="#Fresco：" class="headerlink" title="Fresco："></a>Fresco：</h2><p><strong>优点</strong>：</p>
<ul>
<li>最大的优势便在于5.0以下(最低2.3) bitmap的加载，在5.0以下系统，Fresco将图片放到一个特别的内存区域(Ashmem)，而且图片不显示时，占用的内存会自动被释放，这会使APP更加流畅，减少因图片内存占用而引发的OOM。5.0以后的系统默认存储在Ashmem区了</li>
<li>图片的渐进式呈现，图片先呈现大致的轮廓，然后随着图片下载的继续，逐渐成仙清晰的图片，这对于慢网络对说，用户体验更好。</li>
<li>支持加载Git动态图和Webp格式的图片。</li>
</ul>
<p><strong>缺点</strong>：</p>
<ul>
<li>框架体积比较大，3M左右，会增加APK的大小。</li>
</ul>
<p>总结：在项目开发中，要适当的选择图片框架，ImageLoader太老已过时，且官方不再维护，所以不再考虑使用ImageLoader；Picasso能做的，Glide都能做到，就是Glide的图片质量会稍差一些；而Fresco又体积偏大，但渐进式呈现，用户体验好。综上的话，一般项目建议使用Glide即可。</p>
<h1 id="网络框架"><a href="#网络框架" class="headerlink" title="网络框架"></a>网络框架</h1><p>上一个项目中，网络框架自己封装：核心使用HttpUrlConnection实现，先封装请求参数相关类RequestVo，其中包含请求方式、url、参数、解析类、是否缓存、缓存时长等参数；缓存是将json字符串加密后与拼接过的url成对存储到File，并且设置有效时间，超过有效时间删除缓存并去网络请求，成功后重新保存。</p>
<p>但现在市面上最流行的是Retrofit+RxJava+Gson，接下来我们大概介绍一下：</p>
<h2 id="添加依赖"><a href="#添加依赖" class="headerlink" title="添加依赖"></a>添加依赖</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">compile &apos;io.reactivex:rxjava:x.y.z&apos;</div><div class="line">compile &apos;io.reactivex:rxandroid:1.0.1&apos;</div><div class="line">compile &apos;com.squareup.retrofit2:retrofit:2.0.2&apos;</div><div class="line">compile &apos;com.squareup.retrofit2:converter-gson:2.0.2&apos;</div><div class="line">compile &apos;com.squareup.retrofit2:adapter-rxjava:2.0.2&apos;</div></pre></td></tr></table></figure>
<p>要注意：以上添加了Retrofit、RxJava和Gson依赖，版本号必须一致</p>
<h2 id="登录Service"><a href="#登录Service" class="headerlink" title="登录Service"></a>登录Service</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">interface BaseService &#123;</div><div class="line">  @GET(&quot;user/login&quot; )</div><div class="line">  Observable&lt;User&gt; login(</div><div class="line">          @Query(&quot;username&quot;) String username,</div><div class="line">          @Query(&quot;password&quot;) String password</div><div class="line">  );</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>login方法的返回值是Observable类型，就是RxJava中的被观察者。</p>
<h2 id="网络请求"><a href="#网络请求" class="headerlink" title="网络请求"></a>网络请求</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">Retrofit retrofit = <span class="keyword">new</span> Retrofit.Builder()</div><div class="line">	.addConverterFactory(GsonConverterFactory.create()           </div><div class="line">	.addCallAdapterFactory(RxJavaCallAdapterFactory.create())<span class="comment">//新的配置</span></div><div class="line">	.baseUrl(BASE_URL)</div><div class="line">	.build();</div><div class="line">BaseService service = retrofit.create(BaseService.class);</div><div class="line"></div><div class="line">service.login(phone, password)               <span class="comment">//获取Observable对象</span></div><div class="line">	.subscribeOn(Schedulers.newThread())<span class="comment">//请求在新的线程中执行</span></div><div class="line">	.observeOn(Schedulers.io())         <span class="comment">//请求完成后在io线程中执行</span></div><div class="line">	.doOnNext(<span class="keyword">new</span> Action1&lt;UserInfo&gt;() &#123;</div><div class="line">		<span class="meta">@Override</span></div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">call</span><span class="params">(User user)</span> </span>&#123;</div><div class="line">			saveUserInfo(user);<span class="comment">//保存用户信息到本地</span></div><div class="line">		&#125;</div><div class="line">	&#125;)</div><div class="line">	.observeOn(AndroidSchedulers.mainThread())<span class="comment">//最后在主线程中执行</span></div><div class="line">	.subscribe(<span class="keyword">new</span> Subscriber&lt;User&gt;() &#123;</div><div class="line">		<span class="meta">@Override</span></div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onCompleted</span><span class="params">()</span> </span>&#123;</div><div class="line"></div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="meta">@Override</span></div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable e)</span> </span>&#123;</div><div class="line">			<span class="comment">//请求失败</span></div><div class="line">		&#125;</div><div class="line"></div><div class="line">		<span class="meta">@Override</span></div><div class="line">		<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(User user)</span> </span>&#123;</div><div class="line">			<span class="comment">//请求成功</span></div><div class="line">		&#125;</div><div class="line">&#125;);</div><div class="line">```              </div><div class="line"></div><div class="line">RxJava + Retrofit 形式的时候，Retrofit 把请求封装进 Observable ，在请求结束后调用 onNext() 或在请求失败后调用 onError()。</div><div class="line"></div><div class="line">可以看到，调用了service的login方法后得到Observable对象，在新的线程中执行网络请求，请求成功后切换到io线程执行保存用户信息的动作，最后再切换到主线程执行请求失败onError()、请求成功onNext()。整体的逻辑十分清晰都在一条链中，就算还有别的要求还可以往里面添加，丝毫不影响代码的简洁。</div></pre></td></tr></table></figure>
<p>注意：Retrofit在创建的时候添了一下代码<br>addCallAdapterFactory(RxJavaCallAdapterFactory.create())<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">想了解更多关于RxJava，浏览[http://gank.io/post/560e15be2dca930e00da1083#toc_1](http://gank.io/post/560e15be2dca930e00da1083#toc_1)</div><div class="line"></div><div class="line"># 其他三方</div><div class="line"></div><div class="line">在自己的开发过程中，还用到了如EventBus、Zxing、Zbar、Volley、Gson、LeakCanary等三方框架；</div><div class="line"></div><div class="line">也用到了如友盟统计、微信、支付宝支付、三方登录、极光推送、tinker热更新等三方sdk；</div><div class="line"></div><div class="line">就不再一一列举，附上一张图，大家有时间多去学习、多去了解。</div><div class="line"></div><div class="line">![20171105150981301966614.png](http://ohtrrgyyd.bkt.clouddn.com/20171105150981301966614.png)</div><div class="line"></div><div class="line"># 混淆、加固、上线</div><div class="line"></div><div class="line">## 混淆</div><div class="line"></div><div class="line">大家可以参考我的[另一篇文章](http://blog.csdn.net/jiashuai94/article/details/77991077)</div><div class="line"></div><div class="line">混淆是上线前挺重要的一个环节。Android使用的ProGuard，可以起到压缩，混淆，预检，优化的作用。</div><div class="line"></div><div class="line">### 坚持以下几项原则：</div><div class="line"></div><div class="line">- 使用三方依赖，在混淆文件中添加官方提供的混淆代码，官方没有就google；</div><div class="line">- 实体类不混淆，因为实体类涉及到与服务端的交互，各种gson的交互如此等等，是要保留的；</div><div class="line">- 与js互调的类不混淆；</div><div class="line">- 与反射有关的类不混淆 等。</div><div class="line"></div><div class="line">### 具体语法：</div></pre></td></tr></table></figure></p>
<p>-optimizationpasses 5 // 代码混淆的压缩比例，值在0-7之间<br>-dontusemixedcaseclassnames // 混淆后类名都为小写<br>-dontskipnonpubliclibraryclasses // 指定不去忽略非公共的库的类<br>-dontskipnonpubliclibraryclassmembers // 指定不去忽略非公共的库的类的成员<br>-dontpreverify // 不做预校验的操作</p>
<p>-verbose<br>-printmapping proguardMapping.txt // 生成原类名和混淆后的类名的映射文件</p>
<p>-optimizations !code/simplification/cast,!field/<em>,!class/merging/</em> // 指定混淆时采用的算法<br>-keepattributes <em>Annotation</em>,InnerClasses // 不混淆Annotation<br>-keepattributes Signature // 不混淆泛型<br>-keepattributes SourceFile,LineNumberTable // 抛出异常时保留代码行号<br>-keep class XXXX // 保留类名不变，也就是类名不混淆，而类中的成员名不保证。当然也可以是继承XXX类的所有类名不混淆，具体代码不贴了，重在理解。<br>-keepclasseswithmembers class XXXX // 保留类名和成员名。当然也可以是类中特定方法，代码不贴了，理由同上。<br>```</p>
<p><strong>加固</strong>：</p>
<p>加固一般都使用三方加固：如果apk上百度应用市场，则使用百度加固，其他情况建议使用360加固，当然，加固前一定是混淆过的、并且签过名的apk。</p>
<p>360加固还提供了一些其他服务，可根据项目情况操作（是需要花钱的..）</p>
<p><strong>上线</strong>：</p>
<p>也就是我们所说的发版，当你的apk测试通过，混淆过、签名过、也加固了，可以发版了。</p>
<p>每个公司上线的市场要求不同，一般主要有应用宝、360、豌豆荚、百度市场、小米市场、华为市场、魅族市场等，当然还有官网了。</p>
<p>发版时需要：apk当然要有、logo（第一次上线）、应用简介（第一次上线）、版本号、更新功能、介绍图、官网地址（第一次上线）等。</p>
<p>ok，到这里，我们的一个阶段算是完成了，接下来还会有更多的业务和bug等着大家，哈哈！希望这篇文章能对大家有一点点帮助。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Android/" rel="tag"># Android</a>
          
        </div>
      

      
        
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/09/03/android-ui-adapt/" rel="next" title="Android机型适配">
                <i class="fa fa-chevron-left"></i> Android机型适配
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/09/04/android-activity-launcher/" rel="prev" title="Android Launcher启动Activity的工作过程">
                Android Launcher启动Activity的工作过程 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="http://ohtrrgyyd.bkt.clouddn.com/037c5bde749f737e107c8fb8e9321c9d.jpg"
               alt="MagicalRice" />
          <p class="site-author-name" itemprop="name">MagicalRice</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">140</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">27</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/adolphJane" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#项目整体分析"><span class="nav-number">1.</span> <span class="nav-text">项目整体分析</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#UI风格"><span class="nav-number">1.1.</span> <span class="nav-text">UI风格</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#logo"><span class="nav-number">1.1.1.</span> <span class="nav-text">logo</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#主题风格："><span class="nav-number">1.1.2.</span> <span class="nav-text">主题风格：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#技术方案"><span class="nav-number">1.2.</span> <span class="nav-text">技术方案</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#整体分析项目，确定整体技术方案，之后的开发中按照技术方案执行，同时编写相关文档。"><span class="nav-number">1.2.1.</span> <span class="nav-text">整体分析项目，确定整体技术方案，之后的开发中按照技术方案执行，同时编写相关文档。</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#可行性分析"><span class="nav-number">1.3.</span> <span class="nav-text">可行性分析</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#工期"><span class="nav-number">1.4.</span> <span class="nav-text">工期</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#测试用例"><span class="nav-number">1.5.</span> <span class="nav-text">测试用例</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#开发规范"><span class="nav-number">2.</span> <span class="nav-text">开发规范</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#文档"><span class="nav-number">2.1.</span> <span class="nav-text">文档</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#资源文件命名规范"><span class="nav-number">2.2.</span> <span class="nav-text">资源文件命名规范</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#drawable、anim等文件夹下"><span class="nav-number">2.2.1.</span> <span class="nav-text">drawable、anim等文件夹下</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#drawable-xhdpi等图片资源"><span class="nav-number">2.2.2.</span> <span class="nav-text">drawable-xhdpi等图片资源</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#layout"><span class="nav-number">2.2.3.</span> <span class="nav-text">layout</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#values"><span class="nav-number">2.2.4.</span> <span class="nav-text">values</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#代码命名规范"><span class="nav-number">2.3.</span> <span class="nav-text">代码命名规范</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#包名"><span class="nav-number">2.3.1.</span> <span class="nav-text">包名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类名"><span class="nav-number">2.3.2.</span> <span class="nav-text">类名</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#普通变量"><span class="nav-number">2.3.3.</span> <span class="nav-text">普通变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常亮"><span class="nav-number">2.3.4.</span> <span class="nav-text">常亮</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#方法名"><span class="nav-number">2.4.</span> <span class="nav-text">方法名</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据-接口定义"><span class="nav-number">3.</span> <span class="nav-text">数据/接口定义</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#建议"><span class="nav-number">3.1.</span> <span class="nav-text">建议</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#屏幕适配"><span class="nav-number">4.</span> <span class="nav-text">屏幕适配</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#程序架构MVP"><span class="nav-number">5.</span> <span class="nav-text">程序架构MVP</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#上图介绍："><span class="nav-number">5.1.</span> <span class="nav-text">上图介绍：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#MVP："><span class="nav-number">5.2.</span> <span class="nav-text">MVP：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#package划分"><span class="nav-number">6.</span> <span class="nav-text">package划分</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Base、Util、UI类封装"><span class="nav-number">7.</span> <span class="nav-text">Base、Util、UI类封装</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Base类"><span class="nav-number">7.1.</span> <span class="nav-text">Base类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#BaseApplication："><span class="nav-number">7.1.1.</span> <span class="nav-text">BaseApplication：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BaseActivity："><span class="nav-number">7.1.2.</span> <span class="nav-text">BaseActivity：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BaseFragment："><span class="nav-number">7.1.3.</span> <span class="nav-text">BaseFragment：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BasePresenter："><span class="nav-number">7.1.4.</span> <span class="nav-text">BasePresenter：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Utils类"><span class="nav-number">7.2.</span> <span class="nav-text">Utils类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#只列举一些常用的工具类："><span class="nav-number">7.2.1.</span> <span class="nav-text">只列举一些常用的工具类：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#UI类"><span class="nav-number">7.3.</span> <span class="nav-text">UI类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#只列举一些常用的View类"><span class="nav-number">7.3.1.</span> <span class="nav-text">只列举一些常用的View类</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#数据库"><span class="nav-number">8.</span> <span class="nav-text">数据库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#GreenDao："><span class="nav-number">8.1.</span> <span class="nav-text">GreenDao：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#OrmLite："><span class="nav-number">8.2.</span> <span class="nav-text">OrmLite：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#LitePal："><span class="nav-number">8.3.</span> <span class="nav-text">LitePal：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Realm："><span class="nav-number">8.4.</span> <span class="nav-text">Realm：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#图片处理"><span class="nav-number">9.</span> <span class="nav-text">图片处理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ImageLoader："><span class="nav-number">9.1.</span> <span class="nav-text">ImageLoader：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Glide："><span class="nav-number">9.2.</span> <span class="nav-text">Glide：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Picasso："><span class="nav-number">9.3.</span> <span class="nav-text">Picasso：</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Fresco："><span class="nav-number">9.4.</span> <span class="nav-text">Fresco：</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#网络框架"><span class="nav-number">10.</span> <span class="nav-text">网络框架</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#添加依赖"><span class="nav-number">10.1.</span> <span class="nav-text">添加依赖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#登录Service"><span class="nav-number">10.2.</span> <span class="nav-text">登录Service</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#网络请求"><span class="nav-number">10.3.</span> <span class="nav-text">网络请求</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy;  2015 - 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">MagicalRice</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Mist
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      本站访客数
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      本站总访问量
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>


        
      </div>
    </footer>

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
      search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.popup').toggle();
    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';
      $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = $( "entry", xmlResponse ).map(function() {
            return {
              title: $( "title", this ).text(),
              content: $("content",this).text(),
              url: $( "url" , this).text()
            };
          }).get();
          var $input = document.getElementById(search_id);
          var $resultContent = document.getElementById(content_id);
          $input.addEventListener('input', function(){
            var matchcounts = 0;
            var str='<ul class=\"search-result-list\">';
            var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
            $resultContent.innerHTML = "";
            if (this.value.trim().length > 1) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var content_index = [];
                var data_title = data.title.trim().toLowerCase();
                var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                var data_url = decodeURIComponent(data.url);
                var index_title = -1;
                var index_content = -1;
                var first_occur = -1;
                // only match artiles with not empty titles and contents
                if(data_title != '') {
                  keywords.forEach(function(keyword, i) {
                    index_title = data_title.indexOf(keyword);
                    index_content = data_content.indexOf(keyword);
                    if( index_title >= 0 || index_content >= 0 ){
                      isMatch = true;
                      if (i == 0) {
                        first_occur = index_content;
                      }
                    }

                  });
                }
                // show search results
                if (isMatch) {
                  matchcounts += 1;
                  str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                  var content = data.content.trim().replace(/<[^>]+>/g,"");
                  if (first_occur >= 0) {
                    // cut out 100 characters
                    var start = first_occur - 20;
                    var end = first_occur + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if(start == 0){
                      end = 50;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    var match_content = content.substring(start, end);
                    // highlight all keywords
                    keywords.forEach(function(keyword){
                      var regS = new RegExp(keyword, "gi");
                      match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                    });

                    str += "<p class=\"search-result\">" + match_content +"...</p>"
                  }
                  str += "</li>";
                }
              })};
            str += "</ul>";
            if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
            if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
            $resultContent.innerHTML = str;
          });
          proceedsearch();
        }
      });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>





  

  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  


  <script type="text/javascript" src="/js/src/particle.js" count="50" zindex="-2" opacity="1" color="0,104,183"></script>
</body>
</html>
