<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  Android Studio整体学习 - MagicalRice的Blog
  
  </title>
  
  
  <link href="atom.xml" rel="alternate" title="MagicalRice的Blog" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />
    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
  <script src="asset/highlightjs/highlight.pack.js"></script>
  <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
  function before_search(){
    var searchVal = 'site:adolph.cc ' + document.getElementById('search_input').value;
    document.getElementById('search_q').value = searchVal;
    return true;
  }
</script>
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>


  <section class="top-bar-section">
  <div class="row">
      <div style="position: relative;width:100%;"><div style="position: absolute; width:100%;">
        <ul id="main-menu" class="left">
        
        <li id=""><a target="self" href="index.html">Home</a></li>
        
        <li id=""><a target="_self" href="archives.html">Archives</a></li>
        
        </ul>

        <ul class="right" id="search-wrap">
          <li>
<form target="_blank" onsubmit="return before_search();" action="https://google.com/search" method="get">
    <input type="hidden" id="search_q" name="q" value="" />
    <input tabindex="1" type="search" id="search_input"  placeholder="Search"/>
</form>
</li>
          </ul>
      </div></div>
  </div>
  </section>

</nav>

        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; MagicalRice的Blog</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
        
        <li><a target="self" href="index.html">Home</a></li>
        
        <li><a target="_self" href="archives.html">Archives</a></li>
        

    <li><label>Categories</label></li>

        
            <li><a href="Android.html">Android</a></li>
        
            <li><a href="%E6%9C%8D%E5%8A%A1%E5%99%A8.html">服务器</a></li>
        
            <li><a href="C++.html">C++</a></li>
        
            <li><a href="UI.html">UI</a></li>
        
            <li><a href="MySQL.html">MySQL</a></li>
        
            <li><a href="%E7%AE%97%E6%B3%95.html">算法</a></li>
        
            <li><a href="Game.html">Game</a></li>
        
            <li><a href="Python.html">Python</a></li>
        
            <li><a href="%E8%B7%A8%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91.html">跨平台开发</a></li>
         

      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>


        <section id="main-content" role="main" class="scroll-container">
        
       

 <script type="text/javascript">
  $(function(){
    $('#menu_item_index').addClass('is_active');
  });
</script>
<div class="row">
  <div class="large-8 medium-8 columns">
      <div class="markdown-body article-wrap">
       <div class="article">
          
          <h1>Android Studio整体学习</h1>
     
        <div class="read-more clearfix">
          <span class="date">2018/4/10</span>

          <span>posted in&nbsp;</span> 
          
              <span class="posted-in"><a href='Android.html'>Android</a></span>
           
         
          <span class="comments">
            

            
          </span>

        </div>
      </div><!-- article -->

      <div class="article-content">
      <h2 id="toc_0">前言</h2>

<p>开发Android也有一年多的时间了，一直使用Android Studio。虽然一直都能正常开发，但是在开发过程中，对IDE的不熟悉还是会导致各种各样的问题，也会拉低开发效率去网上搜索。所以我想整体学习了解下Android Studio的使用，记录方便日后查询。</p>

<span id="more"></span><!-- more -->

<h2 id="toc_1">偏好设置</h2>

<h3 id="toc_2">基础配置</h3>

<h4 id="toc_3">编码方式</h4>

<p>操作步骤: Preferences -&gt; Editor -&gt; File Encodings</p>

<h3 id="toc_4">个性化配置</h3>

<h4 id="toc_5">字体和大小</h4>

<p><strong>操作步骤</strong>: Preferences -&gt; Appearance &amp; Behavior -&gt; Appearance -&gt; 勾选【Override default fonts by (not recommended)】 -&gt; 选择所要的字体和字号<br/><br/>
<strong>设置的是IDE的操作界面的字体和字号</strong></p>

<h2 id="toc_6">工作台</h2>

<h3 id="toc_7">菜单栏</h3>

<h4 id="toc_8">文件（File）</h4>

<h4 id="toc_9">编辑（Edit）</h4>

<h4 id="toc_10">视图（View）</h4>

<h4 id="toc_11">Navigate（导航）</h4>

<h4 id="toc_12">代码（Code）</h4>

<h4 id="toc_13">分析（Analyze）</h4>

<h4 id="toc_14">重构（Refactor）</h4>

<h4 id="toc_15">构建（Build）</h4>

<h4 id="toc_16">运行（Run）</h4>

<h4 id="toc_17">工具（Tools）</h4>

<h4 id="toc_18">版本控制系统（VCS）</h4>

<h4 id="toc_19">窗口（Window）</h4>

<h4 id="toc_20">帮助（Help）</h4>

<h3 id="toc_21">导航条</h3>

<p><strong>菜单栏中View -&gt; 勾选Navigation Bar可以显示导航条</strong></p>

<p><figure><img src="media/15561207873035/15713064753475.jpg" alt=""/></figure></p>

<h3 id="toc_22">工具条</h3>

<p>Android Studio的工具条分布在主界面的左右两边和底部。可以通过<strong>菜单栏-&gt;View-&gt;Tool Windows -&gt; 查看Android Studio支持的所有工具列表</strong></p>

<h3 id="toc_23">工具窗口</h3>

<h4 id="toc_24">项目工具窗口（Project）</h4>

<p>提供多种视图模式来查看项目结构</p>

<h4 id="toc_25">收藏夹工具窗口（Favorite）</h4>

<p>可以添加经常查看或使用的文件和代码片段，以便快速查看</p>

<h4 id="toc_26">结构工具窗口（Structure）</h4>

<p>以树状形式展示文件中元素的层次结构。单击元素可以跳转到编辑器中对应代码的位置</p>

<h4 id="toc_27">待处理任务工具窗口（TODO）</h4>

<p>在Android Studio中待处理的任务可以注释使用TODO标识，该窗口显示所有待处理的任务</p>

<h4 id="toc_28">Android监控工具窗口（Android Profiler）</h4>

<h5 id="toc_29">CPU监控</h5>

<h5 id="toc_30">内存监控</h5>

<h5 id="toc_31">网络监控</h5>

<h4 id="toc_32">Logcat日志输出面板</h4>

<h4 id="toc_33">快照工具窗口（Captures）</h4>

<p>存放Android Monitor的dump处的heap、allocation、系统信息、布局解析等文件</p>

<h4 id="toc_34">构建变体工具窗口（Build Variants）</h4>

<p>用来选择当前多渠道版本的构建，执行Build APK会构建出选中的渠道版本</p>

<h4 id="toc_35">Gradle工具窗口（Gradle project）</h4>

<p>列出了当前项目和模块中支持的所有Gradle任务和运行配置，以便快速操作</p>

<h2 id="toc_36">项目</h2>

<table>
<thead>
<tr>
<th style="text-align: left">文件/目录名</th>
<th style="text-align: left">说明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">NewProject</td>
<td style="text-align: left">项目</td>
</tr>
<tr>
<td style="text-align: left">NewProject</td>
<td style="text-align: left">自动生成的用于存放Android Studio配置文件的目录，包括版权、检查配置、jar包信息、项目名、编译、编码、gradle、模块等</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app</td>
<td style="text-align: left">项目中的模块</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/build</td>
<td style="text-align: left">模块编译后的文件存放目录</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/libs</td>
<td style="text-align: left">模块依赖的jar包存放目录</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/androidTest</td>
<td style="text-align: left">Android单元测试代码存放目录</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/test</td>
<td style="text-align: left">本地单元测试代码存放目录</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main</td>
<td style="text-align: left">代码和资源存放目录</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/java</td>
<td style="text-align: left">代码目录</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res</td>
<td style="text-align: left">资源目录</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/drawable</td>
<td style="text-align: left">存放能转化为绘制资源的位图文件或定义了绘制资源的XML文件(后缀为.png,.9.png,.jpg,.gif的图像文件)</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/layout</td>
<td style="text-align: left">存放定义了用户界面布局的XML布局</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/anim</td>
<td style="text-align: left">存放定义了补间动画或逐帧动画的XML文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/animator</td>
<td style="text-align: left">存放定义了属性动画的XML文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/transition</td>
<td style="text-align: left">存放定义了场景过渡动画的XML文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/menu</td>
<td style="text-align: left">存放定义了应用程序菜单资源的XML文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/mipmap</td>
<td style="text-align: left">存放启动图标目录</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/mipmap-mdpi</td>
<td style="text-align: left">中密度，适用于屏幕密度为160的手机屏幕</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/mipmap-hdpi</td>
<td style="text-align: left">高密度，适用于屏幕密度为240的手机屏幕</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/mipmap-xhdpi</td>
<td style="text-align: left">超高密度，适用于屏幕密度为320的手机屏幕</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/mipmap-xxhdpi</td>
<td style="text-align: left">超超高密度，适用于屏幕密度为480的手机屏幕</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/mipmap-xxxhdpi</td>
<td style="text-align: left">超超超高密度，适用于屏幕密度为640的手机屏幕</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/values</td>
<td style="text-align: left">存放定义了多种类型资源的XML文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/values/color</td>
<td style="text-align: left">存放定义了颜色状态列表资源的XML文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/jniLibs</td>
<td style="text-align: left">so文件存放目录</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/assets</td>
<td style="text-align: left">附加的资源文件存放目录</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/src/main/res/AndroidManifest.xml</td>
<td style="text-align: left">应用程序配置文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/.gitignore</td>
<td style="text-align: left">模块中Git忽略配置文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/app.iml</td>
<td style="text-align: left">模块配置文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/build.gradle</td>
<td style="text-align: left">模块构建配置文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/app/proguard-rules.pro</td>
<td style="text-align: left">代码混淆配置文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/build</td>
<td style="text-align: left">项目编译目录</td>
</tr>
<tr>
<td style="text-align: left">NewProject/gradle</td>
<td style="text-align: left">gradle目录</td>
</tr>
<tr>
<td style="text-align: left">NewProject/.gitignore</td>
<td style="text-align: left">项目中Git的忽略配置文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/build.gradle</td>
<td style="text-align: left">项目构建配置文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/gradle.properties</td>
<td style="text-align: left">gradle配置文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/gradlew</td>
<td style="text-align: left">gradlew配置文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/gradlew.bat</td>
<td style="text-align: left">Windows上的gradlew配置文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/local.preperties</td>
<td style="text-align: left">属性配置文件</td>
</tr>
<tr>
<td style="text-align: left">NewProject/settings.gradle</td>
<td style="text-align: left">全局配置文件</td>
</tr>
<tr>
<td style="text-align: left">External Libraries</td>
<td style="text-align: left">项目中使用到的依赖库存放目录</td>
</tr>
<tr>
<td style="text-align: left">External Libraries/&lt; Andriod API 23 Platform &gt;</td>
<td style="text-align: left">Android SDK版本和存放路径</td>
</tr>
<tr>
<td style="text-align: left">External Libraries/&lt; 1.7 &gt;</td>
<td style="text-align: left">JDK版本和存放路径</td>
</tr>
</tbody>
</table>

<h3 id="toc_37">创建可编译的资源文件</h3>

<p><strong>操作步骤</strong>: File -&gt; 右击module -&gt; New -&gt; Android resource file -&gt; 弹出【New Resource File】</p>

<ul>
<li>File Name: 新建的资源文件名</li>
<li>Resource type: 资源类型</li>
<li>Root element: XML文件的根属性</li>
<li>Source set: 编译时引用的资源文件的来源设置，默认的是main,debug,release</li>
<li>Directory name: 资源文件的目录名与资源类型一一对应，不可更改</li>
<li>Available aualifiers: 可用的资源限定符
<ul>
<li>Country Code: 移动设备国家代码，唯一识别移动用户所属国家</li>
<li>Network Code: 移动设备网络代码，与Country Code相结合，用来表示唯一一个移动设备的网络运营商</li>
<li>Local: 国际化(多语言)</li>
<li>Layout Direction: 布局方向</li>
<li>Smallest Screen Width: 最小屏幕宽度。这个值是布局支持的最小宽度，而不管屏幕的当前方向</li>
<li>Screen Width: 最小的可用屏幕宽度。当方向在横向和纵向之间改变时，这个值会跟当前的实际宽度相匹配</li>
<li>Screen Height: 最小的可用屏幕高度</li>
<li>Size: 屏幕尺寸
<ul>
<li>Small: 小屏幕尺寸，320 * 426dp</li>
<li>Normal: 中等屏幕尺寸，320 * 470dp</li>
<li>Large: 大屏幕尺寸，480 * 640dp</li>
<li>X-large: 超大屏幕尺寸，720 * 960dp</li>
</ul></li>
<li>Ratio: 宽高比率，指的是实际的物理尺寸宽高比率，分为Long和NotLong</li>
<li>Orientation: 限制横竖屏切换
<ul>
<li>Portrait: 竖屏</li>
<li>Landscape: 横屏</li>
<li>Square: 正方形</li>
</ul></li>
<li>UI Mode: UI模式
<ul>
<li>Car Dock: 车座</li>
<li>Desk Dock: 桌座</li>
<li>Television: 电视上</li>
<li>Application: 装置</li>
<li>Watch: 手表</li>
</ul></li>
<li>Night Mode: 夜间模式
<ul>
<li>Not Night: 白天</li>
<li>Night: 夜间</li>
</ul></li>
<li>Density: 密度,指定不同密度的手机使用不同的资源</li>
<li>Touch Screen: 触屏类型
<ul>
<li>No Touch: 非触屏</li>
<li>Stylus: 触控笔</li>
<li>Finger: 手指</li>
</ul></li>
<li>Keyboard: 键盘类型
<ul>
<li>Exposed: 设备有可用的键盘</li>
<li>Hidden: 设备有可用的硬键盘</li>
<li>Soft: 设备有可用的软键盘</li>
</ul></li>
<li>Text Input: 文本输入法
<ul>
<li>No Keys: 设备没有用于文本输入的硬键盘</li>
<li>Qwerty: 设备有标准的硬键盘</li>
<li>12Key: 设备有12个键的硬键盘</li>
</ul></li>
<li>Navigation State: 导航键的状态
<ul>
<li>Exposed: 导航键可用</li>
<li>Hidden: 导航键不可用</li>
</ul></li>
<li>Navigation Method: 导航方法
<ul>
<li>None: 除了使用触屏以外，设备没有其他导航设施</li>
<li>D-pad: 设备有用于导航的定向板</li>
<li>Trackball: 设备有用于导航的轨迹球</li>
<li>Wheel: 设备有用于导航的定向滚轮</li>
</ul></li>
<li>Dimension: 自定义屏幕尺寸</li>
<li>Version: 版本,设备支持的API级别</li>
</ul></li>
</ul>

<h3 id="toc_38">创建不同分辨率图标</h3>

<p><strong>操作步骤</strong>: File -&gt; 右击Module -&gt; New -&gt; Image Asset -&gt; Asset Studio对话框</p>

<ul>
<li>Icon Type: 图标类型
<ul>
<li>Launcher Icons(Adaptive and Legacy): 自适应和传统的图标</li>
<li>Launcher Icons(Legacy Only): 传统图标</li>
<li>Action Bar and Tab Icons: 标题栏和选项卡图标</li>
<li>Notification Icons: 通知图标</li>
</ul></li>
<li>Asset Type: 资源类型
<ul>
<li>Image: 本地图片，自动生成不同分辨率的图标</li>
<li>Clip Art: 剪贴画，Android Icon</li>
<li>Text: 文字图标</li>
</ul></li>
<li>Trim: 去除图标周围多余的空白</li>
<li>Scaling: 图标缩放</li>
<li>Shape: 图标形状</li>
<li>Effect: 设置文件折叠特效</li>
</ul>

<h3 id="toc_39">创建矢量图</h3>

<p><strong>操作步骤</strong>: File -&gt; 右击Module -&gt; New -&gt; Vector Asset -&gt; Configure Image Asset对话框</p>

<p>可以同时使用Android提供的和本地的svg图片<br/>
可以设置颜色，大小和透明度</p>

<h3 id="toc_40">创建AIDL文件</h3>

<p><strong>操作步骤</strong>: File -&gt; 右击Module -&gt; New -&gt; AIDL -&gt; AIDL File</p>

<h3 id="toc_41">创建Android文件夹</h3>

<table>
<thead>
<tr>
<th style="text-align: left">文件夹</th>
<th style="text-align: left">作用</th>
<th style="text-align: left">默认位置</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">AIDL Folder</td>
<td style="text-align: left">用于存放AIDL文件</td>
<td style="text-align: left">src/main/aidl/</td>
</tr>
<tr>
<td style="text-align: left">Assets Folder</td>
<td style="text-align: left">用于存放原生资源文件</td>
<td style="text-align: left">src/main/assets/</td>
</tr>
<tr>
<td style="text-align: left">JNI Folder</td>
<td style="text-align: left">用于存放JNI文件</td>
<td style="text-align: left">src/main/jni/</td>
</tr>
<tr>
<td style="text-align: left">Java Folder</td>
<td style="text-align: left">用于存放Java文件</td>
<td style="text-align: left">src/main/java/</td>
</tr>
<tr>
<td style="text-align: left">Java Resources Folder</td>
<td style="text-align: left">用于存放Java资源文件</td>
<td style="text-align: left">src/main/resources/</td>
</tr>
<tr>
<td style="text-align: left">RenderScript Folder</td>
<td style="text-align: left">用于存放RenderScript文件</td>
<td style="text-align: left">src/main/rs/</td>
</tr>
<tr>
<td style="text-align: left">Res Folder</td>
<td style="text-align: left">用于存放Android资源文件</td>
<td style="text-align: left">src/main/res/</td>
</tr>
</tbody>
</table>

<h3 id="toc_42">创建Resource Bundle文件</h3>

<p>ResourceBundle(资源绑定)最大好处是可以使程序国际化，在bundle文件名后加上国家、语言关键字，系统就会自动载入相应的bundle文件。<br/>
properties文件一般的命名规范是: 自定义名_语言代码_国别代码.properties</p>

<p><strong>操作步骤</strong>: File -&gt; 右击Module -&gt; New -&gt; Resource Bundle -&gt; 输入文件名&quot;success&quot; -&gt; 添加语言代码 -&gt; 双击打开properties -&gt; 切换到Resource Bundle -&gt; 点击+ -&gt; 输入主键 -&gt; 可以同时编辑不同语言的值</p>

<h2 id="toc_43">管理</h2>

<h3 id="toc_44">项目窗口</h3>

<p>Android Studio中支持好多种视图模式，要学会在适合的时候用适合的视图，提高开发效率</p>

<p><figure><img src="media/15561207873035/15713064898522.jpg" alt=""/></figure></p>

<h4 id="toc_45">视图模式</h4>

<h5 id="toc_46">Project视图模式</h5>

<p>Project视图模式展示全部文件信息，文件的位置是真实的物理结构。因此在查看文件的时候建议切换到Project模式。</p>

<h5 id="toc_47">Packages视图模式</h5>

<p>Packages视图模式仅显示项目本身的代码和资源，其他的信息被隐藏了，代码和资源都以层级文件的形式显示。</p>

<h5 id="toc_48">Scratches视图模式</h5>

<p>Scratches视图模式只显示草稿文件。</p>

<p>Scratch Files(草稿文件)是一个非常方便的功能，可以帮助我们快速实验和建立原型，可以在不修改项目和创建任何文件的情况下快速画出草图。</p>

<h5 id="toc_49">Android视图模式</h5>

<p>Android视图模式会把一些我们不关心的文件和目录隐藏起来，以一种扁平化的方式显示项目结构，文件和目录通过类型进行分类，可以非常方便的查看文件。</p>

<h5 id="toc_50">Project Files视图模式</h5>

<p>Project Files视图模式是类似Eclipse的项目结构类型。</p>

<h5 id="toc_51">Problems视图模式</h5>

<p>Problems模式仅显示报错的文件结构。</p>

<h5 id="toc_52">Production视图模式</h5>

<p>Production模式仅显示生产文件结构。</p>

<h5 id="toc_53">Tests视图模式</h5>

<p>Tests模式仅显示测试文件结构。</p>

<h4 id="toc_54">常用设置和操作</h4>

<h5 id="toc_55">展开和收缩窗口</h5>

<p><strong>展开窗口</strong>: shift + command + -&gt; 每操作一次窗口向右扩展一下<br/><br/>
<strong>收缩窗口</strong>: shift + command + &lt;- 每操作一次窗口向左收缩一下<br/><br/>
<strong>最大化窗口</strong>: shift + command + &quot;&#39;&quot;  </p>

<h5 id="toc_56">定位文件在项目中的位置</h5>

<p>Scroll from Source按钮</p>

<h5 id="toc_57">收起所有项目</h5>

<p>Collapse All按钮</p>

<p>command + &quot;-&quot;</p>

<h5 id="toc_58">扁平化显示包名</h5>

<p>选中 Flatten Packages，所有包名都会显示在同一级目录下，不会有层次结构</p>

<h5 id="toc_59">隐藏空的中间包名</h5>

<p>选中 Hide Empty Middle Packages。项目窗口中的含有空文件夹的包名将会被隐藏。</p>

<h5 id="toc_60">缩写限定包名</h5>

<p>选中 Abbreviate Qualified Package Names。项目缩写包名</p>

<h5 id="toc_61">显示成员</h5>

<p>选中 Show Members。让项目窗口中的文件显示其他成员(字段、方法)</p>

<h5 id="toc_62">按类型排序</h5>

<p>选中 Sort By Type。让文件按类型排序，否则项目窗口中的文件按字母排序。</p>

<h5 id="toc_63">文件夹显示在文件之前</h5>

<p>选中 Folder Always on Top。让所有文件夹始终在文件之前，否则所有的文件和文件夹都会混在一起，按字母排序。</p>

<h5 id="toc_64">单击文件打开源码</h5>

<p>选中 Autoscroll to Source。项目窗口中单击文件就能够在编辑器中自动打开。</p>

<h5 id="toc_65">从源码定位到文件</h5>

<p>选中 Autoscroll from Source。打开源码后自动定位到该文件在项目窗口中的位置。</p>

<h3 id="toc_66">项目管理</h3>

<h4 id="toc_67">管理最近打开的项目</h4>

<h5 id="toc_68">为最近打开的项目进行分组</h5>

<p>方便管理多个项目</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; File -&gt; Open Recent -&gt; Manager Projects。<br/>
新建分组: 右击项目名称 -&gt; New Project Group -&gt; 输入分组名 -&gt; OK。<br/>
添加分组: 右击项目名称 -&gt; Move To Group —&gt; 在列出的项目分组中选择目标分组。</p>

<h5 id="toc_69">改变目标默认图标</h5>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; File -&gt; Open Recent -&gt; Manager Projects —&gt; 右击项目名称 -&gt; Change Icon。</p>

<h5 id="toc_70">从欢迎界面移除</h5>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; File -&gt; Open Recent -&gt; Manager Projects —&gt; 右击项目名称 -&gt; Remove Selected from  Welcome Screen。</p>

<h5 id="toc_71">设置记录最近打开项目的个数</h5>

<p>Android Studio默认记录最新的50个项目。<br/>
<strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; 单击General -&gt; 在Limits中调整Recent files limit个数。</p>

<h4 id="toc_72">清除缓存/重启Android Studio</h4>

<p>当我们直接修改Android Studio的配置文件时，配置没有生效或者遇到一些莫名其妙的错误时，可以尝试清除缓存再重启Android Studio来解决问题</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; File -&gt; Invalidate Caches/Restart(清除缓存/重启) -&gt; 进入确认界面。</p>

<h3 id="toc_73">收藏夹</h3>

<p>在Android Studio的日常编码中，如果某个文件或某段代码使我们经常需要查看或试用的，就可以把它添加到收藏夹中，以便快速查看。</p>

<h4 id="toc_74">添加</h4>

<p><strong>添加文件</strong>: 右击文件 -&gt; Add to Favorites -&gt; 选中已存在的收藏夹中的收藏列表或添加到一个新建的收藏列表。<br/><br/>
<strong>添加方法</strong>: 将光标放在方法名上 -&gt; 菜单栏 -&gt; File -&gt; Add to Favorites -&gt; Add New Favorites List -&gt; 选中已存在的收藏夹中的收藏列表或添加到一个新建的收藏列表。<br/><br/>
<strong>添加断点</strong>: 打上断点，断点会自动被添加到收藏夹。</p>

<h3 id="toc_75">TODO</h3>

<p>在Android Studio中待处理的任务可以再注释中使用TODO来标识，以表明这个地方是需要注意的，既有可能是未完成的功能，也有可能是需要解决的BUG或者是需要优化的代码。</p>

<h4 id="toc_76">添加TODO任务</h4>

<p>在注释中输入TODO关键字</p>

<h4 id="toc_77">功能键</h4>

<ul>
<li>Expand All 展开所有</li>
<li>Collapse All 收起所有</li>
<li>Group By Modules 按模块分组</li>
<li>Group By Packages 按包名分组</li>
<li>Flatten Packages 扁平化显示包名</li>
<li>Autoscroll to Source 自动打开源码</li>
<li>Preview Source 自动预览源码</li>
<li>Previous TODO 向上跳转任务</li>
<li>Next TODO 向下跳转任务</li>
<li>Filter TODO items 过滤任务</li>
</ul>

<p>可以在偏好设置 -&gt; Editor -&gt; TODO 中进行设置</p>

<h4 id="toc_78">自定义TODO关键字</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; TODO -&gt; 添加按钮 -&gt; 输入匹配表达式 -&gt; 选择icon -&gt; 设置颜色</p>

<h2 id="toc_79">编辑</h2>

<h3 id="toc_80">合并两行内容</h3>

<p>通常我们要合并两行内容都是狂按删除键来删除两行之间的空格，然后对代码的格式进行调整。Android Studio给我们提供了一个自动合并两行内容的功能，可以智能地合并字符串、注释、声明和赋值，一键完成以上操作。</p>

<p>菜单栏: Edit -&gt; Join Lines<br/><br/>
快捷键: control + Shift + J</p>

<h3 id="toc_81">选择技巧</h3>

<h4 id="toc_82">扩大缩小选择范围</h4>

<h5 id="toc_83">扩大</h5>

<p>菜单栏: Edit -&gt; Extend Selection<br/><br/>
快捷键: option + 向上箭头</p>

<h5 id="toc_84">缩小</h5>

<p>菜单栏: Edit -&gt; Shrink Selection<br/><br/>
快捷键: option + 向下箭头</p>

<h4 id="toc_85">列选择模式</h4>

<p>菜单栏: Edit -&gt; Column Selection Mode<br/><br/>
快捷键: Shift + command + 8</p>

<h3 id="toc_86">自动补全当前的语句</h3>

<p>菜单栏: Edit -&gt; Complete Current Statement<br/><br/>
快捷键: Shift + command + 回车</p>

<h3 id="toc_87">一键切换大小写</h3>

<p>菜单栏: Edit -&gt; Toggle Case<br/>
快捷键: Shift + command + U</p>

<h3 id="toc_88">查找工具栏</h3>

<h4 id="toc_89">打开查找工具栏</h4>

<p>快捷键: command + F</p>

<h4 id="toc_90">查找范围设置</h4>

<ul>
<li>In Comments Only: 仅在注释中搜索</li>
<li>In Literals Only: 仅在文本中搜索</li>
<li>Except Comments: 注释除外</li>
<li>Except Literals: 文本除外</li>
<li>Except Comments and Literals: 注释和文本除外</li>
</ul>

<h3 id="toc_91">指定查找路径</h3>

<p>除了在当前文件中查找以外，还可以在其他路径中查找，另外，还可以设置很多查找条件，以方便更加精确和快速地得到查找结果。</p>

<p>菜单栏: Edit -&gt; Find -&gt; Find in Path...<br/><br/>
快捷键: shift + command + F</p>

<h3 id="toc_92">指定替换路径</h3>

<p>菜单栏: Edit -&gt; Find -&gt; Replace in Path...<br/><br/>
快捷键: shift + command + R</p>

<ul>
<li>单击【Replace】: 一个个替换</li>
<li>单击【Skip】: 会跳过当前匹配结果</li>
<li>单击【Replace All in This File】: 替换当前文件中所有的匹配结果</li>
<li>单击【Skip To Next File】: 会跳跳到下一个文件</li>
<li>单击【All Files】: 全部替换</li>
<li>单击【Review】: 在工具栏显示查找结果，单击结果可以查看详情</li>
</ul>

<h3 id="toc_93">在结构中查找和替换</h3>

<p>Android Studio提供了一个使用代码模板查找和替换的方式，可以方便地定义代码模板</p>

<p><strong>操作步骤</strong>:菜单栏 -&gt; Edit -&gt; Find -&gt; Search Structurally/Replace Structurally -&gt; 打开【Structural Search】</p>

<h3 id="toc_94">查找用法</h3>

<p>想看方法或者变量在哪些地方进行调用</p>

<p>菜单栏: Edit -&gt; Find -&gt; Find Usages<br/><br/>
右键菜单: Find Usages<br/><br/>
快捷键: fn + option + F7</p>

<ul>
<li>Skip results tab with one usage: 当搜索的数据只有一个地方使用时，不显示搜索结果标签，光标会直接跳到使用的地方。</li>
<li>Scope: 设置查找范围，使查找更加快速和精确</li>
<li>Open in new tab: 如果勾选了此项，每一次查找都会打开一个新的标签，如果不勾选此项，那么每次新的查找结果将会覆盖上一次的查找结果</li>
</ul>

<h3 id="toc_95">显示用法</h3>

<p>显示用法功能不会另外打开一个工具窗口来显示查找结果，而是直接弹出提示框显示数据在何处被使用。</p>

<p>菜单栏: Edit -&gt; Find -&gt; Show Usages<br/>
快捷键: fn + option + command + F7</p>

<h4 id="toc_96">功能</h4>

<ul>
<li>合并相同行</li>
<li>显示读取访问权限</li>
<li>显示写访问权限</li>
<li>显示import语句</li>
<li>按文件结构分组</li>
</ul>

<h3 id="toc_97">查看在当前文件中的用法</h3>

<p>菜单栏: Edit -&gt; Find -&gt; Find Usages in File<br/>
快捷键: command + F7</p>

<h3 id="toc_98">Macros(宏)</h3>

<p>宏是一种批处理的称谓，由一些命令组织在一起，作为一个单独的命令来完成一个特定任务。</p>

<h4 id="toc_99">录制回放宏</h4>

<ol>
<li>选择Eidt -&gt; Macros -&gt; Start Macros Recording -&gt; Android Studio右下角显示开始录制提示</li>
<li>按快捷键command + s保存文件</li>
<li>按快捷键control + s运行代码</li>
<li>选择Eidt -&gt; Macros -&gt; Stop Macros Recording -&gt; 在输入框中输入已录制宏的名字</li>
<li>定义快捷键。选择Android Studio -&gt; Keymap -&gt; Macros -&gt; 找到刚才录制的宏【AutoSaveAndRun】</li>
</ol>

<h2 id="toc_100">视图</h2>

<h3 id="toc_101">工具窗口</h3>

<h4 id="toc_102">显示/隐藏工具窗口</h4>

<ul>
<li>打开/隐藏 项目工具窗口: command + 1</li>
<li>打开/隐藏 收藏工具窗口: command + 2</li>
<li>打开/隐藏 运行窗口: command + 4</li>
<li>打开/隐藏 调试窗口: command + 5</li>
<li>打开/隐藏 Android Monitor工具窗口: command + 6</li>
<li>打开/隐藏 项目结构窗口: command + 7</li>
<li>打开/隐藏 版本控制工具窗口: command + 9</li>
<li>打开/隐藏 终端工具窗口: fn + option + F12</li>
</ul>

<h4 id="toc_103">快速切换工具窗口</h4>

<p>快捷键: control + Tab</p>

<h3 id="toc_104">查看同胞元素</h3>

<p>快速查看同胞元素是指查看跟当前类一样继承自同一个父类的所有元素<br/><br/>
<strong>操作步骤</strong>:菜单栏 -&gt; View -&gt; Show Siblings</p>

<h3 id="toc_105">查看文档</h3>

<p>菜单栏: View -&gt; Quick Documentation<br/><br/>
快捷键: fn + F1</p>

<h4 id="toc_106">设置鼠标悬停在元素上会显示文档提示</h4>

<p><strong>操作步骤</strong>:偏好设置 -&gt; Editor -&gt; General -&gt; Other -&gt; 勾选【Show quick documentation on mouse move】</p>

<h3 id="toc_107">查看方法的参数信息</h3>

<p>菜单栏: View -&gt; Parameter Info<br/><br/>
快捷键: command + P</p>

<h3 id="toc_108">查看上下文信息</h3>

<p>菜单栏: View -&gt; Context Info<br/><br/>
快捷键: control + shift + Q</p>

<h3 id="toc_109">查看源码</h3>

<p>菜单栏: View -&gt; Jump to Source<br/><br/>
快捷键: command + 向下箭头<br/><br/>
鼠标: 按住command键，再用鼠标单击对应的方法或类</p>

<h3 id="toc_110">查看最近打开过的文件</h3>

<p>菜单栏: View -&gt; Recent Files<br/><br/>
快捷键: command + E  </p>

<h3 id="toc_111">查看最近改动过的文件</h3>

<p>菜单栏: View -&gt; Recently Changed Files<br/><br/>
快捷键: shift + command + E  </p>

<h3 id="toc_112">查看最近的改动</h3>

<p>菜单栏: View -&gt; Recently Changed<br/><br/>
快捷键: shift + control + C</p>

<h3 id="toc_113">对比任意文件</h3>

<p>菜单栏: View -&gt; Compare With<br/><br/>
快捷键: command + D</p>

<p>将光标放在文件上，按快捷键command + D，选择要对比的文件。</p>

<ul>
<li>Do not ignore: 不忽略空格</li>
<li>Trim whitespaces: 删掉空格</li>
<li>Ignore whitespaces: 忽略空格</li>
<li><p>Ignore whitespaces and empty lines: 忽略空格和空行</p></li>
<li><p>Highlight lines: 高亮行</p></li>
<li><p>Highlight words: 高亮字</p></li>
<li><p>Highlight split changes: 高亮拆分的变动</p></li>
<li><p>collapse unchanged fragment: 折叠没有变动的代码片段</p></li>
<li><p>Show Whitespaces: 显示空格</p></li>
<li><p>Show Line Numbers: 显示行号</p></li>
<li><p>Show Indent Guides: 显示缩进向导</p></li>
<li><p>Use Soft Wraps: 使用自动换行</p></li>
</ul>

<h3 id="toc_114">将选中的文件和正在编辑的文件进行对比</h3>

<p>菜单栏: View -&gt; Compare File with Editor</p>

<h3 id="toc_115">将选中的文件和剪贴板上的内容进行对比</h3>

<p>菜单栏: View -&gt; Compare with Clipboard</p>

<h3 id="toc_116">设置编辑器是否显示空格</h3>

<p>默认编辑器是不会显示空格的</p>

<h4 id="toc_117">设置当前编辑器是否显示空格</h4>

<p>只对当前打开的文件进行临时设置，可以通过<br/><br/>
菜单栏: View -&gt; Active Editor -&gt; Show Whitespaces</p>

<h4 id="toc_118">设置整个编辑器显示空格</h4>

<p><strong>操作步骤</strong>:偏好设置 -&gt; Editor -&gt; General -&gt; Appearance -&gt; 勾选【Show whitespaces】</p>

<ul>
<li>Leading: 开头</li>
<li>Inner: 中间</li>
<li>Trailing: 结尾</li>
</ul>

<h3 id="toc_119">设置编辑器是否显示行号</h3>

<p>默认编辑器是不会显示空格的</p>

<h4 id="toc_120">设置当前编辑器是否显示行号</h4>

<p>只对当前打开的文件进行临时设置，可以通过<br/><br/>
菜单栏: View -&gt; Active Editor -&gt; Show line number<br/><br/>
快捷键: 右击编辑器窗口左边栏 -&gt; Show Line Numbers</p>

<h4 id="toc_121">设置整个编辑器显示行号</h4>

<p><strong>操作步骤</strong>:偏好设置 -&gt; Editor -&gt; General -&gt; Appearance -&gt; 勾选【Show line numbers】</p>

<h3 id="toc_122">设置编辑器是否显示缩进向导</h3>

<p>默认编辑器是显示的</p>

<h4 id="toc_123">设置当前编辑器是否显示缩进向导</h4>

<p>只对当前打开的文件进行临时设置，可以通过<br/><br/>
菜单栏: View -&gt; Active Editor -&gt; Show Indent Guides<br/><br/>
快捷键: 右击编辑器窗口左边栏 -&gt; Show Indent Guides</p>

<h4 id="toc_124">设置整个编辑器显示缩进向导</h4>

<p><strong>操作步骤</strong>:偏好设置 -&gt; Editor -&gt; General -&gt; Appearance -&gt; 勾选【Show vertical indent guides】</p>

<h4 id="toc_125">设置整个编辑器显示行号</h4>

<p><strong>操作步骤</strong>:偏好设置 -&gt; Editor -&gt; General -&gt; Appearance -&gt; 勾选【Show line numbers】</p>

<h3 id="toc_126">设置编辑器是否使用自动换行</h3>

<h4 id="toc_127">设置当前编辑器使用自动换行</h4>

<p>只对当前打开的文件进行临时设置，可以通过<br/><br/>
菜单栏: View -&gt; Active Editor -&gt; Use Soft Wraps<br/><br/>
快捷键: 右击编辑器窗口左边栏 -&gt; Use Soft Wraps</p>

<h4 id="toc_128">设置整个编辑器使用自动换行</h4>

<p><strong>操作步骤</strong>:偏好设置 -&gt; Editor -&gt; General -&gt; 查看Soft Wraps -&gt; 勾选【Use soft wraps in editor】</p>

<h4 id="toc_129">让换行符一直显示</h4>

<p>如果想显示所有的换行符，就不要勾选【show soft wrap indicators for current line only】，该项只会显示当前正在编辑行的换行符</p>

<h4 id="toc_130">设置换行后的缩进字符</h4>

<p>默认换行第二行的缩进是从第0个字符开始的，如果想自定义换行后第二行的缩进，可以勾选【Use original line`s intent for wrapped parts】,设置Additional shift。</p>

<h3 id="toc_131">设置编辑器是否弹出导入提示</h3>

<p>默认编辑器是显示的</p>

<h4 id="toc_132">设置当前编辑器弹出导入提示</h4>

<p>只对当前打开的文件进行临时设置，可以通过<br/><br/>
<strong>操作步骤</strong>:菜单栏 -&gt; View -&gt; Active Editor -&gt; Show Import Popups</p>

<h4 id="toc_133">设置整个编辑器弹出导入提示</h4>

<p><strong>操作步骤</strong>:偏好设置 -&gt; Editor -&gt; General -&gt; Auto Import -&gt; Show Import Popup</p>

<h3 id="toc_134">使用演示模式</h3>

<p><strong>操作步骤</strong>:菜单栏 -&gt; View -&gt; Enter Presentation Mode</p>

<h4 id="toc_135">设置演示模式的字体大小</h4>

<p>使用演示模式会默认进入免打扰模式和全屏模式，如果不想进入免打扰模式和全屏模式可以单独退出<br/>
<strong>操作步骤</strong>:偏好设置 -&gt; Appearance&amp;Behavior -&gt; Appearance -&gt; Presentation Mode</p>

<h3 id="toc_136">使用免打扰模式</h3>

<p>如果不想界面上有其他多余的东西干扰，会隐藏菜单栏、工具栏<br/><br/>
<strong>操作步骤</strong>:菜单栏 -&gt; View -&gt; Enter Distraction Free Mode</p>

<h3 id="toc_137">使用全屏模式</h3>

<p><strong>操作步骤</strong>:菜单栏 -&gt; View -&gt; Enter Full Mode</p>

<h2 id="toc_138">导航</h2>

<h3 id="toc_139">搜索并打开类文件</h3>

<p>如果想在项目中搜索某个类文件  </p>

<p>菜单栏: Navigate -&gt; Class<br/><br/>
快捷键: command + N  </p>

<h3 id="toc_140">搜索并打开文件</h3>

<p>如果想在项目中搜索其他文件</p>

<p>菜单栏: Navigate -&gt; File<br/><br/>
快捷键: shift + command + N  </p>

<h3 id="toc_141">搜索并打开某个文件或方法</h3>

<p>如果想在项目中搜索文件和方法</p>

<p>菜单栏: Navigate -&gt; Symbol<br/><br/>
快捷键: option + shift + command + N  </p>

<h3 id="toc_142">自定义代码块</h3>

<p>选中自定义的代码片段 -&gt; 菜单栏: Code -&gt; Surround With 或 按快捷键option + command + T</p>

<p>可以修改代码块描述，并且可以和普通代码块一样对这段代码进行展开和折叠</p>

<h4 id="toc_143">在自定义代码块之间选择和跳转</h4>

<p>菜单栏: Navigate -&gt; Custom Folding<br/><br/>
快捷键: option + command + &quot;.&quot;</p>

<h3 id="toc_144">快速跳到某一行代码</h3>

<p>菜单栏: Navigate -&gt; Line<br/><br/>
快捷键: command + G</p>

<h3 id="toc_145">快速跳转到光标的历史位置</h3>

<p>菜单栏: Navigate -&gt; Back/Forward<br/><br/>
快捷键: command + &quot;[&quot; / &quot;]&quot;</p>

<h3 id="toc_146">快速跳转到编辑过的历史位置</h3>

<p>菜单栏: Navigate -&gt; Last Edit Location / Next Edit Location<br/><br/>
快捷键: shift + command + delete</p>

<h3 id="toc_147">标记书签</h3>

<p>对代码进行标记，标记我们阅读的位置</p>

<ul>
<li>Toggle Bookmark: 标记书签</li>
<li>Toggle Bookmark with Mnemonic: 使用助记符标记书签</li>
<li>Show Bookmark: 显示书签</li>
<li>Next Bookmark: 下一个书签</li>
<li>Previous Bookmark: 上一个书签</li>
</ul>

<p>菜单栏: Navigate -&gt; Bookmarks -&gt; Toggle Bookmark<br/>
快捷键: fn + F3</p>

<h3 id="toc_148">快速跳到声明</h3>

<p>在写代码或者阅读代码时，想快速查看一个引用首次被声明的位置<br/><br/>
菜单栏: Navigate -&gt; Declaration<br/><br/>
鼠标: 按住command + 单击类、变量或方法  </p>

<h3 id="toc_149">快速跳到实现</h3>

<p>菜单栏: Navigate -&gt; Implementation<br/><br/>
鼠标: option + command + B</p>

<h3 id="toc_150">快速跳到类型声明</h3>

<p>菜单栏: Navigate -&gt; Type Declaration<br/><br/>
快捷键: shift + command + B<br/><br/>
鼠标: 按住command + shift + B</p>

<h3 id="toc_151">快速跳转到父类</h3>

<p>菜单栏: Navigate -&gt; Super Method<br/><br/>
快捷键: command + U<br/><br/>
鼠标: 按住command + shift + B</p>

<h3 id="toc_152">类和测试类之间快速跳转</h3>

<h4 id="toc_153">快速跳转到测试类</h4>

<p>前提条件: 光标定位在类文件编辑界面<br/><br/>
菜单栏: Navigate -&gt; Test<br/><br/>
快捷键: shift + command + T</p>

<h3 id="toc_154">查看相关联的文件</h3>

<p>菜单栏: Navigate -&gt; Related Symbol<br/><br/>
快捷键: control + command + ↑</p>

<h3 id="toc_155">查看文件结构</h3>

<p>快速调出当前文件的结构，并通过模糊匹配快速跳转到指定的方法</p>

<p>菜单栏: Navigate -&gt; File Structure<br/><br/>
快捷键: fn + command + F12</p>

<h4 id="toc_156">显示匿名内部类</h4>

<p>在文件结构中显示匿名内部类，需要勾选【Show Anonymous Classes】</p>

<h4 id="toc_157">显示所有继承的方法</h4>

<p>在文件结构中显示匿名内部类，需要勾选【Show inherited members】</p>

<h4 id="toc_158">输入时缩小</h4>

<p>输入时缩小是指在输入搜索关键字时搜索结果会自动过滤，不匹配的会被过滤掉。勾选【Narrow down on tying】</p>

<h3 id="toc_159">查看类的层次结构图</h3>

<p>菜单栏: Navigate -&gt; Type Hierarchy<br/><br/>
快捷键: control + H</p>

<p>还可以切换类结构的显示方式、排序、筛选范围等</p>

<h3 id="toc_160">查看方法类型的层次结构</h3>

<p>菜单栏: Navigate -&gt; Type Method<br/><br/>
快捷键: shift + command + H</p>

<h3 id="toc_161">查看方法调用层次结构</h3>

<p>菜单栏: Navigate -&gt; Call Hierarchy<br/><br/>
快捷键: control + option + H</p>

<h3 id="toc_162">快速跳转到错误代码的位置</h3>

<h4 id="toc_163">跳转到下一个错误位置</h4>

<p>菜单栏: Navigate -&gt; Next Highlighted Error<br/><br/>
快捷键: fn + F12</p>

<h4 id="toc_164">跳转到上一个错误位置</h4>

<p>菜单栏: Navigate -&gt; Previous Highlighted Error<br/><br/>
快捷键: fn + Shift + F12</p>

<h3 id="toc_165">在方法间前后跳转</h3>

<h4 id="toc_166">跳转到下一个方法</h4>

<p>菜单栏: Navigate -&gt; Next Method<br/><br/>
快捷键: control + ↑</p>

<h4 id="toc_167">跳转到上一个方法</h4>

<p>菜单栏: Navigate -&gt; Previous Method<br/><br/>
快捷键: control + ↓</p>

<h3 id="toc_168">翻页功能</h3>

<p>向上翻页: fn + ↑<br/>
向下翻页: fn + ↓</p>

<h3 id="toc_169">选择当前功能在哪里显示</h3>

<p>菜单栏: Navigate -&gt; Select in<br/><br/>
快捷键: fn + option + F1</p>

<h3 id="toc_170">光标快速跳转到页首/页尾</h3>

<p>页首: fn + command + ←<br/>
页尾: fn + command + →</p>

<h2 id="toc_171">编码</h2>

<h3 id="toc_172">覆写或实现方法</h3>

<p>菜单栏: Code -&gt; Override Method<br/><br/>
快捷键: control + O</p>

<h3 id="toc_173">实现接口方法</h3>

<p>菜单栏: Code -&gt; Implement Methods<br/><br/>
快捷键: control + L</p>

<h3 id="toc_174">实现代理方法</h3>

<p>菜单栏: Code -&gt; Delegate Methods<br/><br/>
右键菜单: 右击 -&gt; Generate -&gt; Delegate Methods<br/>
快捷键: command + N</p>

<h3 id="toc_175">生成构造函数/生成Getter和Setter方法/覆写equals和hashcode方法/覆写toString方法/插入版权信息</h3>

<p>菜单栏: Code -&gt; Generate -&gt; Constructor/Getter and Setter/equals() and hashCode()/toString()/Copyright<br/><br/>
快捷键: command + N</p>

<h4 id="toc_176">配置版权信息</h4>

<p>菜单栏: Android Studio -&gt; Preferences -&gt; Copyright -&gt; Copyright Profiles  </p>

<h4 id="toc_177">共享版权信息配置</h4>

<p>我们创建的copyright文件放在项目根目录/.idea/copyright下，直接把copyright这个目录复制给团队中的其他人即可实现共享。</p>

<h3 id="toc_178">提取或删除代码</h3>

<p>如果我们想从for、foreach、if...elseif...else、try...catch...finally、while...do、do...while中快速提取或删除代码。</p>

<p>菜单栏: Code -&gt; Unwrap/Remove<br/><br/>
快捷键: command + shift + delete</p>

<h3 id="toc_179">自动补全提示</h3>

<p>菜单栏: Code -&gt; Completion -&gt; Basic<br/>
快捷键: control + 空格</p>

<h4 id="toc_180">智能自动补全提示</h4>

<p>该项会把不适用的条目过滤掉，只显示可用的类、变量、属性或方法</p>

<p>菜单栏: Code -&gt; Completion -&gt; SmartType<br/>
快捷键: control + Shift + 空格</p>

<h3 id="toc_181">代码补全</h3>

<h3 id="toc_182">补全后不删除后面的代码</h3>

<p><strong>操作步骤</strong>:弹出代码补全提示 -&gt; 选中补全代码 -&gt; 鼠标/Enter</p>

<h3 id="toc_183">补全后删除后面的代码</h3>

<p><strong>操作步骤</strong>:弹出代码补全提示 -&gt; 选中补全代码 -&gt; Tab</p>

<h4 id="toc_184">布尔值取反补全</h4>

<p><strong>操作步骤</strong>:弹出代码补全提示 -&gt; 选中补全代码 -&gt; 叹号(!)</p>

<h4 id="toc_185">点和分号补全</h4>

<p><strong>操作步骤</strong>:弹出代码补全提示 -&gt; 选中补全代码 -&gt; 点(.)或分号(;)</p>

<h3 id="toc_186">展开或折叠代码</h3>

<h4 id="toc_187">展开或折叠当前代码</h4>

<p>此功能仅会展开或折叠当前光标所在处的一段代码</p>

<p>菜单栏: Code -&gt; Folding -&gt; Expand/Collapse<br/><br/>
快捷键: command + &quot;+&quot;/&quot;-&quot;</p>

<h4 id="toc_188">展开或折叠当前代码块中的所有子模块</h4>

<p>菜单栏: Code -&gt; Folding -&gt; Expand Recursively/Collapse Recursively<br/><br/>
快捷键: option + command + &quot;+&quot;/&quot;-&quot;</p>

<h4 id="toc_189">展开或折叠全部代码块</h4>

<p>菜单栏: Code -&gt; Folding -&gt; Expand All/Collapse All<br/><br/>
快捷键: shift + command + &quot;+&quot;/&quot;-&quot;</p>

<h4 id="toc_190">展开或折叠当前文件中的所有注释</h4>

<p>菜单栏: Code -&gt; Folding -&gt; Expand doc comments/Collapse doc comments</p>

<h4 id="toc_191">指定展开层级</h4>

<p>指定展开代码层级: Code -&gt; Folding -&gt; Expand to level<br/><br/>
指定全部展开代码的层级: Code -&gt; Folding -&gt; Expand all to level</p>

<h4 id="toc_192">展开和折叠选中区域</h4>

<p>菜单栏: Code -&gt; Folding -&gt; Fold Selection/Remove regio<br/><br/>
快捷键: command + &quot;.&quot;</p>

<h4 id="toc_193">折叠代码片段</h4>

<p>此功能来折叠{}中的代码片】= + &quot;.&quot;</p>

<h3 id="toc_194">插入代码块</h3>

<p>Live Template就是把常用的代码提取成一个模板，在编写代码的时候可以通过非常少的字幕调出这个模板，达到快速输入，提高效率的目的。</p>

<p>菜单栏: Code -&gt; Insert Live Template<br/><br/>
快捷键: shift + command + &quot;.&quot;</p>

<h4 id="toc_195">类中常用的缩写</h4>

<ul>
<li><code>geti + tab //插入单例方法</code></li>
<li><code>psf + tab //插入public static final</code></li>
<li><code>psfi + tab //插入public static final int</code></li>
<li><code>psfs + tab //插入public static final String</code></li>
<li><code>psvm + tab //插入main方法声明</code></li>
<li><code>St + tab //插入String</code></li>
</ul>

<h4 id="toc_196">方法中常用的缩写</h4>

<h5 id="toc_197">常用代码模板</h5>

<ul>
<li><code>ifn + tab //null判断</code> <code>if(变量 == null){}</code></li>
<li><code>inn + tab //非空判断</code> <code>if(变量 != null){}</code></li>
<li><code>lazy + tab //延迟初始化</code> <code>if(对象 == null){ 对象 == new String();}</code></li>
<li><code>mn + tab //得到2个变量中较小的</code> <code>变量 = Math.min(变量1,变量2);</code></li>
<li><code>mx + tab //得到2个变量中较大的</code> <code>变量 = Math.max(变量1,变量2);</code></li>
<li><code>inst + tab //判断变量是否是某个对象的实例</code> <code>if(变量 instanceof Object){ Object = (Object)变量;}</code></li>
<li><code>toar + tab //把collection的对象存储到一个数组里</code> <code>.toArray(new Object[.size()])</code></li>
<li><code>thr + tab //抛出异常</code> <code>throw new</code></li>
</ul>

<h5 id="toc_198">循环遍历代码模板</h5>

<ul>
<li><code>fori + tab //for循环</code> <code>for(int i = 0; i &lt; ;i++){}</code></li>
<li><code>itar + tab //遍历数组</code> <code>for(int i = 0;i &lt; array.length;i++){=array[i];}</code></li>
<li><code>itco + tab //迭代器循环</code> <code>for(Iterator = collection.iterator();.hasNext();){Object = .next();}</code></li>
<li><code>iten + tab //遍历枚举内容</code> <code>while(enumeration.hasMoreElements()){Object = enumeration.nextElement();}</code></li>
<li><code>iter + tab //for each循环</code> <code>for(Onject :){}</code></li>
<li><code>itit + tab //遍历迭代器</code> <code>while(iterator.hasNext()){Object = iterator.next()}</code></li>
<li><code>itli + tab //遍历list</code> <code>for(int i = 0;i &lt; list.size();i++){Object o = list.get(i);}</code></li>
<li><code>ritar + tab //倒叙遍历数组</code> <code>for(int i = array.length - 1;i &gt;= 0;i--){ = array[i]}</code></li>
</ul>

<h5 id="toc_199">打印代码模板</h5>

<ul>
<li><code>serr + tab: System.err.println(&quot;&quot;);</code></li>
<li><code>souf + tab: System.out.printf(&quot;&quot;);</code></li>
<li><code>sout + tab: System.out.println(&quot;&quot;);</code></li>
<li><code>soutm + tab: //打印当前类名和方法名</code></li>
<li><code>soutp + tab: //打印出当前方法的所有参数列表及其值</code></li>
<li><code>soutv + tab: //打印一个变量值</code></li>
</ul>

<h3 id="toc_200">使用代码模板包裹代码</h3>

<p>菜单栏: Code -&gt; Surround with Live Template<br/><br/>
快捷键: option + command + J</p>

<ul>
<li>C.Surround with Callable: 使用Callable包围选中的代码</li>
<li>RL.Surround with ReadWriteLock.readLock: 使用ReadWriteLock读锁包围选中的代码</li>
<li>WL.Surround with ReadWriteLock.writeLock: 使用ReadWriteLock写锁包围选中的代码</li>
<li>I.Iterator Iterable | Array in J2SDK 5.0 syntax: 使用遍历包围选中的代码</li>
<li>TR.Surround with try-with-resource: 使用try-with-resource语句包围选中的代码</li>
</ul>

<h3 id="toc_201">查看和编辑代码模板</h3>

<p>菜单栏: Preferences -&gt; Editor -&gt; Live Templates<br/><br/>
快捷键: option + command + T</p>

<h3 id="toc_202">使用常用代码模板包裹代码</h3>

<p>菜单栏: Code -&gt; Surround with<br/><br/>
快捷键: option + command + T</p>

<h3 id="toc_203">注释代码</h3>

<h4 id="toc_204">注释行</h4>

<p>菜单栏: Code -&gt; Comment with Line Comment<br/><br/>
快捷键: command + /</p>

<h4 id="toc_205">注释代码块</h4>

<p>菜单栏: Code -&gt; Comment with Block<br/><br/>
快捷键: option + command + /</p>

<h3 id="toc_206">格式化代码</h3>

<p>菜单栏: Code -&gt; Reformat Code<br/><br/>
快捷键: option + command + L</p>

<h3 id="toc_207">自动缩进行</h3>

<p>菜单栏: Code -&gt; Auto-Intent Lines<br/><br/>
快捷键: option + command + I</p>

<h3 id="toc_208">优化导入</h3>

<p>优化导入，去除代码中无效的代码<br/>
菜单栏: Code -&gt; Optimize Imports<br/><br/>
快捷键: option + command + O</p>

<h3 id="toc_209">重新排列代码</h3>

<p>使用使用预设的代码规则重新排列代码<br/>
菜单栏: Code -&gt; Rearrange Code</p>

<h3 id="toc_210">移动一段代码</h3>

<h4 id="toc_211">向上移动代码</h4>

<p>菜单栏: Code -&gt; Move Statement Up<br/><br/>
快捷键: shift + command + ↑</p>

<h4 id="toc_212">向下移动代码</h4>

<p>菜单栏: Code -&gt; Move Statement Down<br/><br/>
快捷键: shift + command + ↓</p>

<h3 id="toc_213">移动一行代码</h3>

<h4 id="toc_214">向上移动代码</h4>

<p>菜单栏: Code -&gt; Move Line Up<br/><br/>
快捷键: option + command + ↑</p>

<h4 id="toc_215">向下移动代码</h4>

<p>菜单栏: Code -&gt; Move Line Down<br/><br/>
快捷键: option + command + ↓</p>

<h3 id="toc_216">正则表达式操作意图提示</h3>

<p>快捷键: option + Enter</p>

<p>快捷键弹出选择列表 -&gt; 单击Check RegExp -&gt; 弹出对话框，输入正则表达式和匹配样本</p>

<h2 id="toc_217">检查</h2>

<h3 id="toc_218">代码检查工具</h3>

<p>Android Studio提供了功能强大、快速、灵活的代码检查工具，能够检测出编译器和运行时的错误，在编译之前建议修正和改进。</p>

<p>Android Studio代码检查不仅能检查出编译错误，还会检查出一些效率低下的代码，支持一些代码规范、编程指南、最佳实践，还有一些无法访问，未使用的代码内存泄漏都能检查出来。  </p>

<p>目前支持的语言有Android、Java、XML、HTML</p>

<p><strong>代码检查所涵盖的最常见的任务</strong>:  </p>

<ul>
<li>发现可能的错误</li>
<li>定位死代码</li>
<li>检测性能问题</li>
<li>改进可维护性和代码结构</li>
<li>与编码准则和标准一致</li>
<li>符合规范</li>
</ul>

<h3 id="toc_219">全面了解Lint</h3>

<p>Lint是谷歌从Android 4.1版本开始提供的代码分析工具，可以再不执行应用或测试用例的情况下检查出代码结构和质量问题。</p>

<p>Android Lint主要用于检查以下错误</p>

<ul>
<li>缺少转义</li>
<li>布局性能问题</li>
<li>未使用的冗余资源</li>
<li>在数组中定义多个配置时，数组大小不一致</li>
<li>可访问行问题和国际化的问题</li>
<li>图标问题</li>
<li>可用性问题</li>
<li>配置文件错误</li>
</ul>

<h4 id="toc_220">报告中的Issue 和 Category</h4>

<h5 id="toc_221">Issue</h5>

<p>Lint检查出的所有问题都是以Issue来描述的。Issue以一个文本短语来作为id，对Issue的定制等操作都是基于id的。Issue以Severity来标识危害程度。</p>

<h5 id="toc_222">Category</h5>

<ul>
<li>Accessibility(可访问性)</li>
<li>Correctness(正确性)</li>
<li>Correctness &gt; Messages(正确性:信息)</li>
<li>Internationalization(国际化)</li>
<li>Internationalization &gt; Bidirectional Text(双向文本)</li>
<li>Performance(性能)</li>
<li>Security(安全)</li>
<li>Usability(可用性)</li>
<li>Usability:Icons(可用性:图标)</li>
<li>Usability:Typography(可用性:字体)</li>
</ul>

<h4 id="toc_223">Lint使用场景</h4>

<p>lint检查范围</p>

<ul>
<li>整个项目</li>
<li>项目中的每个模块</li>
<li>项目中的每个产品模块</li>
<li>项目中的每个测试模块</li>
<li>每个打开状态的文件</li>
<li>每个类结构</li>
<li>每个版本控制系统范围</li>
</ul>

<p>配置Lint方法</p>

<ul>
<li>在Android Studio偏好设置中配置</li>
<li>在lint.xml文件中配置</li>
<li>在build.gradle文件中配置</li>
<li>在Java和XML源码中配置</li>
</ul>

<h4 id="toc_224">Lint命令行用法介绍</h4>

<p>Usage:<br/><br/>
<code>lint [flags] &lt;project directories&gt;</code></p>

<p>Flags:</p>

<pre class="line-numbers"><code class="language-text">--help                   显示帮助命令
--help &lt;topic&gt;           有关特定主题的帮助
--list                   列出可用的问题id，然后退出
--version                输出版本信息，然后退出
--exitcode               如果发现错误，将退出代码设置为1
--show                   提供问题列表以及完整的解释
--show &lt;ids&gt;             针对指定的问题id显示完整的解释
</code></pre>

<p>启用检查:</p>

<pre class="line-numbers"><code class="language-text">--disable &lt;list&gt;         禁用类别列表或特定问题id,列表应该是以逗号分隔的问题id或类别
--enable &lt;list&gt;          启用特定问题列表,将检查所有默认问题和指定启用的问题，列表中应该是以逗号分隔的问题id或类别
--check &lt;list&gt;           只检查特定问题列表，会先禁用一切，然后重新启用给定的列表问题。列表中应该是以逗号分隔的问题id或类别。
-w, --nowarn             仅检查errors
-Wall                    检查所有的warnings，包括那些默认关闭的
-Werror                  将所有警告视为错误
--config &lt;filename&gt;      使用给定的配置文件来确定问题是启用还是禁用，如果项目包含一个lint.xml文件，那么这个配置文件作为备用
</code></pre>

<p>输出选项</p>

<pre class="line-numbers"><code class="language-text">--quiet                  不显示进展
--fullpath               错误输出使用完整路径
--showall                不截断长消息，显示完整的消息
--nolines                输出信息中不包括错误所在源文件中的行，默认情况下是显示的，但这个参数可以关闭
--html &lt;filename&gt;        创建一个HTML报告，如果文件名是个目录，lint将会为每个被扫描的项目创建一个报告
--url filepath=url       添加链接到HTML报告中，使用URL前缀取代本地路径前缀。映射可以是一个逗号分隔的路径前缀对应URL前缀的列表。
--simplehtml &lt;filename&gt;  创建一个简单的HTML报告
--xml &lt;filename&gt;         创建一个XML文件报告
</code></pre>

<p>项目选项</p>

<pre class="line-numbers"><code class="language-text">--resources &lt;dir&gt;        添加一个指定的文件夹作为项目的资源目录
--sources &lt;dir&gt;          添加一个指定的文件夹作为项目的资源目录，只有在一个单独项目中运行lint时才有效
--classpath &lt;dir&gt;        添加文件夹作为项目的工程类目录，只有在一个单独项目中运行lint时才有效
--libraries &lt;dir&gt;        添加文件夹作为项目的类库，只有在一个单独项目中运行lint时才有效
</code></pre>

<h4 id="toc_225">Lint命令行用法举例</h4>

<ul>
<li>如何查看哪些id和类别是可用的 <code>~$ lint --list</code></li>
<li>如何禁用某项检查 <code>~$ lint --disable MissingTranslation, UnusesdIds,Usability:Icons 项目路径</code></li>
<li>如何启用某项检查(某些检查默认是禁用的) <code>~$ lint --enable MissingTranslation, UnusesdIds,Usability:Icons 项目路径</code></li>
<li>如何对项目只做某项检查 <code>~$ lint --check MissingPrefix 项目路径</code></li>
<li>如何查看某个id的说明 <code>~$ lint --show id</code></li>
<li>如何以html格式输出Lint检查结果 <code>~$ lint 项目地址 --html test.html</code></li>
<li>检查本地项目 <code>~$ lint &lt;本地项目地址&gt; --html &lt;输出的html文件名.html&gt;</code></li>
<li>检查网络项目 <code>~$ lint --html /tmp/report.html --url</code></li>
</ul>

<h3 id="toc_226">执行一次代码检查</h3>

<p><strong>操作步骤</strong>: 菜单栏 | 右击文件夹/文件 -&gt; Analyze -&gt; Inspect Code -&gt; 指定检查范围 -&gt; OK</p>

<h3 id="toc_227">详解代码检查结果辅助工具</h3>

<h4 id="toc_228">重新执行代码检查(Rerun Inspection)</h4>

<p>重新执行会覆盖上一次的执行结果</p>

<h4 id="toc_229">全部展开或折叠结果(Expand All/Collapse All)</h4>

<p>展开折叠结果<br/><br/>
快捷键: command + &#39;+&#39; / &#39;-&#39;</p>

<h4 id="toc_230">在检查结果中快速上下跳转(Go Pre Problem/Go Next Problem)</h4>

<p>上下跳转的时候会同时定位到源码</p>

<h4 id="toc_231">自动定位到问题的源码(Autoscroll to Source)</h4>

<p>单击的时候自动定位到源码</p>

<h4 id="toc_232">导出代码检查结果(Export)</h4>

<p>导出代码检查结果</p>

<h4 id="toc_233">按严重程度分组排查问题(Group by Severity)</h4>

<p>按严重程度分组会更有目的性，通常我们需要重点关注Error的问题</p>

<h4 id="toc_234">按目录分组排查问题(Group by Directory)</h4>

<p>可以更直观地通过路径来排查问题</p>

<h4 id="toc_235">过滤已解决的问题(Filter resolved items)</h4>

<p>过滤掉已经解决的问题</p>

<h4 id="toc_236">快速解决问题(Apply a quickfix)</h4>

<p>只有在检查出的问题有相应的解决方案时才使用，否则是不可用的。</p>

<h3 id="toc_237">禁用和启用某项检查</h3>

<p>在检查结果中使用了Disable inspection选项时，这个检查项将会被禁用，也就是说你再执行代码检查时，被金庸的检查项就不会被检查了。</p>

<h4 id="toc_238">禁用某项检查</h4>

<ol>
<li>在检查结果中单击Android -&gt; 选中【Android Resource Validation】或具体问题</li>
<li>右击或单击左边工具栏的操作选项 -&gt; 单击【Disable inspection】，右击Android的问题分类或具体问题</li>
<li>禁用【Android Resource Validation】检查的效果。单击【Disable inspection】后并没有任何显示上的效果，再一次执行代码检查后效果就出来了</li>
<li>重新执行一次代码检查</li>
</ol>

<h4 id="toc_239">启用某项检查</h4>

<ol>
<li>在检查结果中单击设置</li>
<li>在设置中查看被禁用的检查项。被禁用的检查项会高亮显示，所以能够很容易找到哪些检查项被我们禁用了。</li>
<li>勾选要启用的检查项</li>
</ol>

<h4 id="toc_240">在偏好设置中禁用和启用某项检查</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Inspections</p>

<h3 id="toc_241">忽略检查</h3>

<ul>
<li>忽略Android资源验证: Android Resources Validation检查
<ul>
<li>和禁用操作相同，单击【Suppress for tag】: 忽略【Android Resources Validation】对这个标签的检查,在要忽略的标签上添加<code>&lt;!--suppress AndroidDomInspection --&gt;</code></li>
<li>和禁用操作相同，单击【Suppress for file】: 忽略【Android Resources Validation】对这个文件的检查,在要忽略的文件上添加<code>&lt;!--suppress AndroidDomInspection --&gt;</code></li>
<li>和禁用操作相同，单击【Suppress all for file】: 忽略这个文件的所有检查项,在要忽略的标签上添加<code>&lt;!--suppress ALL --&gt;</code></li>
</ul></li>
<li>忽略使用了过时的API: Deprecate API usage检查
<ul>
<li>单击【Suppress for statement】: 忽略【Deprecate API usage】对这个语句的检查,在要忽略的标签上添加<code>//noinspection deprecation</code></li>
<li>单击【Suppress for member】: 忽略【Deprecate API usage】对这个成员的检查,在要忽略的标签上添加<code>@SuppressWarnings(&quot;deprecation&quot;)</code></li>
<li>单击【Suppress for class】: 忽略【Deprecate API usage】对这个类的检查,在要忽略的标签上添加<code>@SuppressWarnings(&quot;ALL&quot;)</code></li>
</ul></li>
</ul>

<h3 id="toc_242">在指定范围内执行某项检查</h3>

<p><strong>操作步骤</strong>: 在检查结果中选中一个检查项 -&gt; 右击，执行【Run Inspection on...】-&gt; 选择检查范围 -&gt; 执行检查</p>

<h3 id="toc_243">解决检查出的问题</h3>

<p>选中具体问题 -&gt; 查看问题详情</p>

<ul>
<li>Name: 显示了有问题的方法名是一个公共方法</li>
<li>Location: 这个方法的位置，单击可打开这个类</li>
<li>Problem synopsis: 问题摘要，这个方法从未使用</li>
<li>Problem resolution: 问题解决方案，单击可快速解决</li>
<li>Safe delete: 安全删除</li>
<li>Comment out: 注释掉</li>
<li>Add as Entry Point: 添加为入口点</li>
<li>Suppress: 忽略检查</li>
<li>Suppress for member: 忽略成员</li>
<li>Suppress for class: 忽略类</li>
<li>Suppress all inspections for class: 忽略类的所有检查</li>
</ul>

<h3 id="toc_244">管理代码检查配置文件</h3>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Android Studio -&gt; Editor -&gt; Preferences -&gt; Inspections -&gt; Manage</p>

<h3 id="toc_245">配置代码检查规则</h3>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Android Studio -&gt; Editor -&gt; Preferences -&gt; Inspections</p>

<ul>
<li>快速搜索某个检查项</li>
<li>过滤某一类检查项(【Show Only Cleanup Inspections】过滤出所有代码清理时用到的检查项)</li>
<li>清空所有选中的检查项</li>
<li>默认禁用新的检查和恢复默认设置</li>
<li>设置检查项的严重级别
<ul>
<li>Typo: 拼写错误</li>
<li>Server Problem: 服务端问题</li>
<li>Info: 详情</li>
<li>Weak Warning: 弱警告</li>
<li>Warning: 警告</li>
<li>Error: 严重错误</li>
</ul></li>
</ul>

<h3 id="toc_246">Android类目的所有检查项</h3>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Android Studio -&gt; Editor -&gt; Preferences -&gt; Inspections -&gt; 展开Android类目</p>

<ul>
<li>Android Resources Validation: 验证Android XML中的资源引用</li>
<li>Android XML element is not allowed: 验证Android Resource文件和AndroidManifest.xml中不允许的标签</li>
<li>Constant and Resource Type Mismatches: 常量和资源类型不匹配</li>
<li>Missing JNI function: 报告项目中的native方法声明在项目中没有找到相应的JNI函数</li>
<li>Non-constant resource ID in a switch statement: 检查在Andorid Library模块中的switch语句是否使用了Resource IDs</li>
<li>onClick handler is missing in the related activity: 检查相关的activity是否声明了XML的onClick属性中指定的方法</li>
<li>Unknow Android XML attribute: 检查并高亮显示Android Resource文件和AndroidManifest.xml中未知的XML属性</li>
</ul>

<h3 id="toc_247">Android Lint类目的检查项</h3>

<h4 id="toc_248">Accessibility(可访问性)</h4>

<h5 id="toc_249">Image without contentDescription:图片没有contentDescription属性</h5>

<p>ImageView和ImageButton这样的非文本控件应该使用contentDescription属性来描述控件。这样可访问工具就可以更好的理解控件的用途，从而更加充分的分析用户界面<br/><br/>
禁用这个警告: <code>ignore=&quot;ContentDescription&quot;</code></p>

<h5 id="toc_250">Missing labelFor attribute: labelFor 属性缺失</h5>

<p>如果minSDKVersion &gt;= 17，文本字段应该标有labelFor属性</p>

<h4 id="toc_251">Correctness(正确性)</h4>

<ul>
<li>Accidental Octal: 意外的八进制;在Groovy中，以证书0开始的数字通常会被理解为一个八进制数</li>
<li>Activity registered more than once: Activity注册了不止一次</li>
<li>AdapterViews cannot have children in XML: 在XML中AdapterViews不能有子对象</li>
<li>Calling new methods on older versions: 在老版本中调用新方法</li>
<li>Custom views in libraries should use res-auto-namespace: 库中自定义的view应该使用res-auto-namespace</li>
<li>Cycle in resuorce definitions: 资源循环定义</li>
<li>Duplicate definitions of resources: 资源重复定义</li>
<li>Duplicate ids within a single layout: 在一个单独的layout中有重复id</li>
<li>Fragment not instantiatable: Fragment没有实例化</li>
<li>Invalid ID declaration: 无效的ID声明</li>
<li>Manifest Resource References: Manifest资源引用</li>
<li>Reference to an unknown id: 引用了一个未知的id</li>
<li>WebViews in wrap_content parents: WebView的父视图是wrap_content</li>
</ul>

<h4 id="toc_252">Correctness &gt; Messages(正确性 &gt; 信息)</h4>

<ul>
<li>Extra translation: 多余的翻译(如果一个字符串出现在一个特定的语言翻译文件中，但在默认的local中没有相应的字符串，那么这个字符串是未被使用的)</li>
<li>Incomplete translation: 翻译不完全</li>
<li>Invalid format string: 无效格式的字符串</li>
<li>Missing quantity translation: 数量的翻译缺失</li>
<li>String.format string doesn`t match the XML format string: String.format 字符串不匹配XML格式的字符串</li>
</ul>

<h4 id="toc_253">Internationalization(国际化)</h4>

<ul>
<li>Byte order mark inside files: 字节顺序在文件中的标记</li>
<li>Encoding used in resource files is not UTF-8: 资源文件不是UTF-8格式</li>
<li>Hardcode text: 硬编码文件</li>
</ul>

<h4 id="toc_254">Internationalization &gt; Bidirectional Text(国际化 &gt; 双向文本)</h4>

<p>Right-to-left text compatibility issues: Right-to-left文件兼容性问题</p>

<h4 id="toc_255">Performance(性能)</h4>

<ul>
<li>Obsolete layout params: 过时的布局参数</li>
<li>Using FloatMath instead of Math: 使用FloatMath替代Math</li>
<li>Nested layout weights: 嵌套布局weights</li>
<li>Unused resources: 未被使用的资源</li>
<li>Overdraw: 过度绘制</li>
</ul>

<h4 id="toc_256">Security(安全)</h4>

<ul>
<li>Hardcoded value of android: debuggable in the manifest(最好不要在manifest中设置android: debuggable属性)</li>
<li>Pakaged private key: 打包私钥(不应该在APP中打包私钥文件)</li>
</ul>

<h4 id="toc_257">Usability(可用性)</h4>

<ul>
<li>Missing menu title: 缺失菜单标题</li>
<li>URL not supported by app for Google App Indexing:URl 不支持Google的App索引要确保应用支持URL，以便从Google搜索中获得安装和流量</li>
</ul>

<h4 id="toc_258">Usability &gt; Icons(可用性 &gt; 图标)</h4>

<ul>
<li>Clashing PNG and 9-PNG files: PNG和9-PNG文件冲突</li>
<li>Duplicated icons under different names: 在不同的名字下有重复的图标</li>
<li>Missing application icon: 应用程序图标缺失</li>
<li>Missing density folder: 密度文件夹缺失</li>
</ul>

<h4 id="toc_259">Usability &gt; Typography(可用性 &gt; 字体)</h4>

<ul>
<li>Ellipsis string can be replaced with ellipsis character: 省略号字符可以用省略号代替</li>
<li>Fraction string can be replaced with fraction character: 分数字符串可以用分数字符代替</li>
<li>Hyphen can be replaced with dash: 连字符可以用破折号代替</li>
</ul>

<h3 id="toc_260">在lint.xml文件中配置Lint检查</h3>

<p>在Android Studio的偏好设置中可以修改Lint的配置，lint.xml文件会被自动添加到Android项目中</p>

<pre class="line-numbers"><code class="language-text">&lt;?xml version&quot;UTF-8&quot;?&gt;
&lt;!-- Ignore the ObsoleteLayoutParam issue in the specified files --&gt;
&lt;lint&gt;
    &lt;issue id=&quot;ObsoleteLayoutParam&quot;&gt;
        &lt;ignore path=&quot;res/layout/activation.xml&quot; /&gt;
        &lt;ignore path=&quot;res/layout-xlarge/activation.xml&quot; /&gt;
    &lt;/issue&gt;

    &lt;!-- Ignore the UselessLeaf issue in the specified file --&gt;
    &lt;issue id=&quot;UselessLeaf&quot;&gt;
        &lt;ignore path=&quot;res/layout/main.xml&quot; /&gt;
    &lt;/issue&gt;

    &lt;!-- Change the severity of hardcoded strings to &quot;error&quot; --&gt;
    &lt;issue id&quot;error&quot; /&gt;
&lt;/lint&gt;
</code></pre>

<h3 id="toc_261">在Gradle中配置Lint检查</h3>

<p>在build.gradle文件中添加lintOptions的配置</p>

<pre class="line-numbers"><code class="language-text">android {
    lintOptions {
        //出现error时是否停止进程
        abortOnError true
        //关闭检查项，参数是issue id
        disable &#39;TypographyFractions&#39;, &#39;TypographyQuotes&#39;
        
        //开启检查项，参数是issue id
        enable &#39;RtlHardcoded&#39;, &#39;RtlCompat&#39;, &#39;RtlEnabled&#39;
        //仅检查指定的检查项，参数是issue id
        check &#39;NewApi&#39;, &#39;InlinedApi&#39;
        //设置检查项的严重等级为可忽略，参数是issue id
        ignore &#39;NewApi&#39;, &#39;InlinedApi&#39;
    }
}
</code></pre>

<h3 id="toc_262">使用Gradle执行Lint检查</h3>

<h4 id="toc_263">命令行执行Lint检查</h4>

<p><code>./gradlew lint</code><br/><br/>
<code>./gradlew lintRelease</code><br/>
<code>./gradlew lintDebug</code></p>

<h4 id="toc_264">Gradle工具窗口执行Lint检查</h4>

<p>打开Gradle工具窗口中指定模块的任务目录，在verification下面找到对应的lint任务</p>

<ul>
<li>双击lint</li>
<li>双击lintDebug</li>
<li>双击lintRelease</li>
</ul>

<h3 id="toc_265">在Java和XML源码中配置Lint检查</h3>

<h4 id="toc_266">在Java源码中配置Lint配置</h4>

<ul>
<li>在Java源码中使用注解@SuppressLint(&quot;issue id&quot;)来禁用检查</li>
<li>禁用多项检查的参数为一个字符串数组，如@SuppressLint({&quot;issue id&quot;},{&quot;issue id&quot;})</li>
<li>禁用所有检查的参数为all,如@SuppressLint(&quot;all&quot;)</li>
</ul>

<h4 id="toc_267">在XML源码中配置Lint检查</h4>

<p>在XML源码中使用属性tools:ignore = &quot;issue id&quot;来禁用检查</p>

<ul>
<li>禁用多项检查: tools:ignore = &quot;issue id, issue id&quot;</li>
<li>禁用所有检查: tools:ignore = &quot;all&quot;</li>
</ul>

<h3 id="toc_268">代码清理</h3>

<p>通过代码扫描检查出好多问题，Android Studio恰好提供了Code Cleanup(代码清理)这个功能。</p>

<h4 id="toc_269">清理代码</h4>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Analyze -&gt; Code cleanup</p>

<h4 id="toc_270">配置代码清理规则</h4>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Analyze -&gt; Code cleanup -&gt; 单击Inspection profile右边的...可以打开代码清理检查配置界面</p>

<h3 id="toc_271">通过名字来指定代码检查项</h3>

<p>菜单栏或右击文件 -&gt; Analyze -&gt; Run Inspection by name -&gt; 弹出规则输入框<br/>
快捷键: option + command + shift + I</p>

<h3 id="toc_272">配置当前文件自动检查的规则</h3>

<p>Android Studio会对当前文件自动进行代码检查，检查出问题后相关的代码会被高亮显示。</p>

<p>菜单栏或右击文件 -&gt; Analyze -&gt; Configure Current File Analysis<br/>
快捷键: option + command + shift + H</p>

<h3 id="toc_273">导入并查看离线检查结果</h3>

<p>Android Studio还支持代码检查结果的导入</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Analyze -&gt; View Offline Inspection Results</p>

<h3 id="toc_274">自动添加是否可为空注解</h3>

<ul>
<li>@NotNull 变量或参数不能为null<br/></li>
<li>@Nullable 变量或参数可以为null</li>
</ul>

<h3 id="toc_275">分析依赖</h3>

<p>菜单栏或右击文件 -&gt; Analyze -&gt; Analyze Dependences<br/>
快捷键: command + shift + A</p>

<h4 id="toc_276">结果分析</h4>

<ul>
<li>选中被分析的类文件 -&gt; 在右边会显示这个类文件所依赖的文件，包括项目中的文件和外部文件</li>
<li>单击右边依赖的文件会在下面显示这个文件在左边类文件中的用法</li>
<li>查看依赖文件的用法，更好地理解文件结构</li>
</ul>

<h3 id="toc_277">分析反向依赖</h3>

<p>反向依赖就是分析出当前文件被哪些文件所依赖</p>

<p><strong>操作步骤</strong>: 菜单栏或右击文件 -&gt; Analyze -&gt; Analyze Backward Dependences -&gt; 然后弹出分析范围对话框</p>

<h3 id="toc_278">分析模块依赖</h3>

<p>模块依赖分析显示指定范围内存在的所有模块和它们之间的关系</p>

<p><strong>操作步骤</strong>: 菜单栏或右击文件 -&gt; Analyze -&gt; Analyze Module Dependences -&gt; 然后弹出指定分析范围对话框</p>

<h3 id="toc_279">分析循环依赖</h3>

<p>循环依赖就是循环引用，是两个或多个类相互持有对方</p>

<p><strong>操作步骤</strong>: 菜单栏或右击文件 -&gt; Analyze -&gt; Analyze Cyclic Dependences -&gt; 然后弹出指定分析范围对话框</p>

<h3 id="toc_280">分析数据流</h3>

<p><strong>操作步骤</strong>: 菜单栏或右击文件 -&gt; Analyze -&gt; Analyze Data Flow to here -&gt; 然后弹出分析范围选择对话框</p>

<h3 id="toc_281">分析堆栈信息</h3>

<p>向更加方便和专注地分析堆栈信息的时候可以使用此功能</p>

<p>菜单栏: Analyze -&gt; Analyze StackTrace<br/><br/>
快捷键: command + shift + A</p>

<h2 id="toc_282">重构</h2>

<p>重构是指在不改变外部行为的条件下，对现有的代码进行改善，以增加可读性，使设计和逻辑更加清晰。</p>

<h3 id="toc_283">重命名</h3>

<p>对类、方法、字段、变量、包或其他文件进行重命名</p>

<p>菜单栏: Refactor -&gt; Rename<br/><br/>
快捷键: fn + shift + F6</p>

<h3 id="toc_284">更改方法签名</h3>

<p>方法签名由方法名称和一个参数列表组成。更改方法签名可以改变方法的名称、改变函数的可访问性，对参数进行添加、删除、重命名和重新排序。</p>

<p>菜单栏: Refactor -&gt; Change Signature<br/><br/>
快捷键: fn + command + F6</p>

<h3 id="toc_285">迁移变量类型</h3>

<p>迁移类型(Type Migration) 就是改变变量的类型</p>

<p>菜单栏: Refactor -&gt; Type Migration<br/><br/>
快捷键: fn + shift + command + F6</p>

<h3 id="toc_286">转成静态方法</h3>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Make Static</p>

<h3 id="toc_287">静态方法转为实例方法</h3>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Convert to Instance Method</p>

<h3 id="toc_288">提取变量</h3>

<p>提取变量重构是将一个表达式提取为一个变量，并使用变量替换原来的表达式</p>

<p>菜单栏: Refactor -&gt; Extract -&gt; Variable<br/><br/>
快捷键: option + command + V</p>

<h3 id="toc_289">提取常量</h3>

<p>提取常量是从临时变量快速提取出静态常量</p>

<p>菜单栏: Refactor -&gt; Extract -&gt; Constant...<br/><br/>
快捷键: option + command + C</p>

<h3 id="toc_290">提取字段</h3>

<p>提取字段重构是将选中的表达式赋值给一个新声明的字段，原来的表达式使用这个新的字段来代替。</p>

<p>菜单栏: Refactor -&gt; Extract -&gt; Field...<br/><br/>
快捷键: option + command + F</p>

<h3 id="toc_291">提取参数</h3>

<p>提取参数重构是将A中的值提取为方法A的新参数，调用方法A的地方传入参数的值，这个值为之前提取的参数值</p>

<p>菜单栏: Refactor -&gt; Extract -&gt; Parameter...<br/><br/>
快捷键: option + command + P</p>

<h3 id="toc_292">提取函数式参数</h3>

<p>菜单栏: Refactor -&gt; Extract -&gt; Functional Parameter...<br/><br/>
快捷键: option + shift + command + P</p>

<h3 id="toc_293">提取参数对象</h3>

<p>菜单栏: Refactor -&gt; Extract -&gt; Parameter Object  </p>

<h3 id="toc_294">提取方法</h3>

<p>在重构代码时我们经常把复杂方法中的一段代码提取出来作为一个单独的方法使用，这种重构方法叫Extra Method</p>

<p>菜单栏: Refactor -&gt; Extract -&gt; Method<br/><br/>
快捷键: option + command + M</p>

<h3 id="toc_295">提取方法对象</h3>

<p>可以把一段代码提取为方法对象使用</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Extrat -&gt; Method Object...</p>

<h3 id="toc_296">提取委托</h3>

<p>委托是有两个对象参与同一个请求，接受请求的对象将请求委托给另一个对象来处理。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Extrat -&gt; Delegate...</p>

<h3 id="toc_297">提取接口</h3>

<p>提取接口重构是从一个已存在的类中提取接口，可以从某个类中选择方法，把选中的方法提取到一个单独的接口中。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Extrat -&gt; Interface...</p>

<h3 id="toc_298">提取父类</h3>

<p>菜单栏 -&gt; Refector -&gt; Extract -&gt; Superclass...</p>

<h3 id="toc_299">内联方法</h3>

<p>当一个方法的本体与方法名同样清除易懂时，就没有必要使用单独的方法了，直接把方法换成方法体即可，也就是使用内联方法进行重构。</p>

<p>菜单栏: Refactor -&gt; Inline<br/><br/>
快捷键: option + command + N</p>

<h3 id="toc_300">内联临时变量</h3>

<p>当一个临时变量只被简单地引用一次，而且会影响其他重构时，就要使用内联变量进行重构。</p>

<p>菜单栏: Refactor -&gt; Inline<br/><br/>
快捷键: option + command + N</p>

<h3 id="toc_301">查找并替换重复代码</h3>

<p>查找并替换重复代码重构时查找和赵中方法或常量字段重复或类似的代码，并通过调用此方法或常量来替换他们。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; File and Replace Code Duplicates...</p>

<h3 id="toc_302">反转布尔值</h3>

<p>反转布尔值重构是把一个Boolean方法或变量改变为相反的意义，也就是原来是true的变为false，原来是false变为true</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Invert Boolean</p>

<h3 id="toc_303">把成员拉到父类</h3>

<p>把成员拉到父类重构是把当前类的方法和属性移动到它的父类中去。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Pull Members Up...</p>

<h3 id="toc_304">把成员推到子类</h3>

<p>把成员推到子类重构是把父类的方法和属性移动到所有子类中，弗雷德方法可以选择性地保留抽象方法。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Push Members Down...</p>

<h3 id="toc_305">尽可能使用接口</h3>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Use Interface Where Possible...</p>

<h3 id="toc_306">使用委托替换继承</h3>

<p>使用委托替换继承重构是移除当前子类继承的父类，但同时又能够保留并使用父类中的一些功能。</p>

<h4 id="toc_307">什么时候用委托替换继承</h4>

<p>当某个子类只使用了父类的一部分功能时，或者根本就不需要继承来的数据时，就要考虑用委托替换继承。</p>

<h4 id="toc_308">如何使用委托替换继承</h4>

<p>Android Studio 会先在子类中创建一个私有的内部类，用来继承超类或接口。然后在子类中新建一个字段来实例化这个内部类，再委托子类中的方法来调用父类的方法。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Replace Inheritance with Delegation...</p>

<h3 id="toc_309">移除中间人</h3>

<p>移除中间人重构是让你不使用委托方法而直接调用受委托的类</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Remove Middleman...</p>

<h3 id="toc_310">包装方法返回值</h3>

<p>包装方法返回值重构是使用一个新建的包装类来替换一个方法的返回值，这个类也可以是已存在的类。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Wrap Return Value...</p>

<h3 id="toc_311">将匿名类转成内部类</h3>

<p>匿名类转成内部类重构可以把一个匿名类转成内部类，这样一来这个类的其他部分就可以共享此类。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Convert Anonymous to Inner...</p>

<h3 id="toc_312">封装字段</h3>

<p>封装字段重构可以隐藏数据，然后创建访问器来访问。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Encapsulate Field...</p>

<h3 id="toc_313">使用查询替换临时变量</h3>

<p>如果一个临时变量保存了一个表达式，使用查询替换临时变量重构就是将这个表达式提炼到一个独立的方法中，并将这个临时变量的所有引用点替换为新的方法的调用。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Replace Temp with Query...</p>

<h3 id="toc_314">使用工厂方法替换构造方法</h3>

<p>使用工厂方法替换构造方法重构是使用一个静态方法返回一个实例化的类来替换原来的构造方法。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Replace Constructor with Factory Method ...</p>

<h3 id="toc_315">使用构造器替换构造方法</h3>

<p>当创建一个对象需要传入多个参数的时候我们通常会根据参数的数量写多个不同的构造方法，但是这种方法不够灵活，可读性也不高。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Replace Constructor with Builder...</p>

<h3 id="toc_316">泛型化</h3>

<p>泛型化重构用来将那些没有使用泛型的代码转化为泛型可识别的代码</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Gentrify...</p>

<p>配置对话框</p>

<ul>
<li>Drop obsolete casts: 删除过时的转换</li>
<li>Leave Object-parameterized types raw: 保留对象参数化类型</li>
<li>Preserve raw arrays: 保留原始队列</li>
<li>Perform exhaustive search: 执行穷举搜索</li>
<li>Generify Objects: 泛型化对象</li>
<li>Produce wildcard types: 产生通配符类型</li>
</ul>

<h3 id="toc_317">国际化</h3>

<p>国际化重构就是从源代码中提取字符串，并将它们作为属性写入属性文件中，再通过生成的表达式来读取Resource Bundle中的属性来获得多语言的字符串。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Refactor -&gt; Internationalize...</p>

<h2 id="toc_318">构建</h2>

<p>Android Studio默认使用Gradle来进行项目构建，Gradle是一个自动化构建工具，采用Groovy的Domain Specific Language来描述和控制构建逻辑。</p>

<h3 id="toc_319">认识Gradle</h3>

<p>Gradle是一个自动化构建工具。<br/><br/>
特点：</p>

<ul>
<li>Gradle支持多工程构建和局部构建</li>
<li>Gradle支持远程或本地依赖管理：支持从远程maven仓库，nexus私服，ivy仓库以及本地仓库获取依赖</li>
<li>Gradle与Ant、Maven兼容</li>
<li>Gradle可轻松迁移：Gradle适用于任何结构的工程，可以在同一个开发平台平行构建原工程和Gradle工程</li>
<li>Gradle使用灵活：Gradle的整体设计是以作为一种语言为向导的，而非成为一个严格死板的框架</li>
<li>Gradle免费开源</li>
<li>Gradle跟IDE集成得非常好</li>
<li>Gradle可以更容易地集成到自动化构建系统</li>
</ul>

<h4 id="toc_320">Gradle的Project、Task、和Plugin</h4>

<p><strong>项目</strong>是指构建产物或部署的产物。每个项目包含一个或多个任务。<br/>
<strong>任务</strong>是指不可分的最小工作单元，代表一个逻辑上较为独立的执行过程。</p>

<h4 id="toc_321">Gradle中依赖的仓库</h4>

<p>在build.gradle中添加仓库的声明，从Maven仓库中获取依赖</p>

<pre class="line-numbers"><code class="language-text">repositories {
    #1.从指定的远程Maven仓库中获取依赖
    maven {
        url &quot;http://maven.helloword.net/repo&quot;
    }
    
    #2.从指定的本地Maven仓库中获取依赖
    maven {
        url &quot;file:///Users/bixiaopeng/mvn&quot;
    }
    
    #3.从中央Maven仓库中获取依赖
    mavenCenter()
    
    #4.从新的中央远程仓库中获取依赖
    jcenter()
    
    #5.从本地仓库中获取依赖
    mavenLocal()
    
    #6.需要认证的库
    maven {
        credentials {
            username &#39;user&#39;
            password &#39;password&#39;
        }
        url &quot;http://repo.helloword.com/maven2&quot;
    }
}
</code></pre>

<h4 id="toc_322">Maven仓库的别名</h4>

<ul>
<li>mavenCentral(): 表示从Maven中央仓库中获取依赖</li>
<li>jcenter(): 一个新的远程中央仓库，兼容Maven中央仓库，而且性能更优。Gradle默认使用jcenter作为仓库。</li>
<li>mavenLocal(): 表示从本地Maven仓库中获取依赖</li>
</ul>

<h4 id="toc_323">从平级目录仓库中获取依赖</h4>

<p>从本地目录中获取依赖，在build.gradle中添加</p>

<pre class="line-numbers"><code class="language-text">repositories {
    //从当前项目的平级目录lib中获取依赖
    flatDir(dir: &#39;lib&#39;,name: &#39;libs directory&#39;)
    //从当前项目的平级目录libA 和 libB中获取依赖
    flatDir {
        dirs &#39;libA&#39;,&#39;libB&#39;
        name = &#39;All dependency directories&#39;
    }
}
</code></pre>

<h3 id="toc_324">配置Gradle环境</h3>

<ul>
<li>编辑.bash_profile <code>vim ~/.bash_profile</code></li>
<li>配置环境变量 <code>export GRADLE_HOME=grale路径 export PATH = $PATH: $GRADLE_HOME/bin</code></li>
<li>使配置立即生效 <code>source ~/.bash_profile</code></li>
<li>查看配置是否生效 <code>gradle -v</code></li>
</ul>

<h3 id="toc_325">Gradle Wrapper</h3>

<h4 id="toc_326">认识Gradle Wrapper</h4>

<p>Gradle Wrapper可以理解为Gradle的一层封装，使用它可以在没有安装Gradle的系统上使用Gradle来构建项目。</p>

<p>在gradle/wrapper目录下有两个文件:gradle-wrapper.jar和gradle-wrapper.properties</p>

<h3 id="toc_327">查看和执行Gradle任务</h3>

<h4 id="toc_328">查看当前项目支持的Gradle任务</h4>

<p>使用./gradlew task 来查看单签项目支持哪些Gradle任务</p>

<p>想查看所有任务和更多详情 <code>gradlew tasks -all</code></p>

<p>想查看一个任务的更多详情 <code>gradlew help --task &lt;task&gt;</code></p>

<h4 id="toc_329">执行Gradle任务</h4>

<p>执行命令: &quot;gradle + 任务名称&quot; 或者 &quot;./gradlew + 任务名称&quot;</p>

<h4 id="toc_330">常用Gradle任务</h4>

<ul>
<li>查看gradle版本 <code>./gradlew -v</code></li>
<li>编译并打出Debug版本的包 <code>./gradlew assembleDebug</code></li>
<li>编译并打开Release版本的包 <code>./gradlew assembleRelease</code></li>
<li>执行检查并编译打包,打出所有Release和Debug的包 <code>./gradlew build</code></li>
<li>删除build目录，会把app下面的build目录删掉 <code>./gradlew clean</code></li>
<li>编译打包并安装Debug版本的包: <code>./gradlew installDebug</code></li>
<li>卸载Debug版本的包: <code>./gradlew uninstallDebug</code></li>
<li>使用-info查看任务详情: <code>./gradlew uninstallDebug -info</code></li>
</ul>

<h4 id="toc_331">Gradle工具窗口</h4>

<p>Gradle工具窗口列出了当前项目和模块中支持的所有Gradle任务和运行配置，以便我们快速操作。</p>

<h5 id="toc_332">Tasks</h5>

<p>Tasks列表里的任务跟我们执行./gradlew task得到的任务列表是一样的。把光标放在某个任务上面会显示任务的描述信息。双击任务即可执行。</p>

<h5 id="toc_333">Run Configurations</h5>

<p>Run Configurations列表中列出了项目中执行过的任务配置，这些配置都是执行任务时自动生成的。想再次执行的时候可以在配置列表中直接选择。</p>

<h3 id="toc_334">构建项目和模块</h3>

<h4 id="toc_335">编译项目</h4>

<p>当我们只想对修改过的文件进行编译时就会使用Make进行编译，可以指定对项目或者模块进行编译</p>

<p>菜单栏: Build -&gt; Make Project<br/><br/>
快捷键: command + F9</p>

<h4 id="toc_336">编译模块</h4>

<p>前提条件: 选中某个模块<br/>
操作步骤: 菜单栏 -&gt; Build -&gt; Make Module&#39;模块名&#39;</p>

<h4 id="toc_337">设置自动编译项目</h4>

<p>操作步骤: Android Studio -&gt; Preferences... -&gt; 搜索Compiler -&gt; 勾选Make project automatically</p>

<h4 id="toc_338">重新构建项目</h4>

<p>操作步骤: 菜单栏 -&gt; Build -&gt; Rebuild Project(重新构建项目)</p>

<h4 id="toc_339">Make Project跟Rebuild Project的区别</h4>

<p>Make Project是对新产生变化的文件进行一次编译，已经编译过的文件就不用重新编译，Rebuild Project是对整个项目重新编译，用时更久。</p>

<h4 id="toc_340">清理项目</h4>

<p>清理项目会清空output目录下的文件，并重新编译项目<br/><br/>
操作步骤: 菜单栏 -&gt; Build -&gt; Clean Project</p>

<h3 id="toc_341">Gradle Script</h3>

<p>Gradle Scripts列表: </p>

<ul>
<li>build.gradle: 项目构建配置文件</li>
<li>build.gradle: 模块构建配置文件</li>
<li>gradle-wrapper.properties: gradle wrapper配置文件</li>
<li>proguard-rules.pro: 混淆规则配置文件</li>
<li>graddle.properties: gradle配置文件</li>
<li>setting.gradle: 项目全局配置文件</li>
<li>local.properties: SDK、NDK配置文件</li>
</ul>

<h4 id="toc_342">Gradlew配置文件gradle-wrapper.properties</h4>

<p>这个文件一般是不动的，除非想手动指定Gradle的版本，可以修改distributionUrl。也可以在Project Structure -&gt; Project中设置Gradle version</p>

<h4 id="toc_343">项目全局配置文件setting.gradle</h4>

<p>主要声明一些需要加入构建的模块</p>

<h4 id="toc_344">本地属性配置文件local.properties</h4>

<p>在Project Structure -&gt; SDK Location 中设置SDK和NDK的路径，修改后会同步到local.properties文件中。</p>

<h4 id="toc_345">Gradle配置文件gradle.properties</h4>

<p>gradle.properties是Gradle的配置文件，build.gradle通过独缺这个文件配置的参数来进行相应的构建。</p>

<h4 id="toc_346">代码混淆规则配置文件proguard-rules.pro</h4>

<p>如果想在打包的时候进行代码混淆，就需要在proguard-rules.pro中配置代码混淆规则。</p>

<h4 id="toc_347">项目构建配置文件build.gradle</h4>

<pre class="line-numbers"><code class="language-text">//项目构建文件，可以到各子项目/模块添加常用的配置选项
buildscript {
    //Android插件从这个仓库中下载
    repositories {
        jcenter() //依赖仓库源的别名，兼容maven的远程中央仓库
    }
    
    //依赖
    dependencies {
        //android gradle插件
        classpath &#39;com.android.tools.build:gradle:2.2.0-alpha1&#39;
        
        //提示
        //请不要在此处添加应用程序依赖；他们应该在单个Module build.gradle文件中添加
        //这里添加的应该只是Project的依赖
    }
    
    //此处配置Project中默认的仓库员，包括每个module的依赖
    //这样每个module就不用单独配置仓库了
    allprojects {
        repositories {
            jecnter()
        }
    }
    
    //打包前执行clean任务
    //任务类型是Delete
    //clean任务就是删除项目根目录下的build目录
    task clean(type: Delete) {
        delete rootProject.buildDir
    }
}
</code></pre>

<h4 id="toc_348">模块构建配置文件build.gradle</h4>

<p>Module: build.gradle用来配置模块的构建任务</p>

<h3 id="toc_349">在项目结构中配置模块构建</h3>

<p>Project Structure用来配置项目和模块的各种构建参数和属性</p>

<h4 id="toc_350">配置应用程序属性</h4>

<ul>
<li>Compile Sdk Version: 指定Android的编译版本</li>
<li>Build Tools Version: 指定构建工具的版本</li>
<li>Library Repository: 指定依赖的仓库源</li>
<li>Ignore Assets Pattern: 指定构建打包时要忽略的文件</li>
<li>Incremental Dex: 增量Dex打包，开启此功能可以提升编译打包的速度</li>
<li>Source Compatibility: 指定资源版本</li>
<li>Target Compatibility: 指定目标版本</li>
</ul>

<h4 id="toc_351">配置应用程序签名</h4>

<p>在这里配置了签名，相应地在module app的build.gradle文件中会自动添加下面的配置</p>

<pre class="line-numbers"><code class="language-text">//签名配置
signingConfigs {
    MySigning {
        keyAlias &#39;myandroid&#39;
        keyPassword &#39;123456&#39;
        storeFile file(&#39;钥匙库路径&#39;)
        storePassword &#39;123456&#39;
    }
}
</code></pre>

<h4 id="toc_352">配置应用程序特性</h4>

<p>多渠道打包要在Flavors配置相应的属性</p>

<ul>
<li>Name: Flavor的名字，如我们常用的渠道xiaomi,baidu</li>
<li>Min Sdk Version: 向下兼容的最小SDK版本</li>
<li>Application Id: 应用程序的包名</li>
<li>Proguard File: 指定混淆文件路径，如果不指定会使用默认的</li>
<li>Signing Config: 指定签名文件。签名的文件在Signing中设置</li>
<li>Target Sdk Version: 目标SDK版本</li>
<li>Test Instrumentation Runner: 指定Test Runner</li>
<li>Test Application Id: 测试应用的ID</li>
<li>Version Code: 应用程序的版本号，用于升级</li>
<li>Version Name: 应用程序的版本名称</li>
<li>Version Name Suffix: 应用程序版本名称的后缀</li>
</ul>

<h4 id="toc_353">配置应用程序的构建类型</h4>

<p>构建类型Build Types非常重要，默认两个构建版本: debug 和 release</p>

<ul>
<li>Name: 构建类型名称</li>
<li>Debuggable: 是否可以调试</li>
<li>Jni Debuggable: Jni是否可以调试</li>
<li>Proguard File: 指定混淆文件路径，如果不指定会使用默认的</li>
<li>Signing Config: 指定签名。签名的文件在Signing中设置，若为空则不签名，打出来的包也是未签过名的</li>
<li>Renderscript Debuggable: 是否使用渲染脚本</li>
<li>Renderscript Optim Level: Rendescript版本</li>
<li>Minify Enabled: 是否混淆</li>
<li>Target Sdk Version: 目标SDK版本</li>
<li>Pseudo Locales Enabled: 是否支持本地化整理</li>
<li>Application Id Suffix: 应用程序Id后缀</li>
<li>Version Name Suffix: 应用程序版本名称的后缀</li>
<li>Zip Align Enabled: 是否支持Zip Align</li>
</ul>

<p>Project Structure没有的配置，但buildTypes支持的属性如下</p>

<ul>
<li><code>buildConfigField &quot;boolean&quot;,&quot;LOG_DEBUG&quot;,&quot;true&quot;</code>   显示Log</li>
<li><code>shrinkResources true</code>    移除无用的resource文件，minifyEnabled必须为true</li>
</ul>

<h3 id="toc_354">签名和打包</h3>

<p>Android系统要求应用程序必须经过签名才能够安装到系统中，签名就是在应用程序特定的字段中些人标识信息，Android系统通过签名判断你是否是这个应用程序的开发者。</p>

<p>签名相同的应用程序: </p>

<ul>
<li>能够正常地覆盖安装旧版本</li>
<li>能够允许代码和数据共享</li>
</ul>

<p><strong>默认签名证书</strong><br/><br/>
Android SDK工具会自动生成一个调试用的签名证书debug.keystore</p>

<p>当我们打debug包时，默认使用debug.keystore进行签名。debug包可以在真机和模拟器上运行和调试，但不能发布到应用市场。对外发布时要使用统一的签名。</p>

<h4 id="toc_355">自动打包和签名</h4>

<ul>
<li>配置签名证书。打开Project Structure窗口
<ul>
<li>选择app模块</li>
<li>单击Signing标签</li>
<li>新增一个签名证书的配置</li>
<li>选择证书，填入相关信息</li>
</ul></li>
<li>配置构建类型
<ul>
<li>单击Build Types标签</li>
<li>选择release</li>
<li>Signing Config这一项选择刚才我们配置的签名</li>
</ul></li>
<li>自动打包和签名
<ul>
<li>./gradlew assembleRelease</li>
</ul></li>
</ul>

<h4 id="toc_356">混淆打包</h4>

<p>为了防止反编译，增加反编译成本，使用ProGuard进行混淆，通过删除从未使用的代码和使用晦涩名字来重命名类、字段和方法，从而对代码进行压缩、优化和混淆。<br/><br/>
在build.gradle中打开混淆开关，minifyEnabled设置为true</p>

<h4 id="toc_357">多渠道打包</h4>

<p>国内Android应用程序有360、小米、豌豆荚、百度等非常多的下载渠道，想统计每个渠道的下载量和活跃度，就需要使用统计平台。<br/>
以友盟统计为例，配置渠道信息并执行自动化打包</p>

<h5 id="toc_358">在AndroidMainfest.xml配置可动态替换的渠道参数</h5>

<pre class="line-numbers"><code class="language-text">&lt;meta-data
    android: name = &quot;UMENG_CHANNEL&quot;
    android: value = &quot;${CHANNEL_ID}&quot;
</code></pre>

<h5 id="toc_359">在build.gradle中配置渠道信息和自动替换脚本</h5>

<pre class="line-numbers"><code class="language-text">//多渠道打包
productFlavors {
    xiaomi()            //渠道名为xiaomi
    baidu()
    wandoujia()
    
    //自动替换AndroidManifest.xml中的渠道号
    productFlavors.all { flavor -&gt; 
        flavor.manifestPlaceHolders = [CHANNEL_ID: name]
    }
}
</code></pre>

<h5 id="toc_360">打包后自动修改apk的名字</h5>

<pre class="line-numbers"><code class="language-text">//打包后自动修改apk的名字
//release包的命名格式为: 产品名_版本号_渠道号.apk
//debug包的命名格式为: 产品名_版本号_渠道号_Debug_打包时间.apk
applicationVariants.all { variant -&gt;
    variant.outputs.each { output -&gt;
        def outputFile = output.outputFile
        if (null != outpoutFile &amp;&amp; outputFile.name.endsWith(&#39;.apk&#39;)) {
            File outputDir = new File(outputFile.parent);
            def baseName = PRODUCT_NAME + &quot;${defaultConfig.versionName}&quot; + &quot;_&quot; + variant.productFlavors[0].name
            def newApkName
            if (variant.buildType.name.equals(&#39;release&#39;)) {
                newApkName = baseName + &#39;.apk&#39;
            } else if (variant.buildType.name.equals(&#39;debug&#39;)) {
                newApkName = baseName + &quot;_Debug_${packageTime()}.apk&quot;
            }
            output.outputFile = new File(outputDir,newApkName)
        }
    }
}
</code></pre>

<h5 id="toc_361">自动化打包</h5>

<p>方法一: 命令行<br/><br/>
<code>./gradlew assembleRelease</code></p>

<p>方法二: Gradle工具窗口<br/><br/>
方法三: 菜单栏 -&gt; Build -&gt; Generate Signed APK -&gt; 一步步下去 -&gt; 在Flavors中全选 -&gt; Finish</p>

<h5 id="toc_362">查看渠道号是否被正确替换</h5>

<p>单击apk后，Android Studio会自动解析apk，这样就可以在Android Studio中直接查看apk的信息了。</p>

<h2 id="toc_363">运行和调试</h2>

<h3 id="toc_364">运行和配置调试</h3>

<p>菜单栏: Run -&gt; Edit Configurations...<br/><br/>
快捷键: control + alt + R</p>

<h4 id="toc_365">Android应用程序配置</h4>

<h5 id="toc_366">Name</h5>

<p>在这里输入配置的名字，会在工具栏运行应用程序配置的下拉列表中看到</p>

<h5 id="toc_367">General</h5>

<p>在这里配置安装、启动、部署应用程序选项</p>

<p>1、 Module: 列表中列出了当前项目中的所有模块，可以指定相应的模块来运行<br/><br/>
2、 Installation Options: 安装选项  </p>

<ul>
<li>Deploy: 下拉列表中列出了应用程序运行时的部署模式
<ul>
<li>Default APK: 部署默认的APK，运行时会先打包安装，再启动APK</li>
<li>Custom Artifact: 部署自定义的APK，会根据所选择的模块来选择相应的配置</li>
<li>Nothing: 不做任何部署，运行时直接启动应用，如果应用已经安装了会直接启动，没有安装就会报错。</li>
</ul></li>
<li>Install Flags: 给adb shell pm install 添加运行参数</li>
<li>Launch Options: 启动选项
<ul>
<li>Default Activity: 启动默认Activity，运行时会启动默认的MainActivity，如果没有就会报错。</li>
<li>Specified Activity: 指定启动的Activity</li>
<li>Nothing: 运行时不会启动任何Activity</li>
<li>URL: 在这里可以指定启动的scheme</li>
<li>Launch Flags: 给sdb shell am 添加运行参数，参数添加在命令的最后面</li>
</ul></li>
<li>Deployment Target Options: 部署目标选项
<ul>
<li>Target
<ul>
<li>Show Device CHooser Dialog: 每次运行弹出选择设备对话框</li>
<li>USB Device: 使用USB连接的设备</li>
<li>Emulator: 使用模拟器</li>
</ul></li>
<li>Use same selection for future launches: 以后每次运行都是用同样的选择。</li>
</ul></li>
</ul>

<h5 id="toc_368">Miscellaneous</h5>

<p>在这里配置日志和安装选项</p>

<p>1、Logcat  </p>

<ul>
<li>Show logcat automatically: 运行时自动显示logcat日志</li>
<li>Clear log before launch: 启动前清空日志</li>
</ul>

<p>2、Installation Options  </p>

<ul>
<li>Skip installation if APK has not changed: 如果代码没有变更，运行时跳过安装</li>
<li>Force stop running application before launching activity: 启动Activity前强制关闭运行的应用程序。</li>
</ul>

<h5 id="toc_369">Debugger</h5>

<p>在这里配置调试类型</p>

<h5 id="toc_370">Profiling</h5>

<p>在这里配置图形跟踪选项</p>

<p>Disable precompiled shaders and programs: 禁用预编译着色器和程序</p>

<h5 id="toc_371">Before launch</h5>

<p>在这里可以配置运行之前需要执行的任务，默认会执行Make</p>

<h6 id="toc_372">添加任务</h6>

<table>
<thead>
<tr>
<th style="text-align: left">任务</th>
<th style="text-align: left">说明</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">Run External tool</td>
<td style="text-align: left">运行外部工具，如果有的话可以直接选择，如果没有可以去新建</td>
</tr>
<tr>
<td style="text-align: left">Make</td>
<td style="text-align: left">编译选择的模块</td>
</tr>
<tr>
<td style="text-align: left">Make Project</td>
<td style="text-align: left">编译项目</td>
</tr>
<tr>
<td style="text-align: left">Make,no error check</td>
<td style="text-align: left">编译选择的模块，但不进行错误校验</td>
</tr>
<tr>
<td style="text-align: left">Build Artifacts</td>
<td style="text-align: left">构建构件，如果有的话可以选择对应的构件</td>
</tr>
<tr>
<td style="text-align: left">Run Gradle task</td>
<td style="text-align: left">运行Gradle任务</td>
</tr>
<tr>
<td style="text-align: left">Gradle-aware Make</td>
<td style="text-align: left">执行Gradlew任务</td>
</tr>
</tbody>
</table>

<h3 id="toc_373">运行应用程序</h3>

<h4 id="toc_374">运行应用程序</h4>

<p>菜单栏: Run -&gt; Run...<br/><br/>
快捷键: control + alt + R</p>

<h4 id="toc_375">清理后重新运行应用程序</h4>

<p>菜单栏: Run -&gt; Clean and Return&#39;配置名&#39;<br/><br/>
快捷键: command + alt + R</p>

<h4 id="toc_376">停止应用程序运行</h4>

<p>菜单栏: Run -&gt; Stop&#39;配置名&#39;<br/><br/>
快捷键: command + fn + F2</p>

<h3 id="toc_377">调试应用程序</h3>

<h4 id="toc_378">断点</h4>

<h5 id="toc_379">行断点</h5>

<p>行断点是我们最常用到的断点，被用于对代码特定的行进行调试</p>

<p><strong>菜单栏</strong>: Run -&gt; Toggle Line Breakpoint <br/>
<strong>快捷键</strong>: command + F8</p>

<p>单击某行左边栏即可设置断点<br/><br/>
取消断点和添加行断点的方法相同</p>

<p><strong>属性设置</strong>: 右击行断点，弹出属性设置对话框</p>

<ul>
<li>Enabled: 断点启用和禁用</li>
<li>Suspend: 勾选All,执行到断点时所有线程都会被挂起。勾选Thread，执行到断点时只有当前断点所在的线程会被挂起。</li>
<li>Condition: 设置断点暂停条件</li>
</ul>

<h5 id="toc_380">方法断点</h5>

<p>方法断点主要用来检查方法的输入和输出</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Run -&gt; Toggle Method Breakpoint -&gt; 单击方法名所在行的左边栏</p>

<p><strong>属性设置</strong>: 右击行断点，弹出属性设置对话框。和行断点相比属性多了一个Watch，Method entry 和 Method exit表示调用此方法开始的时候和结束的时候断点都会被触发。</p>

<h5 id="toc_381">字段观察点</h5>

<p>当我们对程序运行的过程不太关心，只关心某个变量的变化时可以使用字段观察断点</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Run -&gt; Toggle Field Watchpoint -&gt; 单击字段所在行的左边栏</p>

<p><strong>属性设置</strong>: 右击行断点，弹出属性设置对话框。和行断点相比属性多了一个Java Field Watchpoints。Field access(当字段被访问的时候触发断点)和Field modification(当字段被修改时触发断点)</p>

<h5 id="toc_382">条件断点</h5>

<p>条件断点用来设置断点被触发的条件，如果条件不满足断点是不会被触发的。</p>

<p><strong>操作步骤</strong>: 右击左边栏的断点图标 -&gt; 勾选Condition -&gt; 设置暂停条件</p>

<h5 id="toc_383">临时断点</h5>

<p>当我们想某个断点只被触发一次后就自动删除的时候，可以使用临时断点</p>

<p><strong>菜单栏</strong>: Run -&gt; Toggle Temporary Line Breakpoint <br/>
<strong>快捷键</strong>: fn + command + option + shift + F8</p>

<p>如果想把临时断点变为普通断点，可以在属性中取消勾选【Remove once hit】</p>

<h5 id="toc_384">异常断点</h5>

<p>异常断点会在某个异常发生时触发断点，我们就可以第一时间得到异常信息，方便排查问题</p>

<p><strong>菜单栏</strong>: Run -&gt; View Breakpoints <br/>
<strong>快捷键</strong>: fn + command + shift + F8</p>

<p>在打开的断点窗口单击左上角的加号，选择Java Exception Breakpoints，然后在弹出的【Enter Exception Class】窗口中输入要调试的异常。</p>

<h5 id="toc_385">日志断点</h5>

<p>在调试的时候，我们想临时多加一些日志但又不想重新构建应用程序的时候，可以使用日志断点</p>

<p><strong>操作步骤</strong>: 右击左边栏的断点图标 -&gt; 取消勾选【Suspend】 -&gt; 在展开的选项中勾选【Log evaluated expression】 -&gt; 输入日志信息表达式。</p>

<p>因为取消了Suspend，所以执行到断点出不会停下，而是会打印日志。</p>

<h5 id="toc_386">禁用断点</h5>

<p>当某个断点暂时不需要但又不想删除时可以先禁用</p>

<p><strong>菜单栏</strong>: Run -&gt; Toggle Breakpoint Enable<br/><br/>
<strong>快捷键</strong>: option + 单击断点</p>

<h5 id="toc_387">断点设置</h5>

<p>打开属性配置窗口<br/><br/>
<strong>菜单栏</strong>: Run -&gt; View Breakpoints<br/><br/>
<strong>快捷键</strong>: fn + shift + command + F8<br/><br/>
<strong>调试工具窗口</strong>: 单击左边工具栏的View Breakpoints<br/><br/>
<strong>右击断点的图标</strong>: 单击More</p>

<ul>
<li>断点管理: 断点按类型进行分组，在这里可以新建和删除断点</li>
<li>常用设置: 在编辑器窗口中右击断点图标就能够设置这些属性</li>
<li>日志断点设置: 在这里可以设置日志断点的属性</li>
<li>其他设置: 设置临时断点，以及选中的断点被执行后是禁用还是丢弃当前断点</li>
<li>过滤: 设置断点的一些限制，如作用于实例的ID，指定类以及有效次数</li>
<li>预览窗口: 在这里查看断点所在的代码位置</li>
</ul>

<h3 id="toc_388">帧调试窗口</h3>

<p>帧调试窗口显示了当前断点所在的线程以及执行到该断点所调用过的方法。</p>

<h4 id="toc_389">堆栈帧</h4>

<p>堆栈帧是用来存储数据和不服你过程结果的数据结果，同时也用来处理动态链接、方法返回值和异常分派。每一次调用方法在队长总都会占用一部分内存，单位是帧。堆栈帧随着方法调用而创建，随着方法结束而销毁。每个堆栈帧中都包括传入的参数、返回地址、方法存储在堆栈上的局部变量以及对程序调试提供支持的信息。一个线程包括多个堆栈帧。</p>

<h4 id="toc_390">当前堆栈帧</h4>

<p>一个线程在执行过程中，执行到断点处暂停，如果只有当前正在执行的那个方法的堆栈帧是活动的，这个堆栈帧就是当前堆栈帧。</p>

<p><strong>帧调试窗口</strong>:</p>

<ul>
<li>显示当前断点所在的线程</li>
<li>显示执行过的方法，也可以说是执行到当前堆栈帧这个过程中所创建过的堆栈帧</li>
<li>查看工具: 查看执行过的帧和过滤当前应用的帧</li>
</ul>

<p><strong>内容菜单</strong>: 右击堆栈帧，显示可操作菜单  </p>

<ul>
<li>Add Stepping Filter(添加步进过滤器): 使用此命令再打开的对话框中添加一个步进过滤器</li>
<li>Export Threads(导出线程)</li>
<li>Customize Threads View(自定义线程显示)</li>
</ul>

<h4 id="toc_391">变量调试窗口</h4>

<p>我们可以再变量调试窗口中检查应用程序中对象值得存储，当选择堆栈帧的时候，变量调试窗口就会显示范围内的所有数据(方法的参数、本地变量和实例变量)</p>

<h5 id="toc_392">Inspect</h5>

<p>检查功能用来检查字段、局部变量和表达式的引用，既可以打开一个非模式检查窗口，也可以按照需求打开多个检查窗口</p>

<p><strong>操作步骤</strong>: 右击要检查的字段 -&gt; 局部变量或表达式 -&gt; Inspect -&gt;弹出一个非模式检查窗口</p>

<h5 id="toc_393">Mark Object</h5>

<p>标记对象功能可以给对象添加标签，看起来更加直观</p>

<p><strong>操作步骤</strong>: 右击要标记的对象 -&gt; 选择Mark Object或按快捷键fn+F3 -&gt; 然后在弹出的窗口输入对象的标签</p>

<h5 id="toc_394">Set Value</h5>

<p>用来更改运行时字段或变量的值</p>

<h5 id="toc_395">Copy Value</h5>

<p>用来复制变量或结构。当选中一个变量来复制时可以复制变量的值，当选择多项时会复制整个结构</p>

<h5 id="toc_396">Compare Value with Clipboard</h5>

<p>跟剪切板中的值比较</p>

<h5 id="toc_397">Copy Name</h5>

<p>复制变量的名字</p>

<h5 id="toc_398">Evaluate Expression</h5>

<p>计算表达式</p>

<h5 id="toc_399">Add to Watches</h5>

<p>添加到见识窗口会把选择的变量或表达式添加到监视窗口，在我们调试应用程序的时候监视窗口会显示对应的表达式或变量的值。</p>

<h5 id="toc_400">Show Referring Objects</h5>

<p>显示选中变量引用的对象列表</p>

<h5 id="toc_401">Jump to Source</h5>

<p>跳转到所选变量或字段的源码</p>

<h5 id="toc_402">Jump to Type Source</h5>

<p>打开源代码中所选变量或字段的类型</p>

<h5 id="toc_403">View Text</h5>

<p>用来显示所选变量的文本</p>

<h5 id="toc_404">Customize Data Views</h5>

<p>自定义数据显示</p>

<h3 id="toc_405">监视窗口</h3>

<p>监视窗口用来计算当前堆栈帧范围内的变量或表达式，在调试的过程中通过监视窗口来监视变量或表达式的值</p>

<h4 id="toc_406">添加变量或表达式到监视窗口</h4>

<h5 id="toc_407">监视变量</h5>

<ul>
<li>在Variables窗口中点击变量 -&gt; Add to Watches，然后在右边的监视窗口将会出现变量</li>
<li>在Watches窗口中单击左下角的+按钮 -&gt; 输入变量名，会弹出智能联想，选中后添加成功。每当程序执行到包含a变量的时候，监视窗口的值会随着a变量值的变化而变化，达到监视的目的</li>
</ul>

<h5 id="toc_408">监视表达式</h5>

<ul>
<li>按快捷键fn+option+F8，进入计算表达式窗口，输入所要监视的表达式</li>
<li>在Watches窗口中单击左下角的+按钮 -&gt; 输入表达式</li>
</ul>

<h4 id="toc_409">快捷工具</h4>

<p>利用监视窗口底部的工具栏可以快速方便地进行新建、删除、移动、复制操作。</p>

<h3 id="toc_410">调试控制工具</h3>

<p>调试控制工具常用功能</p>

<ul>
<li>暂停、恢复程序运行</li>
<li>终止进程</li>
<li>查看、禁用断点</li>
<li>获取线程堆栈</li>
</ul>

<h4 id="toc_411">View Breakpoints(查看断点)</h4>

<p>打开断点对话框、配置断点属性</p>

<h4 id="toc_412">Mute Breakpoints(禁用断点)</h4>

<p>禁用断点功能可以切换断点状态。</p>

<h4 id="toc_413">Get thread dump(获取线程堆栈)</h4>

<p>显示线程堆栈面板</p>

<h4 id="toc_414">Restore Layout(恢复布局)</h4>

<p>恢复布局功能可以恢复到原始的布局，当前所有的布局变更都会被放弃</p>

<h4 id="toc_415">(Settings)设置</h4>

<ul>
<li>Show Values Inline: 选中后启动内联调试功能，允许在编辑器中观察执行过的变量的值</li>
<li>Show Method Return Values: 选中后会显示上次执行方法的返回值</li>
<li>Auto-Variables Mode: 选中后调试器可以自动评估某些变量</li>
<li>Sort Values Alphabetically: 选中后窗口中的变量值按字母的顺序排列</li>
<li>Unmute Breakpoints on Session Finish: 选中后当一个调试回话完成就会重新启用所有禁用的断点</li>
</ul>

<h3 id="toc_416">步进调试工具</h3>

<h4 id="toc_417">Show Execution Point(显示执行点)</h4>

<p>当我们需要查看当前的执行点时，光标会立刻定位到当前执行到的断点<br/><br/>
<strong>快捷键</strong>: fn + option + F10</p>

<h4 id="toc_418">Step Over(单步跳过)</h4>

<p>执行单步跳过，就会执行下一行。如果下一行是一个方法，就不会进入方法体，而是会执行完此方法，然后跳到下一行。<br/><br/>
<strong>快捷键</strong>: fn + F8</p>

<h4 id="toc_419">Step Into(单步进入)</h4>

<p>执行单布进入，会执行下一行。如果下一行是一个方法，且该方法如果是自定义的方法，则会进入方法内，如果是官方类库的则不会进入。<br/>
<strong>快捷键</strong>: fn + F7</p>

<h4 id="toc_420">Force Step Into(强制进入)</h4>

<p>执行强制进入，会进入任何方法，不管该方法是自定义的还是官方类库的<br/><br/>
<strong>快捷键</strong>: fn option + shift + F7</p>

<h4 id="toc_421">Force Step Out(单步跳出)</h4>

<p>执行单步跳出，会跳出当前进入的方法，返回该方法被调用处的下一行。<br/><br/>
<strong>快捷键</strong>: fn + shift + F8</p>

<h4 id="toc_422">Drop frame(丢弃帧)</h4>

<p>如果你已经进入了某个方法内，执行丢弃帧，当前方法会被中断，并返回当前方法被调用的地方。另外，变量的值也会回到最初。</p>

<h4 id="toc_423">Run to Cursor(运行到光标处)</h4>

<p>在调试时，光标可以放在任意一行。程序会运行到光标所在行暂停。</p>

<h4 id="toc_424">Evaluate Expression(计算表达式)</h4>

<p>会打开计算表达式窗口<br/><br/>
<strong>快捷键</strong>: fn + option + F8</p>

<h3 id="toc_425">计算表达式</h3>

<p>当我们想临时修改某个变量的值或查看其内部方法返回值的时候，可以使用计算表达式功能。</p>

<ul>
<li>Expression Mode: 计算单行表达式</li>
<li>Code Fragment Mode: 计算代码片段，可以对声明、赋值、循环和if/else进行计算</li>
</ul>

<p>使用表达式计算功能时需要注意一下两点</p>

<ul>
<li>只有在调试并且断点被触发的时候，才可以使用计算表达式功能，也就是说如果不是在调试的住鞥太，计算表达式功能是不可用的</li>
<li>如果计算表达式调用一个方法，方法内又恰好有断点，那么该断点会被忽略，直接计算出表达式的值。</li>
</ul>

<h4 id="toc_426">在堆栈帧中计算表达式或代码片段</h4>

<p><strong>菜单栏</strong>: Run -&gt; Evaluate Expression<br/><br/>
<strong>快捷键</strong>: fn + option + F8</p>

<ul>
<li>在帧调试窗口中，选择想要计算表达式的堆栈帧</li>
<li>调用计算表达式功能</li>
<li>选择计算模式</li>
<li>输入表达式或语句</li>
<li>执行计算</li>
</ul>

<h4 id="toc_427">计算任意表达式</h4>

<p>在变量调试窗口中右击变量 -&gt; Evaluate Expression -&gt; 之前选中的变量会显示在表达式输入框中。在这里我们可以切换计算模式、查看计算过的历史、输入表达式。</p>

<h4 id="toc_428">快速计算表达式的值</h4>

<p>前提条件: 将光标放在表达式上或选中表达式<br/><br/>
<strong>菜单栏</strong>: Run -&gt; Quick Evaluate Expression<br/><br/>
<strong>快捷键</strong>: fn + option + command + F8</p>

<h4 id="toc_429">选中表达式立即显示表达式的值</h4>

<p>在调试工具栏上单击设置按钮，勾选【show value on selection change】，然后选中表达式，会在表达式的上面显示计算出来的结果。</p>

<h3 id="toc_430">关联调试到Android进程</h3>

<p>通常我们调试应用程序时，需要先添加断点，再运行调试。这样做会比较慢，因为需要重新部署应用程序。<br/><br/>
Android Studio提供了一种方法可以随时调试应用程序，不管当前应用程序是否以调试模式运行。  </p>

<p><strong>前提条件</strong>: 应用程序已经在设备上运行，已添加断点<br/><br/>
<strong>操作步骤</strong>: 菜单栏 -&gt; Run -&gt; Attach Debugger to Android Process或在工具栏中单击按钮</p>

<h3 id="toc_431">配置和运行单元测试</h3>

<h4 id="toc_432">配置和运行本地单元测试</h4>

<p>本地单元测试用来执行那些对Android没有依赖或Android依赖容易mock的单元测试<br/><br/>
本地单元测试运行在自己电脑上，测试用例在本地虚拟机上编译运行，执行速度快。<br/><br/>
本地单元测试写在app/src/test/java目录下<br/><br/>
本地单元测试使用JUnit或TestNG测试框架</p>

<p>在项目窗口中的类名上右击 -&gt; Run 测试类</p>

<h5 id="toc_433">保存临时配置</h5>

<p>通过上面的方法运行完测试之后，在工具栏的运行配置列表中显示了刚才运行的测试类。这个配置是自动生成的，如果需要保存，单击【Save ’测试类名‘ Configuration】</p>

<h5 id="toc_434">配置本地单元测试</h5>

<p>需要自定义本地单元测试配置时，可以打开Run/Debug Configurations对话框 -&gt; 单击左上角的+号 -&gt; JUnit，然后新增一个JUnit配置窗口</p>

<ul>
<li>Name: 输入配置名</li>
<li>Use classpath of module: 选择测试模块，下拉列表中会列出项目所有的模块，选择我们需要测试的。</li>
<li>Test kind: 选择一种测试范围，本例中选择的是Class
<ul>
<li>Class: 显示测试类的配置项</li>
<li>Method: 显示测试类和方法的配置项</li>
</ul></li>
<li>测试用例配置:Class，选择测试类</li>
<li>Fork mode: 用来指定是为每个测试用例都创建一个进程还是所有测试用例在一个进程中执行。
<ul>
<li>none: 在一个进程中执行所有测试</li>
<li>method: 每个测试用例都会创建一个测试进程，这种方式会比较慢</li>
</ul></li>
<li>Repeat
<ul>
<li>Once: 所有用例只执行一次</li>
<li>N Times: 自定义用例执行次数</li>
<li>Until Failure: 不断重复执行，直到用例失败</li>
<li>Until Stopped: 不断重复执行，直到手动停止</li>
</ul></li>
<li>VM options: 默认值为-ea，用来设置jvm是否启动断言机制</li>
<li>JER: 使用默认的设置即可</li>
</ul>

<h4 id="toc_435">使用命令行运行单元测试</h4>

<p><code>./gradlew test</code><br/><br/>
执行Gradle测试任务所有的测试用例都会被运行，然后会产生测试报告。测试报告存放在app/build/reports/debug/index.html里</p>

<h4 id="toc_436">配置Android单元测试</h4>

<h5 id="toc_437">Android单元测试</h5>

<p>Android单元测试用来执行那些有Android依赖或Android依赖不好mock的单元测试<br/><br/>
Android单元测试运行在真机或模拟器上<br/><br/>
Android单元测试写在app/src/androidTest/java目录下<br/><br/>
Android单元测试使用Android Tests测试框架</p>

<h5 id="toc_438">配置Android单元测试</h5>

<p>需要自定义本地单元测试配置，可以打开Run/Debug Configurations对话框 -&gt; 单击左上角的+号 -&gt; Android Tests，新增一个Android Tests配置窗口</p>

<ul>
<li>Name: 输入配置名</li>
<li>Module: 选择需要测试的模块</li>
<li>Test: 指定测试范围</li>
<li>指定instrumentation runner</li>
<li>指定目标设备</li>
</ul>

<h2 id="toc_439">工具</h2>

<p>Android Studio中集成了很多非常好用的工具，除了IntelliJ IDEA 自带任务管理、生成Java Doc等工具，还集成了以前放在SDK目录中可以独立运行的Android开发工具，如Android Monitor、Android SDK Manager、模拟器等，现在他们已经被全部集成到了Android Studio当中，而且变得更好用。</p>

<h3 id="toc_440">任务</h3>

<p>Android Studio支持与很多任务跟踪管理系统进行集成，只要配置一个任务跟踪管理系统并与我们的账号进行绑定，就可以方便地创建、跟踪、处理分配给自己的任务。<br/><br/>
一个任务可以对应多个changelist，changelist就是我们修改过的文件。我们可以给每一个changelist起名字，当完成一项任务后，可以选择提交相应的changelist。</p>

<h4 id="toc_441">配置任务</h4>

<h5 id="toc_442">进入配置界面</h5>

<ul>
<li>偏好设置 -&gt; Tools -&gt; Tasks -&gt; Servers</li>
<li>Tools - &gt; Tasks &amp; Contents -&gt; Configure Servers</li>
<li>open task 右上角的setting</li>
</ul>

<h5 id="toc_443">配置JIRA</h5>

<p>JIRA是集项目计划、任务分配、需求管理、错误跟踪于一体的商业软件。</p>

<ol>
<li>进入服务器配置界面: 偏好设置 -&gt; Tools -&gt; Tasks -&gt; Servers</li>
<li>添加JIRA服务器: 单击【+】按钮，选择JIRA</li>
<li>输入URL和账号: 输入JIRA的URL地址，再输入用户名和密码</li>
</ol>

<h5 id="toc_444">配置GitHub</h5>

<ol>
<li>进入服务器配置界面: 偏好设置 -&gt; Tools -&gt; Tasks -&gt; Servers</li>
<li>添加JIRA服务器: 单击【+】按钮，选择GitHub</li>
<li>输入URL和账号: 输入相关信息</li>
</ol>

<h5 id="toc_445">配置Gitlab</h5>

<ol>
<li>进入服务器配置界面: 偏好设置 -&gt; Tools -&gt; Tasks -&gt; Servers</li>
<li>添加JIRA服务器: 单击【+】按钮，选择Gitlab</li>
<li>输入UR和Token并选择对应项目</li>
</ol>

<h4 id="toc_446">打开任务</h4>

<h5 id="toc_447">直接打开任务</h5>

<p><strong>菜单栏</strong>: Tools -&gt; Tasks &amp; Contents -&gt; Open Tasks<br/><br/>
<strong>快捷键</strong>: option + shift + N</p>

<h5 id="toc_448">搜索任务</h5>

<p>如果任务太多需要搜索，通过输入任务名会进行相关的匹配</p>

<h5 id="toc_449">包括已关闭的任务</h5>

<p>默认显示的任务都是未关闭状态的，如果想查看已关闭的任务，需要勾选【Include closed tasks】</p>

<h5 id="toc_450">查看任务的描述和注释信息</h5>

<p>使用fn + F1键可以查看任务的描述和注释信息</p>

<h5 id="toc_451">切换任务并合并上下文</h5>

<p>在Open Task界面，选中一个任务，按Shift + 回车键会切换到选中的任务，上下文会合并。</p>

<h4 id="toc_452">创建新任务</h4>

<p>在Open Task界面输入新任务的名字，按回车键就会开始创建</p>

<p>新建一个任务的时候会新建一个分支，分支的名字默认为任务名，可以随意修改，它会跟任务相对应。默认情况下，新建一个任务时会清空前一个任务的上下文。如果不想清空，需要取消勾选【Clear current context】</p>

<h4 id="toc_453">任务变更列表</h4>

<h5 id="toc_454">新建changelist</h5>

<p>输入新的changelist的名字。</p>

<h5 id="toc_455">提交change list</h5>

<p><strong>菜单栏</strong>: VCS -&gt; Commit Changes<br/><br/>
<strong>快捷键</strong>: command + K</p>

<h4 id="toc_456">切换/关闭任务</h4>

<h5 id="toc_457">切换任务</h5>

<p><strong>操作步骤</strong>: 工具栏 -&gt; 打开任务列表 -&gt; 双击切换<br/><br/>
切换任务以后，之前任务的上下文会被关闭</p>

<h5 id="toc_458">关闭任务</h5>

<p>当一个任务完成以后，可以通过菜单栏: Tools -&gt; Tasks&amp;Contexts -&gt; Close Active Task或者快捷键option + shift + W 来关闭任务</p>

<h4 id="toc_459">管理上下文</h4>

<h5 id="toc_460">上下文是什么</h5>

<p>上下文(Context)是指与一个任务(Task)相关的在在编辑器中被打开的文件，包括变更列表、编辑器、项目查看状态、运行配置和断点。上下文与任务是密切相关的，新建一个任务，上一个任务的上下文是要被清空的，表现就是工作去已打开的文件全部被关闭，然后新的上下文就开始被建立。</p>

<h5 id="toc_461">保存上下文</h5>

<p><strong>菜单栏</strong>: Tools -&gt; Tasks&amp;Contexts -&gt; Save Context -&gt; 弹出之前保存过的context list</p>

<p>在这个列表里加载、合并、移除上下文。</p>

<h5 id="toc_462">清除上下文</h5>

<p>清除上下文功能会把所有上下文信息全部清除。<br/><br/>
<strong>菜单栏</strong>: Tools -&gt; Tasks&amp;Contexts -&gt; Clear Context</p>

<h3 id="toc_463">JavaDoc</h3>

<p>JavaDoc是Sun公司提供的一个技术，从源代码中抽取类、方法、成员等主食形成一个和源代码配套的API帮助文档。也就是说，只要在编写程序时以一套特定的标签做注释，在程序编写完成后，通过JavaDoc就可以同时形成程序的开发文档了。</p>

<h4 id="toc_464">配置JavaDoc</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Code Style -&gt; Java -&gt; JavaDoc</p>

<h4 id="toc_465">生成JavaDoc</h4>

<p><strong>菜单栏</strong>: Tools -&gt; Generate JavaDoc 来指定生成JavaDoc的范围和参数。在这里可以指定生成JavaDoc的范围、输出目录、输出内容和参数。  </p>

<p>特备注意Other command arguments的配置，如果项目中使用的是UTF8有编码格式，在这里要指定参数: -encoding utf-8 -charset utf-8，否则生成的JavaDoc中文会出现乱码。</p>

<p>生成JavaDoc时会先执行Gradle构建任务</p>

<blockquote>
<blockquote>
<blockquote>
<p>如果生成JavaDoc时报错说 android.jar 找不到，就需要在 Dependencies 中添加 android.jar</p>
</blockquote>
</blockquote>
</blockquote>

<h3 id="toc_466">将当前文件保存为模板</h3>

<p><strong>前提条件</strong>: 光标定位在编辑界面<br/><br/>
<strong>操作步骤</strong>: 菜单栏 -&gt; Tools -&gt; Save File as Template -&gt; 弹出模板配置窗口 -&gt; 单击【OK】按钮后模板被创建</p>

<p>当新建一个文件时，可以看到刚才创建的模板选项。</p>

<p>如果想删除或重新编辑模板，就单击删除按钮或在菜单栏中单击File -&gt; New -&gt; 【Edit File Templates】</p>

<h3 id="toc_467">IDE Scripting Console</h3>

<p>使用 IDE Scripting Console 可以测试Groovy的代码片段<br/><br/>
<strong>操作步骤</strong>: 菜单栏 -&gt; Tools -&gt; IDE Scripting Console</p>

<h3 id="toc_468">管理Android SDK</h3>

<p>Android SDK 管理Android Studio中使用的SDK和工具，我们可以在这里查看、安装、启动、删除SDK。</p>

<p><strong>菜单栏</strong>: Tools -&gt; Android -&gt; SDK Manager<br/><br/>
<strong>偏好设置</strong>: Appearance &amp; Behavior -&gt; System Settings -&gt; Android SDK</p>

<h4 id="toc_469">管理Android SDK平台</h4>

<p>每个Android SDK平台的安装包都默认包含了与API级别对应的Android平台和相关的源码。</p>

<h4 id="toc_470">管理SDK开发工具和更新站点</h4>

<p>SDK Tools选项卡中显示了Android SDK的开发工具，安装后可自动检测更新，勾选【Show Package Details】会显示所有可用的SDK版本</p>

<p>SDKUpdate Sites选项卡用来管理Android SDK工具更新的站点。如果站点没有被勾选，Android Studio SDK Manager就不会去检测更新。</p>

<h3 id="toc_471">管理Android模拟器</h3>

<p>内容简单，跳过</p>

<h3 id="toc_472">即时运行</h3>

<p>Instant Run会让我们的开发过程变得快速流畅,Instant Run会分析我们修改的内容，然后决定以最快的方式部署新的代码</p>

<ul>
<li>热交换: 能够在APP运行时处理变更方法的具体实现</li>
<li>暖交换: 能够在APP运行时把资源文件注入应用中</li>
<li>冷交换: 能够在APP运行时处理一些结构性的变更。</li>
</ul>

<h4 id="toc_473">启用即时运行</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Build,Execution,Deployment -&gt; Instant Run -&gt; 勾选【Enable Instant Run to hot swap code/resource changes on deploy】</p>

<ul>
<li>Restart activity on code changes: 代码变更时重启activity</li>
<li>Show toasts in the running app when changes are applied: 每次变更应用时都显示toast提示</li>
<li>Show Instant Run status notifications: 显示即时运行状态通知</li>
</ul>

<h4 id="toc_474">使用即时运行之前需要知道的事情</h4>

<ul>
<li>即时运行只支持Android 4.0</li>
<li>即时运行只支持Debug版本</li>
</ul>

<h4 id="toc_475">如何判断是否已开启即时运行</h4>

<p>有闪电标识说明已经开启即时运行</p>

<h4 id="toc_476">即时运行是如何工作的</h4>

<p>即时运行被设计用来加快应用的构建和部署，通过执行“热交换”，“暖交换”，“冷交换”把变更的代码和资源推送到设备上</p>

<table>
<thead>
<tr>
<th style="text-align: left">代码变更</th>
<th style="text-align: left">即时运行行为</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">改变现有方法的实现代码</td>
<td style="text-align: left">支持“热交换”: APP保持正常运行，待下次方法被调用时会使用新的实现</td>
</tr>
<tr>
<td style="text-align: left">添加/删除或改变现有的资源</td>
<td style="text-align: left">支持&quot;暖交换&quot;: 变更的资源会被推送到设备上，然后Activity会自动重启</td>
</tr>
<tr>
<td style="text-align: left">结构代码变更(添加、删除或改变[-注解-实例字段-静态字段-静态方法签名-实例方法签名],改变当前类继承的父类,改变实现的接口列表,改变类的静态初始值设定,利用动态的资源ID重新布局元素)</td>
<td style="text-align: left">支持“冷交换”: 结构代码变更被推送到目标设备，然后整个应用重启</td>
</tr>
<tr>
<td style="text-align: left">改变应用的manifest,应用的manifest中改变了资源的引用</td>
<td style="text-align: left">不支持。即时运行不支持改变Android manifest或manifest中资源的引用，这是因为API中包含的某些信息是从Android manifest中确定的。当APK被安装到设备上时，如果改变了manifest就必须重装APK。由于热、暖、冷交互是为了避免重新安装APK，为了加快速度，如果改变了Android manifest，Android Studio会自动部署一个新的构建</td>
</tr>
</tbody>
</table>

<h3 id="toc_477">Android监视器</h3>

<p>Android Studio集成了非常丰富的工具来对APP进行监控和调试，我们可以在Android 监视器查看日志、截图、录像、解析布局、实时查看性能。</p>

<h4 id="toc_478">启用ADB集成</h4>

<p><strong>菜单栏</strong>: Tools -&gt; Android -&gt; 勾选Enable ADB Integration  </p>

<h4 id="toc_479">打开/隐藏 Android Monitor 工具窗口</h4>

<p><strong>快捷键</strong>: command + 6</p>

<ul>
<li>显示已连接到电脑上的设备列表，在这里选择需要使用的设备</li>
<li>显示手机上运行的APP进程列表</li>
<li>针对手机操作的工具栏，从上到下依次是截图、录像、系统信息、终止应用、布局解析、帮助工具。</li>
<li>Locat日志过滤工具栏，从左到右依次是日志级别、关键字、是否使用正则匹配、过滤配置</li>
<li>Logcat日志输出面板</li>
<li>Locat日志工具栏</li>
</ul>

<h3 id="toc_480">截图</h3>

<ul>
<li>Android Studio支持对真机和模拟器截图</li>
<li>图片格式为PNG</li>
<li>Android Studio支持对截图做一些修饰</li>
<li>截图是针对真机或模拟器的</li>
</ul>

<h3 id="toc_481">录像</h3>

<ul>
<li>视频格式为MP4</li>
<li>最长可以录制三分钟</li>
<li>仅支持真机，模拟器不能录像</li>
<li>录像是针对手机的</li>
</ul>

<h3 id="toc_482">捕获系统信息</h3>

<p>通常我们想查看系统信息都是使用adb shell dumpsys命令，如查看某个进程的内存信息:<br/><br/>
<code>~$ adb -s 设备序列号 shell dumpsys meminfo 进程名</code></p>

<h3 id="toc_483">布局解析</h3>

<p>可以分析出当前界面的布局结构以及每个组件的属性</p>

<p><strong>菜单栏</strong>: Tools -&gt; Layout Inspector  </p>

<h3 id="toc_484">Logcat监视器</h3>

<p>Logcat监视器主要用来对APP进行监控和调试，能够实时显示APP和系统输出的日志信息。当异常发生时会显示相关的堆栈信息和代码链接，我们可以单击链接跟踪到代码</p>

<p>Android 中支持6中日志类型</p>

<ul>
<li>Verbose(Log.v()): 详细，用于打印所有不重要的、一般的日志信息</li>
<li>Debug(Log.d()): 调试，用于打印调试用的日志信息</li>
<li>Info(Log.i()): 信息，用于打印正常使用时需要关注的日志信息</li>
<li>Warn(Log.w()): 警告，用于打印可能会有问题但还没发生错误的日志信息</li>
<li>Error(Log.e()): 错误，用于打印运行时出现的严重错误的日志信息</li>
<li>Assert(Log.wrf()): 断言，用于打印运行时出现的致命错误和日志信息</li>
</ul>

<p>1、日志没有显示: 在工具栏单击【Restart】重新启动日志<br/><br/>
2、设置日志头信息的显示: 在工具栏单击【Logcat Header】设置日志头信息的显示内容。<br/><br/>
3、过滤日志</p>

<ul>
<li>过滤日志类型，输出级别为 Verbose &gt; Debug &gt; Info &gt; Warn &gt; Error &gt; Assert。默认显示Verbose级别的日志。</li>
<li>过滤输出的日志信息，支持正则匹配</li>
<li>过滤器
<ul>
<li>Show only selected application: 仅显示当前选中的APP的日志</li>
<li>Firebase: 仅显示Firebase的日志信息</li>
<li>No Filters: 显示设备上所有的日志信息</li>
<li>Edit Filter Configuration: 编辑过滤器配置</li>
<li>创建一个Logcat过滤器
<ul>
<li>Filter Name: 过滤器的名字</li>
<li>Log Tag: 设置过滤Tag参数，支持正则匹配</li>
<li>Log Message: 设置过滤日志信息参数，支持正则匹配</li>
<li>Package Name: 设置过滤包名参数，支持正则匹配</li>
<li>PID: 设置过滤的作用</li>
<li>Log Level: 设置过滤的日志类型</li>
</ul></li>
</ul></li>
</ul>

<p><strong>自定义Logcat的颜色</strong>  </p>

<ul>
<li><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Colors &amp; Fonts -&gt; Android Logcat</li>
<li>设置颜色
<ul>
<li>新建一个Scheme</li>
<li>选择要设置的日志类型</li>
<li>取消勾选【Use inherited attributes】</li>
<li>设置颜色</li>
</ul></li>
</ul>

<h3 id="toc_485">内存监视器</h3>

<p>内存监视器可以实时观察应用程序的内存使用情况。</p>

<p>要想查看应用程序的内存，首先要选择设备和应用程序的进程，其次要确定内存监视器是启用状态。<br/><br/>
我们可以一边操作APP一边观察内存的变化，如果发现操作APP的过程中突然出现一个意料之外内存峰值或内存GC后不断增长，那就有可能会发生OOM或内存泄漏。<br/><br/>
我们可以主动发起GC(垃圾回收),清除无用或不再被其他对象引用的那些对象所占用的内存空间。<br/><br/>
GC后内存应该稳定在一个值附近才对，如果还在不断增长，那一定是内存泄漏了。</p>

<h4 id="toc_486">Dump Java Heap</h4>

<h5 id="toc_487">使用HPROF查看器分析内存泄漏</h5>

<ul>
<li>单击【Dump Java Heap】按钮，得到当前内存的快照(HPROF)文件。文件被存放在Captures/Heap Snapshot目录下，并使用HPROF查看器自动打开。</li>
<li><p>使用HPROF查看器分析内存泄漏(HPROF查看器显示了APP的内存分配情况，包括APP为哪些类分配了内存空间、类的对象个数以及占用的内存大小。我们可以通过这些信息确认是否发生了内存泄漏)</p>
<ul>
<li>Captrues/Heap Snapshot: 用于存放HPROF文件</li>
<li><p>显示APP占用内存空间的类和类的属性</p></li>
<li><table>
<thead>
<tr>
<th style="text-align: left">属性</th>
<th style="text-align: left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">Class Name</td>
<td style="text-align: left">内存中的类名</td>
</tr>
<tr>
<td style="text-align: left">Total Count</td>
<td style="text-align: left">内存中该类的对象个数</td>
</tr>
<tr>
<td style="text-align: left">Heap Count</td>
<td style="text-align: left">选中的堆内存中该类的对象个数</td>
</tr>
<tr>
<td style="text-align: left">Sizeof</td>
<td style="text-align: left">该对象的大小</td>
</tr>
<tr>
<td style="text-align: left">Shallow Size</td>
<td style="text-align: left">选中的堆内存中所有对象浅堆大小总和(浅堆是指一个对象直接占用的内存大小，不包含对其他对象的引用)，Shallow Size = Sizeof * Heap Count</td>
</tr>
<tr>
<td style="text-align: left">Retained Size</td>
<td style="text-align: left">选中的堆内存中所有对象保留堆大小总和(保留堆是指一个对象自己占用的浅堆加上从该对象能直接或间接访问到对象的浅堆之和)，Retained Size等于所有Dominating Size相加</td>
</tr>
</tbody>
</table></li>
<li><p>显示选中类的所有实例和属性</p></li>
<li><table>
<thead>
<tr>
<th style="text-align: left">属性</th>
<th style="text-align: left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left">Instance</td>
<td style="text-align: left">类的具体对象</td>
</tr>
<tr>
<td style="text-align: left">Depth</td>
<td style="text-align: left">从GC root到选中对象最短的跳跃数</td>
</tr>
<tr>
<td style="text-align: left">Shallow Size</td>
<td style="text-align: left">该对象的浅堆大小</td>
</tr>
<tr>
<td style="text-align: left">Dominating Size</td>
<td style="text-align: left">该对象的保留堆大小</td>
</tr>
</tbody>
</table></li>
<li><p>Reference Tree: 指向所选对象的引用，以及引用的引用，其他属性同上</p></li>
<li><p>Analyzer Tasks: 分析任务，使用这个功能可能分析出发生内存泄漏的Activity和重复的字符串</p>
<ul>
<li>Detect Leaked Activities: 检测内存泄漏的Activity</li>
<li>Find Duplicate String: 找出重复的字符串</li>
</ul></li>
<li><p>Analysis Results: 分析结果</p></li>
</ul></li>
</ul>

<h5 id="toc_488">使用MAT分析内存泄漏</h5>

<p>如果还是习惯于使用MAT分析，也可以导出标准的hprof文件</p>

<ul>
<li>Captures/Heap Snapshot -&gt; 右击.hprof文件 -&gt; Export to standard .hprof</li>
<li>选择文件的存储路径</li>
<li>单击【OK】按钮文件保存成功</li>
<li>接下来就可以直接使用MAT打开这个文件进行分析了。</li>
</ul>

<h4 id="toc_489">Allocation Tracking</h4>

<p>Allocation Tracking(内存分配追踪器)用来监视内存分配更详细的信息。我们可以监视在执行某些操作一段时间内的内存分配情况。知道这些分配，可以更加有针对性地优化相关方法。</p>

<ul>
<li>可以查看何时、何处分配了对象，以及对象的大小、分配的线程和堆栈跟踪信息</li>
<li>可以通过分配/释放模式复现内存抖动的情况</li>
<li>可以配合HPROF查看器一起使用，追踪内存泄漏的问题。例如，当我们使用HPROF查看器发现了一个bitmap驻留在堆中的时候，可以使用Allocation Tracking 找到它的分配位置。</li>
</ul>

<p>单击【Start Allocation Tracking】开始追踪内存分配，这时我们对APP进行一些操作，然后单击【Stop Allocation Tracking】</p>

<ul>
<li>停止追踪后.alloc文件被保存在Capture/Allocation Tracting目录下，并且被自动打开。</li>
<li>显示内存分配信息。默认以方法来分类内存分配信息，还可以切换成以分配器来分类内存分配信息。</li>
<li>|属性|说明|<br/>
|:--|:--|<br/>
|Method|负责内存分配的方法|<br/>
|Count|分配对象的个数|<br/>
|Size|分配的内存总大小(Byte)|</li>
</ul>

<p>单击这些属性可以进行相应的排序，我们可以通过内存分配的次数和大小来找出那些占用过多的内存、引发过多的GC且又非常耗时的方法。</p>

<ul>
<li>内存分配的图标。通过这个漂亮的图表，我们可以看出哪些方法或类拥有最多的对象</li>
<li>显示图标指定的线程或方法的分配次数和内存大小
<ul>
<li>将光标放在中心点会显示图表中占比最大的线程信息，如线程名、分配次数和内存大小</li>
<li>这个圆圈是所有线程的占比，一些占比较小的线程双击后可展开</li>
<li>显示线程名/方法名、分配次数和内存大小</li>
</ul></li>
</ul>

<h3 id="toc_490">CPU监视器</h3>

<p>CPU监视器实时显示用户和内核模式下CPU使用率的综合，可以让我们很轻松地查看操作APP时的CPU使用率</p>

<h4 id="toc_491">模式</h4>

<p>在用户(User)模式下，代码必须通过系统API访问硬盘或内存，并且只能访问虚拟内存地址，崩溃通常是可回收的。在内核(Kernel)模式下，代码可以直接访问硬件，包括物理内存地址，崩溃会导致设备停止。</p>

<h4 id="toc_492">方法追踪</h4>

<p>Method Tacking用来追踪一段时间内系统的运行情况，可以查看APP中的调用堆栈和时间信息</p>

<ul>
<li>单击左上角的Start Method Tracking</li>
<li>操作APP一段时间后再单击一次</li>
<li>trace文件被保存在Captures/Method Tracking目录下，并且自动打开
<ul>
<li>Inclusive Time: 包含时间(ms)，方法占用的CPU时间，包含内部调用其他方法占用的CPU时间</li>
<li>Exclusive Time: 独占时间(ms)，方法占用的CPU时间，但不含内部调用其他方法所占用的CPU时间</li>
</ul></li>
</ul>

<p>常用判断方法</p>

<ul>
<li>方法调用次数不多，但每次调用却需要花费很长时间，可能会有问题</li>
<li>自身占用时间不长，但调用却非常频繁的方法也可能会有问题</li>
</ul>

<h3 id="toc_493">网络监视器</h3>

<p>网络监视器用来查看APP的网络请求情况，可以实时监控到APP的数据传输，使用它可以帮助我们扎到一些不必要的或不规范的网络请求。<br/><br/>
流量测试是专项测试中非常重要的一个测试项，我们需要保证APP不会有不必要的数据加载、不会有过大的数据加载</p>

<h3 id="toc_494">GPU监视器</h3>

<p>GPU监视器用来查看UI界面渲染帧需要花多少时间，可以实时查看每一帧渲染所花费的时间。</p>

<p>GPU监视器能帮我们快速查看UI界面的渲染执行、确认渲染路径是否花了较长的处理时间、寻找帧渲染的时间峰值与用户或程序操作相关联。要想使用GPU监视器，首先要打开GPU呈现模式分析。</p>

<p>手机 -&gt; 设置 -&gt; 应用程序 -&gt; 开发者选项 -&gt; GPU呈现模式分析 -&gt; 勾选【在adb shell dumpsys gfxinfo中】 -&gt; 选中需要测试的APP进程，开启GPU监视器。</p>

<p>帧渲染的过程分成了四个不同的阶段</p>

<ul>
<li>蓝色: Draw(绘制)，表示创建/刷新DisplayList(包含需要GPU绘制到屏幕上的数据信息)所花费的时间</li>
<li>紫色: Prepare(准备)，表示UI线程将所有资源传递给渲染线程所花费的时间</li>
<li>橙色: Process(过程)，表示执行DisplayList并创建OpenGL命令所花费的时间</li>
<li>黄色: Execute(执行)，表示CPU发送OpenGL命令给GPU，等待GPU渲染完成的时间。</li>
</ul>

<p>GPU监视器的组成包括渲染帧的不同阶段，显示渲染帧耗时曲线图。绿色的线表示60FPS，即每一帧渲染时间大概是16ms。红色的线表示30FPS，即每一帧渲染时间大概是33ms</p>

<h3 id="toc_495">APK分析器</h3>

<p>能反编译APK，可以帮助我们非常方便地分析APK当中的内容。我们可以用它来分析APK当中的混淆文件，一方面可以参考别人家的APK是如何配置混淆文件的，另一方面也可以排查自己家的APK是否有相关的配置问题，我们还可以用它来查看自己编译的资源文件，找出一些比较大的文件进行具体分析，确认是否需要保留、减小包大小。右上角的【Compare with...】功能可以对比两个APK文件，找出差异性，方便分析不同版本APK之间的区别。</p>

<p><strong>菜单栏</strong>: Build -&gt; Analyze APK -&gt; 选择要分析的APK -&gt; OK</p>

<p>以微信APK为例</p>

<ul>
<li>com.tencent.mm: 微信的包名</li>
<li>version 6.1.0.73_rl097298: 版本号</li>
<li>Raw File Size: 34.2MB: 分析出来的APK文件总大小</li>
<li>Download Size: 27.6MB: 下载下来的APK的总大小</li>
<li>File: 分析出来的文件列表</li>
<li>Raw File Size: 分析出来的文件对应的原始大小(未压缩过的)</li>
<li>Download Size: 分析出来的文件对应的压缩过的大小</li>
<li>% of Total Download size: 分析出来的文件对应的压缩过的大小/下载下来的APK的总大小</li>
</ul>

<p>在APK分析结果界面，按文件大小从高到低排序，可以很清楚的看出哪些是大文件，然后查看大文件内容。如果想减少包大小，需要先从大文件入手。我们可以查看合并后的AndroidManifest.xml是否正确，还可以混淆文件，看看微信是如何进行混淆配置的。</p>

<h3 id="toc_496">主题编辑器</h3>

<p>主题编辑器支持实时预览主题效果，支持横竖屏、UI模式、虚拟机、Android版本和多语言预览。  </p>

<p><strong>菜单栏</strong>: Tools -&gt; Android -&gt; Theme Editor 或者打开 res/values/styles.xml -&gt; 单击右上角Open editor</p>

<ul>
<li>colorPrimaryDark: 状态栏颜色</li>
<li>colorPrimary: 标题栏颜色</li>
<li>textColorPrimary: 标题栏字体颜色</li>
<li>windowBackground: 窗口背景颜色</li>
<li>naigationBarColor: 虚拟导航栏背景颜色</li>
</ul>

<h2 id="toc_497">版本控制</h2>

<p>版本控制是项目开发过程中必不可少的部分，不管是个人还是团队，灵活地使用版本控制将会使项目开发变得更加轻松。</p>

<ul>
<li>菜单栏 -&gt; VCS 可以看到版本控制系统的所有功能</li>
<li>右键 -&gt; 菜单 可以看到版本控制系统的选项，只包含对应的版本控制系统特有的功能</li>
<li>底部工具栏 -&gt; Version Control(很多功能和菜单栏VCS相同，但是这里的操作更加有针对性，还可以批量操作)</li>
<li>顶部工具栏 -&gt; 常用功能(更新项目、提交变更、跟远程仓库中的文件进行对比、显示历史、撤销操作)</li>
<li>状态栏 -&gt; 分支操作(对本地、远程分支进行各种操作，比如检出、创建新的分支、对比、合并、删除等)</li>
</ul>

<h3 id="toc_498">Git偏好设置</h3>

<p><strong>设置步骤</strong>: 偏好设置 -&gt; Version Control -&gt; Git</p>

<ul>
<li>Path to Git executable: Git执行路径</li>
<li>SSH executable: 执行SSH，默认使用Android Studio内建的</li>
<li>commit automatically on cherry-pick: 在cherry-pick时是否自动提交</li>
<li>Warn if Crlf Line separators are about to be committed: 如果回车换行符被提交是否警告</li>
<li>Warn when committing in detached HEAD or during rebase: 提交detached HEAD 或 rebase 时是否警告</li>
<li>Update method: 选择代码更新方式，包括Branch defaut，merge，rebase</li>
<li>Auto-update if push of the current branch was rejected: push当前分析被拒绝是否自动更新</li>
<li>Allow force push: 是否允许强制push</li>
</ul>

<h3 id="toc_499">配置GitHub账户信息</h3>

<p><strong>设置步骤</strong>: 偏好设置 -&gt; Version Control -&gt; GitHub</p>

<p>输入账号信息</p>

<h3 id="toc_500">从GitHub克隆代码</h3>

<ul>
<li>进入GitHub克隆界面
<ul>
<li>欢迎界面: Check out project from Version Control -&gt; GitHub</li>
<li>菜单栏: File -&gt; New -&gt; Project from Version Control -&gt; GitHub</li>
<li>菜单栏: VCS -&gt; Check out from Version Control -&gt; GitHub</li>
</ul></li>
<li>配置克隆地址</li>
<li>下载并打开项目。单击【Clone】按钮开始从给定的仓库地址克隆项目到本地，完成后会弹出一个【Import Project from Gradle】确认对话框。</li>
</ul>

<h3 id="toc_501">将本地项目共享到GitHub</h3>

<ul>
<li>单价【Share Project on GitHub】。打开本地项目 -&gt; 菜单栏 -&gt; Import into Version Control -&gt; Share Project on GitHub</li>
<li>确定是本地项目。如果此项目已经在GitHub上，在Android Studio右上角会有相应的提示信息，单击GitHub可以跳转到项目主页。如果此项目没有在GitHub上，就会弹出一个新建仓库的对话框。</li>
<li>指定首次提交的文件和提交的备注。单击【OK】按钮以后在状态栏会显示进度。</li>
<li>确认分享成功。分享成功后在Android Studio的状态栏和右上角会显示成功提示。如果想查看GitHub上到底有没有分享成功，可以单击【SecondAPP】到项目主页查看。</li>
</ul>

<h3 id="toc_502">查看本地变更历史</h3>

<h4 id="toc_503">查看某个文件的本地变更历史</h4>

<p><strong>前提条件</strong>: 在文件列表中选中此文件或打开此文件，光标在文件中。<br/><br/>
<strong>操作步骤</strong>: 右击 -&gt; 在弹出的操作选项中单击Local History -&gt; Show History</p>

<p><strong>显示变更历史</strong>: 如果两个文件不同就会提示不同的个数，窗口底部列出了不同颜色表示的变更操作<br/><br/>
<strong>查看某段代码的本地变更历史</strong>: 如果想查看某段代码本地的变更，需要先选中这段代码，然后再Local History列出的选项中选择【Show History for Selection】<br/><br/>
<strong>查看某个文件夹的本地变更历史</strong>: 如果想要查看某个文件夹的本地变更，只需要选中这个文件夹，然后右击选择Local History -&gt; Show History。我们还可以为每次变更贴上一个标签，只要在Local HIstory中选择Put Label，然后输入标签内容就可以了。</p>

<h3 id="toc_504">Git添加文件</h3>

<ul>
<li>未跟踪是指没有被纳入版本控制的文件，Git就不会跟踪文件的变更</li>
<li>已跟踪是指已被纳入版本控制的文件，在上一次的快照中有它们的记录，在工作一段时间后，这些文件的状态可能是未修改，已修改或已放入暂存区。</li>
</ul>

<p>本地文件提交到远程仓库一般的流程为: 添加文件跟踪 -&gt; 暂存已修改的文件 -&gt; 提交到本地仓库 -&gt; 推送到远程仓库。</p>

<h4 id="toc_505">添加文件跟踪</h4>

<p>如果我们新建了一个文件，默认是没有被跟踪的，Git就不会跟踪文件的变更。未跟踪的文件显示为红色。</p>

<ul>
<li>右击文件 -&gt; Git -&gt; Add</li>
<li>VCS-&gt; Git -&gt; Add</li>
<li>option + command + A</li>
</ul>

<p>添加完成后，文件颜色变为绿色，即已跟踪<br/><br/>
提交到本地仓库/远程仓库的文件颜色显示为白色</p>

<h4 id="toc_506">暂存已修改的文件</h4>

<p>暂存已修改的文件方法同添加文件跟踪</p>

<h3 id="toc_507">Git提交变更</h3>

<p>当本地文件变更之后，我们需要提交变更</p>

<p><strong>菜单栏</strong>: VCS -&gt; Git -&gt; Commit File<br/>
<strong>快捷键</strong>: command + K</p>

<h4 id="toc_508">配置提交信息</h4>

<p>在提交变更窗口中可以选择Change list，也可以选择要提交的变更文件。在Author中选择或输入作者名字。选择Amend commit(修订提交)会在Commit Message中添加上一次的提交信息。<br/><br/>
还可以选择做一些代码优化的工作。</p>

<ul>
<li>Reformat code(格式化代码)</li>
<li>Rearrange code(重新排列代码)</li>
<li>Optimize imports(优化导入)</li>
<li>Perform code analysis(执行代码分析)</li>
<li>Check TODO(检查待办事项)</li>
<li>Cleanup(清理)</li>
<li>Update copyright(更新版权声明)</li>
</ul>

<h4 id="toc_509">提交变更</h4>

<ul>
<li>Commit and Push: 将本地变更的文件提交到本地仓库，然后推送到远程仓库</li>
<li>Create Patch: 将本地变更的文件作为补丁创建</li>
<li>Commit: 将本地变更的文件提交到本地仓库</li>
</ul>

<h3 id="toc_510">Git文件逐行追溯</h3>

<p>如果想查看某个文件的某一行是谁修改的，就需要使用文件逐行追溯功能<br/><br/>
执行文件逐行追溯操作，会显示某个文件每一行的详细改动信息，也可以说是每一行的注释，包括修订版本号、提交者、提交日期以及提交次数。</p>

<p><strong>如何进行文件逐行追溯</strong><br/><br/>
其实就是执行git annotate命令，同git blame  </p>

<ul>
<li><strong>菜单栏</strong>: 单击VCS -&gt; 选择Annotate</li>
<li>右击文件编辑区域 -&gt; 单击Git -&gt; 选择Annotate</li>
<li>右击文件左边栏 -&gt; 选择Annotate</li>
</ul>

<h3 id="toc_511">显示当前修订版本</h3>

<p>修订版本号是一组SHA-1值，可以通过SHA-1 值来获取对应的那一次提交。SHA-1是散列函数加密算法，输出的散列值为40位十六进制数字串，可用于验证信息的一致性，防止被篡改。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; VCS，右击某一个文件或文件编辑区 -&gt; Git -&gt; Show Current Revision</p>

<h3 id="toc_512">Git文件比较</h3>

<p>Android Studio集成的Git提供了非常好用的文件比较功能，可以将本地文件与远程仓库中的、某次提交的或其他分支的文件进行比较。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; 右击某一个文件或文件的编辑区 -&gt; VCS -&gt; Git,或者底部工具栏 -&gt; Version Control -&gt; 右击有变更的文件 -&gt; Git</p>

<ul>
<li>Compare with the Same Repository Version: 比较本地文件与远程仓库的文件</li>
<li>Compare with Last Repository Version: 本地文件与最近的一次提交比较</li>
<li>Compare with: 本地文件与某一次提交比较</li>
<li>Compare with Branch: 本地的文件或文件夹与某个分支上的进行比较</li>
</ul>

<h3 id="toc_513">Git撤销操作</h3>

<p>如果我们对某个或某几个文件进行了修改，现在想撤销这些修改，可以使用Git提供的撤销操作功能。单击【Revert】按钮，被选中的文件就恢复到了改动之前的状态。</p>

<h3 id="toc_514">Git版本回退</h3>

<p>Git版本回退的意思就是讲本地代码会退到某一个指定的版本，此版本之前的所有内容都会被重置。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; VCS -&gt; Git -&gt; Reset HEAD -&gt; 然后弹出Reset Head对话框</p>

<ul>
<li>Reset Type: 回退类型
<ul>
<li>Mixed: 回退到某个版本，本地源码不会回退，会回退commit和index信息</li>
<li>Soft: 回退到某个版本，本地远吗和index信息不会回退，只回退了commit的信息，如果还要提交，直接commit即可。</li>
<li>Hard: 彻底回退到某个版本，本地的源码也会变为某个版本的内容</li>
</ul></li>
<li>To Commit: 回退版本。
<ul>
<li>HEAD: 回退到最近一个提交版本</li>
<li>HEAD<sup>:</sup> 会退到上一个提交版本</li>
<li>HEAD<sup><sup>:</sup></sup> 会退到上上一个提交版本</li>
<li>...</li>
<li>HEAD~0: 会退到最近一个提交版本</li>
<li>HEAD~1: 会退到最近一个提交版本</li>
<li>HEAD~2: 会退到最近一个提交版本</li>
</ul></li>
<li>Validate: 版本验证。在指定会退到某个版本之前也可以先验证一下是否是想回退的版本</li>
</ul>

<h3 id="toc_515">Git查看提交历史</h3>

<p>Git查看提交历史记录也都有查看文件、文件夹和代码段的历史记录功能，不同点在于【查看本地变更历史】仅能查看本地的变更，远程的改动是无法看到的，【Git查看历史记录】可以查看所有commit以后的历史</p>

<h4 id="toc_516">查看某个文件的提交历史</h4>

<p><strong>操作步骤</strong>: 右击 -&gt; 在弹出的操作选项中单击Git -&gt; Show History -&gt; 在Version Control中显示Hitory</p>

<h4 id="toc_517">查看某段代码的提交历史</h4>

<p>选中这段代码，然后在Git操作列表中选择【Show History for Selection】</p>

<h3 id="toc_518">Git分支管理</h3>

<p>当我们在进行软件开发时，同一个软件多个人协同开发，因此要有不同的分工。如果想让彼此的代码不受影响，就需要在不同的分支上进行开发，开发完成后再进行合并。  </p>

<h4 id="toc_519">新建分支</h4>

<p>单击【New Branch】 -&gt; 输入分支的名字 -&gt; OK</p>

<h4 id="toc_520">检出分支</h4>

<p>检出分支作为新的本地分支，可以把一个远程分支checkout下来，可以起不同的名字，可以是多个本地分支，但是提交时都是向同一个远程分支进行提交。</p>

<p><strong>操作步骤</strong>: 选择一个分支 -&gt; 单击【checkout as new local branch】 -&gt; 输入新的分支名 -&gt; OK -&gt; 成功检出</p>

<p>如果是对本地分支进行【Checkout as new local branch】操作，就会直接弹出一个【Checkout New Branch】输入框，不会有默认的分支名</p>

<h4 id="toc_521">检出分支/标签/修订版本</h4>

<p>如果想检出某个分支/标签/修订版本，只需要知道对应的名字就可以了。在Git Branches操作列表中选择【Checkout Tag or Revision】 -&gt; 弹出的输入框中输入分支名 -&gt; OK后会检出对应的分支。<br/><br/>
检出tag也只需要输入tag名就可以了。如果检出当前分支的某个修订版本，就需要输入对应的修订版本号</p>

<h4 id="toc_522">切换分支</h4>

<p>切换分支需要选择切换的分支，单击【Checkout】。如果原来的分支没有变更，checkout后会切换到新的分支:如果有变更且有冲突，就会先解决冲突再切换。</p>

<h4 id="toc_523">分支对比</h4>

<p>分支对比是拿当前分支与另外一个分支进行对比。</p>

<h4 id="toc_524">对比两个分支的提交日志</h4>

<h4 id="toc_525">对比两个分支的不同</h4>

<h4 id="toc_526">合并分支</h4>

<p>合并分支只将选中的分支与当前的分支进行合并，如果有冲突就会弹出冲突列表，解决冲突合并成功。</p>

<h4 id="toc_527">删除冲突</h4>

<ul>
<li>删除本地分支: 本地分支会被直接删除</li>
<li>删除远程分支: 删除远程分支会有确认是否删除，确认删除后状态栏会有正在删除的信息显示，删除成功后Version Control上会有删除陈宫地提示。Remote Branches列表中此分支也会消失</li>
</ul>

<h3 id="toc_528">Git创建标签</h3>

<p>Git可以给历史中的某一个修订版本打上标签，通常我们会使用标签来标识一个版本的发布。</p>

<p><strong>操作步骤</strong>: 菜单栏-&gt; VCS -&gt; Git -&gt; Tag</p>

<ul>
<li>Git Root:项目地址</li>
<li>Current Branch: 显示当前的分支</li>
<li>Tag Name: 标签名</li>
<li>Force: 如果相同的Tag名已经存在，是否强制创建</li>
<li>Commit: 通过输入的修订版本号、Tag名来打标签。如果空白，默认对HEAD打标签</li>
<li>Create Tag: 创建标签</li>
</ul>

<h3 id="toc_529">Git合并分支</h3>

<ul>
<li>选择合并变更(右击项目 -&gt; 在弹出的操作列表中选择 Git -&gt; Repository -&gt; Merge Changes -&gt; 弹出合并分支对话框)</li>
<li>配置合并信息
<ul>
<li>Current Branch: 显示了当前的分支</li>
<li>Branches to merge: 显示了仓库中所有的分支，选择一个或多个要合并过来的分支</li>
<li>Strategy: 提供了可选择的合并策略，请按需选择</li>
<li>Commit Message: 添加本次合并的注释</li>
</ul></li>
<li>合并分支: 配置好合并信息后单击【Merge】按钮开始合并代码。</li>
</ul>

<h3 id="toc_530">解决Git合并中的冲突</h3>

<p><strong>问题1</strong>: 合并分支为什么会有冲突？<br/><br/>
因为在项目开发的过程中，可能大家会同时改动某个文件，当同一个文件在远程分支和本地分支按不同的方式被修改时，在合并分支的时候就会出现冲突。</p>

<p><strong>问题2</strong>: 文件冲突会导致什么样的后果？<br/><br/>
合并过程中如果文件冲突，合并就会失败，Git会在索引和工作树里设置一个特殊的状态，提示你如何解决冲突。我们必须解决完冲突并且更新索引后才能够将文件提交。</p>

<h4 id="toc_531">打开文件冲突列表</h4>

<p><strong>操作步骤</strong>: Git -&gt; Resolve Conflicts<br/><br/>
合并过程中如果有冲突也会突出文件冲突列表</p>

<h4 id="toc_532">解决冲突的方法</h4>

<ul>
<li>如果想放弃本地的改动，而完全使用远程分支的改动，可选择【Accept Theirs】，此文件冲突解决</li>
<li>如果想放弃远程的改动，而完全使用本地的改动，可选择【Accept Youts】，此文件冲突解决</li>
<li>如果想详细解决冲突，单击【Merge】 -&gt; 会打开文件比较窗口。左边是本地变更，邮编是远程分支上的变更，中间是合并结果。如果把右边远程分支的变更用作合并结果，单击‘&lt;&lt;’远程的变更就回到合并结果中。同理，也可将本地变更合并到结果中。</li>
</ul>

<p>如果觉得改错了要恢复，可单击【Revert】。如果确定了合并结果，就单机【Apply】。</p>

<h3 id="toc_533">Git使用Rebase合并分支</h3>

<p><strong>Git Rebase是什么</strong><br/><br/>
Rebase顾名思义是‘变基’的意思，即合并时重新定义分支的根基或节点，让提交记录按时间线排列。</p>

<p><strong>Git Rebase和Merge的区别是什么</strong><br/>
Rebase跟Merge一样，都是用来合并分支的，但是Merge操作会生成一个新的节点，与之前的提交分开显示: Rebase操作不会生成新的节点，而是将两个分支融合成一个线性的提交。</p>

<p><strong>什么时候使用Git Rebase</strong><br/><br/>
使用Rebase合并分支会使提交记录看起来非常清晰，因为它是时间线线性的现实记录，所以打你想线性地查看分支的提交记录时，可以使用Git Rebase来合并分支</p>

<p>对每个提交定义rebase行为。默认为pick</p>

<ul>
<li>pick: 以同样的提交信息保存提交</li>
<li>edit: 在对下一提交进行操作之前，会让你对提交进行修正</li>
<li>skip: 遇到冲突暂停时，跳过这个提交</li>
<li>squash: 把这个提交和前一个提交合并成为一个新的提交</li>
<li>reword: 提交时要编辑提交信息</li>
<li>fixup: 和squash类似，但是要放弃提交信息</li>
</ul>

<h3 id="toc_534">Git暂存/恢复暂存变更</h3>

<h4 id="toc_535">暂存是什么意思</h4>

<p>Git暂存就是从最近一次提交中读取相关内容，让工作区保证和上次提交的内容一致，相当于清空本地的所有改动。只不过这些改动进行了备份，我们可以选择性地进行恢复。</p>

<h4 id="toc_536">什么时候使用暂存</h4>

<p>将写到一半的代码暂存，然后切换到其他分支修复BUG，BUG修复完成后再切回当前分支，然后恢复之前咱村的代码继续编写</p>

<h4 id="toc_537">暂存和恢复暂存怎么用</h4>

<p>在Dev分支单击【Create Stash】创建暂存，IDE消除了本地的改动，恢复到上次提交的内容。切换到Master分支，改好代码返回Dev分支。此时会弹出暂存列表，选择之前暂存的代码，单击【Apply Stash】按钮进行恢复</p>

<h3 id="toc_538">Git获取最新内容</h3>

<p>从远程仓库获取项目中最新的内容，包括远程仓库中分支的状态，可以通过菜单栏 -&gt; VCS -&gt; Git -&gt; Fetch完成。Git会去拉取远程仓库最新的内容，并清除远程服务器上删掉的分支。</p>

<h3 id="toc_539">Git合并最新内容</h3>

<p>要从远程仓库获取最新的内容，然后和本地的内容自动进行合并，可以通过菜单栏 -&gt; VCS -&gt; Git -&gt; Pull。</p>

<p>Git会先执行Fetch去拉取远程仓库最新的内容，再执行Merge把远程仓库中的代码和本地代码合并。执行Pull以后在Version Control中会显示更新的详情。</p>

<h3 id="toc_540">Git更新项目</h3>

<ul>
<li>菜单栏: VCS -&gt; Update Project</li>
<li>快捷键: Command + T</li>
<li><p>工具栏</p></li>
<li><p>Update Type(更新类型): 提供了3种类型来进行同步</p>
<ul>
<li>Merge: 更新后合并，相当于执行git fetch命令，再执行git merge或git pull——no-rebase</li>
<li>Rebase: 更新后变基，相当于执行git fetch命令，再执行git rebase或git pull--rebase</li>
<li>Branch Default: 更新后使用分支默认命令</li>
</ul></li>
<li><p>Clean working tree before update(更新之前先清理工具目录): 可选择在清空工作目录之前以什么样的方式来保存你的更改，当更新完成后，可以恢复之前的更改。</p>
<ul>
<li>Using Stash: 使用暂存</li>
<li>Using Shelve: 使用搁置</li>
</ul></li>
</ul>

<h3 id="toc_541">刷新文件状态</h3>

<p>如果我们想刷新本地文件的状态，可以使用此功能。</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; VCS -&gt; Refresh File Status,或者Version Control工具窗口 -&gt; Local Changes -&gt; Refresh</p>

<h3 id="toc_542">Git 补丁</h3>

<p><strong>什么是补丁</strong><br/><br/>
Git当中的补丁是一个文本文件，包含了对源代码的修改。你可以创建一个项目中的补丁，然后把它发给需要的人，拿到补丁文件的人可以为自己的项目打上这个补丁。</p>

<p><strong>创建补丁</strong><br/><br/>
假设你修改了项目中的一个BUG，然后需要创建一个补丁</p>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; VCS -&gt; Create Patch... -&gt; 弹出Create Patch配置对话框</p>

<p><strong>应用补丁</strong><br/><br/>
当我们拿到补丁后，可以通过菜单栏 -&gt; VCS -&gt; Apply Patch... -&gt; 选择补丁文件 -&gt; 单击【OK】</p>

<h3 id="toc_543">Git搁置变更</h3>

<p>类似Git的暂存命令，等想恢复的时候再来恢复搁置。与暂存不同的是，搁置功能相当于是本地打了个补丁，把补丁文件保存在本地，等想要恢复的时候给项目打上个补丁就可以了。</p>

<h4 id="toc_544">搁置变更</h4>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; VCS -&gt; Shelve Changes -&gt; 在弹出的对话框中选择要暂时搁置的变更 -&gt; 单击【Shelve Changes】</p>

<h4 id="toc_545">恢复搁置</h4>

<p>当我们修改完BUG，回到之前的分支准备继续写代码，需要恢复之前搁置的变更</p>

<ul>
<li>Unshelve Changes: 默认恢复搁置到新建的变更列表(<strong>操作步骤</strong>: Version Control工具窗口 -&gt; Shelf -&gt; 右击之前搁置的文件 -&gt; Unshelve Changes -&gt; 默认新建一个Changelist -&gt; 输入Name后单击【OK】按钮)</li>
<li>Unshelve: 默认恢复搁置到默认的变更列表(<strong>操作步骤</strong>: Version Control工具窗口 -&gt; Shelf -&gt; 右击之前搁置的文件 -&gt; Unshelve -&gt; 弹出恢复搁置的对话框 -&gt; 单击【OK】按钮后搁置恢复)</li>
</ul>

<h3 id="toc_546">查看Git项目的提交信息</h3>

<h4 id="toc_547">查看本地Git项目提交信息</h4>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; VCS -&gt; Browse VCS Repository -&gt; Show Git Repository Log -&gt; 弹出选择对话框 -&gt; 选择一个要浏览日志的项目</p>

<h4 id="toc_548">查看当前项目的提交信息</h4>

<p>在Version Control工具窗口的Log查看当前项目的分支信息及提交信息</p>

<h4 id="toc_549">过滤信息</h4>

<ul>
<li>过滤提交信息</li>
<li>过滤分支/用户/日期/路径</li>
</ul>

<h2 id="toc_550">窗口</h2>

<h3 id="toc_551">最小化和最大化窗口</h3>

<h4 id="toc_552">最小化窗口</h4>

<p><strong>菜单栏</strong>: Window -&gt; Minimize<br/><br/>
<strong>快捷键</strong>: command + M</p>

<h4 id="toc_553">最大化窗口</h4>

<p><strong>菜单栏</strong>: Window -&gt; Zoom<br/><br/>
<strong>快捷键</strong>: options + command + “=”</p>

<h3 id="toc_554">保存和恢复窗口布局</h3>

<h4 id="toc_555">保存当前布局为默认布局</h4>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Window -&gt; Store Current Layout as Default</p>

<h4 id="toc_556">恢复默认的布局</h4>

<p><strong>菜单栏</strong>: Window -&gt; ReStore Default Layout<br/><br/>
<strong>快捷键</strong>: fn + shift + F12</p>

<h3 id="toc_557">工具窗口的显示和隐藏</h3>

<p><strong>通过Tool Windows显示/隐藏工具窗口</strong><br/><br/>
<strong>操作步骤</strong>: 菜单栏 -&gt; View -&gt; Tools Windows -&gt; 显示Android Studio支持的所有工具列表</p>

<p><strong>通过工具窗口都可以通过工具条上的Tab来显示和隐藏</strong>  </p>

<h3 id="toc_558">工具窗口的隐藏技巧</h3>

<h4 id="toc_559">隐藏活动的工具窗口</h4>

<p>当有多个窗口被打开的时候，之隐藏活动的那一个工具窗口<br/><br/>
<strong>菜单栏</strong>: Window -&gt; Active Tool Window -&gt; Hide Ative Tool Window | Close Active Tab</p>

<h4 id="toc_560">挨个隐藏工具窗口</h4>

<p>当有多个窗口被打开的时候，使用此功能可以按打开的顺序逆向隐藏工具窗口<br/><br/>
<strong>菜单栏</strong>: Window -&gt; Active Tool Window -&gt; Hide side tool Window</p>

<h4 id="toc_561">隐藏所有工具窗口</h4>

<p>当编辑器和工具窗口都打开的时候，界面会显得比较乱。如果我们只想专注地编写代码，就可以一键把所有工具窗口隐藏<br/><br/>
<strong>菜单栏</strong>: Window -&gt; Active Tool Window -&gt; Hide All Windows<br/><br/>
<strong>快捷键</strong>: fn + shift + command + F12</p>

<h4 id="toc_562">恢复隐藏的所有工具窗口</h4>

<p><strong>菜单栏</strong>: Window -&gt; Active Tool Window -&gt; Restore Windows<br/><br/>
<strong>快捷键</strong>: fn + shift + command + F12</p>

<h3 id="toc_563">工具窗口调整技巧</h3>

<h4 id="toc_564">跳转到上一个</h4>

<p>我们经常会在工具窗口和编辑器之间跳转，可以让光标快速跳转到上一个工具窗口</p>

<p><strong>菜单栏</strong>: Window -&gt; Active Tool Window -&gt; Jump to Last Tool Window<br/><br/>
<strong>快捷键</strong>: fn + F12</p>

<h4 id="toc_565">最大化工具窗口</h4>

<p><strong>菜单栏</strong>: Window -&gt; Active Tool Window -&gt; Maximize tool Window<br/><br/>
<strong>快捷键</strong>: shift + command + “‘”</p>

<h4 id="toc_566">恢复最大化工具窗口</h4>

<p>原来的【Maximize tool Window】变为【Restore tool window size】</p>

<h4 id="toc_567">逐渐调整工具窗口大小</h4>

<p>最快的调整方式使用鼠标长按托拖动</p>

<p>激活工具窗口 -&gt; 菜单栏 -&gt; Window -&gt; Active Tool Window -&gt; Resize -&gt; Stretch to Top/Bottom/Right/Left</p>

<h3 id="toc_568">移动工具窗口的位置</h3>

<p>右击工具窗口 -&gt; Move To -&gt; 选择要移动到的位置</p>

<h3 id="toc_569">工具窗口的查看模式</h3>

<h4 id="toc_570">停驻和浮动模式</h4>

<h4 id="toc_571">停靠和脱开模式</h4>

<h4 id="toc_572">固定和非固定模式</h4>

<h4 id="toc_573">分离模式</h4>

<p>在同一个工具条上最多可以同时显示两个工具窗口</p>

<h4 id="toc_574">作为标签显示</h4>

<h3 id="toc_575">编辑器标签设置</h3>

<p>任一时刻打开一个文件都会以标签页的形式在编辑窗口出现</p>

<p>设置编辑器标签: 偏好设置 -&gt; Editor -&gt; Editor Tabs</p>

<h3 id="toc_576">快速切换编辑器标签</h3>

<h4 id="toc_577">上一个/下一个标签</h4>

<p><strong>前提条件</strong>: 光标在编辑器中<br/><br/>
<strong>菜单栏</strong>: Window -&gt; Editor Tabs -&gt; Select Next Tab 或 Select Previous Tab<br/><br/>
<strong>快捷键</strong>: shift + command + ←/→</p>

<h4 id="toc_578">快速切换已打开的文件</h4>

<p>快捷键control + tab 调出switcher</p>

<h4 id="toc_579">快速切换工具窗口</h4>

<p>使用快捷键control + tab 调出switcher，默认选中的是文件，如果想默认选中的是工具，则使用快捷键control + shift + tab。长按control + shift，通过按tab来切换工具。</p>

<h3 id="toc_580">关闭编辑器标签</h3>

<p>对标签右击，来选择性关闭标签页</p>

<h3 id="toc_581">管理编辑器标签</h3>

<h4 id="toc_582">重新打开关闭的标签</h4>

<p><strong>操作步骤</strong>: 右击编辑器标签 -&gt; Reopen Closed Tab -&gt; 最后被关闭的标签会被打开</p>

<h4 id="toc_583">在最后打开新标签</h4>

<p><strong>操作步骤</strong>: 右击编辑器标签 -&gt; 选中Open New Tabs At The End -&gt; 再打开新的文件标签时就会在已打开的标签最后打开</p>

<h4 id="toc_584">通过文件名排序标签</h4>

<p><strong>操作步骤</strong>: 右击编辑器标签 -&gt; Sort Tabs By Filename</p>

<h3 id="toc_585">标签显示位置</h3>

<p>默认标签是显示在编辑器窗口最上面，我么也可以自定义显示的位置</p>

<p><strong>操作步骤</strong>: 右击标签 -&gt; Tabs Placement -&gt; 选择显示位置</p>

<h3 id="toc_586">拆分编辑器窗口</h3>

<h4 id="toc_587">拆分一个标签窗口</h4>

<ul>
<li>右击标签 -&gt; Split Vertically/Horizontal(垂直拆分/水平拆分)</li>
<li>右击标签 -&gt; Move Right 或 Move Down。相当于水平拆分和垂直拆分，不同点是Move会把当前的标签页移到拆分的一边，而Split不会</li>
</ul>

<h4 id="toc_588">改变拆分窗口的摆放方式</h4>

<p><strong>操作步骤</strong>: 右击标签 -&gt; Change Splitter Orientation</p>

<p>改变拆分窗口的摆放方式</p>

<h4 id="toc_589">标签组</h4>

<p>Android Studio可以通过将标签页分组的方式支持多文件同时编辑，组的数量没有限制</p>

<p><strong>操作步骤</strong>: 右击标签 -&gt; Move to Opposite Group。如果想把当前文件在另外一个标签组打开可以选择Open In Opposite Group</p>

<h4 id="toc_590">撤销拆分</h4>

<p><strong>操作步骤</strong>: 右击标签 -&gt; Unsplit 或 Unsplit All</p>

<h3 id="toc_591">多个项目之前切换</h3>

<h4 id="toc_592">打开后面一个项目</h4>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Window -&gt; Next Project Window</p>

<h4 id="toc_593">打开前面一个项目</h4>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Window -&gt; Previous Project Window</p>

<h4 id="toc_594">选择某个已打开项目</h4>

<p>菜单 -&gt; Window 子菜单来完成</p>

<h2 id="toc_595">偏好设置</h2>

<h3 id="toc_596">外观与行为</h3>

<h4 id="toc_597">设置工具提示的延迟时间</h4>

<p>当我们把鼠标停在工具栏上的工具或编辑器中的项目会出现提示</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Appearance &amp; Behavior -&gt; Appearance -&gt; 滑动设置【Tooltip initial delay】</p>

<h4 id="toc_598">设置在状态栏显示内存状态</h4>

<p>如果想实时显示内存的使用情况</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Appearance &amp; Behavior -&gt; Appearance -&gt; 勾选【Show memory indicator】</p>

<h4 id="toc_599">对菜单选项和工具栏上的工具进行增删改</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Appearance &amp; Behavior -&gt; Menus and Toolbars -&gt; 选择需要操作的选项</p>

<h3 id="toc_600">系统设置</h3>

<h4 id="toc_601">设置启动Android Studio时是否自动打开项目</h4>

<p>当我们打开Android Stuio时默认会打开上次最后关闭的项目，如果不想自动打开上次关闭的项目</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Appearance &amp; Behavior -&gt; System Settings -&gt; 不勾选【Reopen last project on startup】</p>

<h4 id="toc_602">设置退出Android Studio时是否弹出确认提示</h4>

<p>当我们关闭Android Studio时默认会弹出确认提示，如果不想每次都确认</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Appearance &amp; Behavior -&gt; System Settings -&gt; 不勾选【Confirm application exit】</p>

<h4 id="toc_603">设置打开一个项目时的打开方式</h4>

<p>当我们打开一个新项目时默认会弹出一个确认提示，让我们确认是在新窗口打开还是在当前窗口打开。</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Appearance &amp; Behavior -&gt; System Settings -&gt; 设置Project Opening</p>

<ul>
<li>Open project in new window: 在一个新窗口打开项目</li>
<li>Open project in the same window: 在同一个窗口打开项目</li>
<li>Confirm window to open project in: 弹出确认对话框，可选择在新窗口或原窗口打开</li>
</ul>

<h4 id="toc_604">设置文件定期自动保存</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Appearance &amp; Behavior -&gt; System Settings -&gt; 勾选【Save files automatically if application is idle for [] sec】</p>

<h4 id="toc_605">设置编辑窗口失活时文件自动保存</h4>

<p>编辑窗口失活的意思是可理解为从编辑窗口切换到其他窗口。</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Appearance &amp; Behavior -&gt; System Settings -&gt; 勾选【Save files on frame deactivation】</p>

<h4 id="toc_606">设置密码存储策略</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Appearance &amp; Behavior -&gt; System Settings -&gt; Passwords -&gt; 设置Password storage policy</p>

<ul>
<li>Do not remember passwords: 不记住密码，每次都要输入密码</li>
<li>Remember passwords until the application is closed: 记住密码，直到应用程序被关闭</li>
<li>Save on disk with master password protection: 密码保存到磁盘，使用master password来保护</li>
</ul>

<h4 id="toc_607">设置是否让Google统计使用信息</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Appearance &amp; Behavior -&gt; System Settings -&gt; Usage Statistics -&gt; Send usage statistics to Google</p>

<p>此功能统计Android Studio的使用情况(功能，资源的使用情况和插件的配置信息)，然后发送给Google</p>

<h3 id="toc_608">键盘映射</h3>

<h4 id="toc_609">在Android Studio中如何使用Eclipse的快捷键</h4>

<p>在Keymaps中选择</p>

<h4 id="toc_610">如何自定义一份属于自己的keymap</h4>

<p>复制一份keymap，在复制的keymap中修改</p>

<h3 id="toc_611">编辑器常规设置</h3>

<h4 id="toc_612">设置单击编辑器光标定位在一行的结尾或定位在单击的位置</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Virtual Space -&gt; 勾选【Allow placement of caret after end of line】</p>

<ul>
<li>勾选，在空白位置单击，光标会定位在一行的结尾</li>
<li>不勾选，在空白位置单击，光标会定位在单击的地方</li>
</ul>

<h4 id="toc_613">设置鼠标悬停在元素上会显示文档提示</h4>

<p>如果想让鼠标悬停在某个变量、类或方法上直接显示它的文档。</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Other -&gt; 勾选【Show quick documentation on mouse move】</p>

<h4 id="toc_614">设置是否自动换行</h4>

<p>当一行的内容超过编辑器的宽度时，它会自动换行。</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; 查看Soft Wraps -&gt; 勾选【Use soft wraps in editor】</p>

<h5 id="toc_615">让换行符一直显示</h5>

<p>如果向现实所有的换行符，就不要勾选【show soft wrap indicators for current line only】</p>

<h5 id="toc_616">设置换行后的缩进字符</h5>

<p>如果想自定义换行后第二行的缩进，可以勾选【Use original line`s indent for wrapped parts】 -&gt; 设置 Additional shift</p>

<h4 id="toc_617">设置使用command + 鼠标控制代码的缩放</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; 勾选【Change font size with Command + Mouse Wheel】</p>

<h4 id="toc_618">开启使用驼峰单词</h4>

<p>移动光标或选择单词时可以识别驼峰</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Smart Keys -&gt; 勾选【Use &quot;CamelHumps&quot; words】</p>

<h4 id="toc_619">关闭单词拼写检查</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Inspections -&gt; 取消勾选【Spelling】</p>

<h4 id="toc_620">设置代码折叠规则</h4>

<p>自定义代码折叠的规则</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Code Folding</p>

<h3 id="toc_621">设置自动导入</h3>

<h4 id="toc_622">设置粘贴时自动导入包</h4>

<p>从其他地方复制一段代码粘贴到Android Studio文件中时，默认Android Studio会询问你是否导入引用的包。</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Auto Import -&gt; Insert imports on paste</p>

<ul>
<li>All: 全部自动导入</li>
<li>Ask: 询问是否自动导入</li>
<li>None: 不自动导入</li>
</ul>

<h4 id="toc_623">设置自动导入需要的包</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Auto Import -&gt; 勾选【Optimize imports on the fly】 和 【Add unambiguous imports on the fly】</p>

<h4 id="toc_624">设置是否弹出导入提示</h4>

<p>当你输入的类的声明没有被导入时，会弹出一个导入提示</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Auto Import -&gt; Show import popup</p>

<h3 id="toc_625">编辑器外观</h3>

<h4 id="toc_626">设置编辑器一直显示行号</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Appearance -&gt; 勾选【Show line number】</p>

<h4 id="toc_627">设置编辑器显示方法分隔符</h4>

<p>如果你想让每个方法区分得更明显，可以显示方法分隔符</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Appearance -&gt; 勾选【Show method separators】</p>

<h4 id="toc_628">设置编辑器显示空格</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Appearance -&gt; 勾选【Show whitespace】</p>

<h4 id="toc_629">设置编辑器显示缩进向导</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Appearance -&gt; 勾选【Show vertical indent guides】</p>

<h3 id="toc_630">代码补全</h3>

<h4 id="toc_631">设置自动补全时是否区分大小写</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Code Completion</p>

<p>Case sensitive completion: </p>

<ul>
<li>First letter: 区分首字母大小写</li>
<li>All: 区分全部大小写</li>
<li>None: 不区分大小写</li>
</ul>

<h4 id="toc_632">加快自动弹出代码补全提示的速度</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Code Completion -&gt; 将【Autopopup decumentation in】设置为0，在Parameter Info将【Autopopup in】中设置为0</p>

<h4 id="toc_633">关闭自动弹出代码补全提示</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Code Completion -&gt; 不勾选【Autopopup decumentation in】，在Parameter Info不勾选【Autopopup in】</p>

<h4 id="toc_634">设置查看方法参数信息的时候显示方法签名</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Code Completion -&gt; Show full signatures</p>

<h3 id="toc_635">文件标签</h3>

<h4 id="toc_636">设置用星号标记修改过的文件标签</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Editor Tabs -&gt; 勾选【Mark modified tabs with asterisk】</p>

<h4 id="toc_637">设置打开的文件标签可以多行显示</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Editor Tabs -&gt; 取消勾选【Show tabs in single row】，即可让标签不隐藏，并且全部显示出来</p>

<h4 id="toc_638">设置文件标签的显示位置</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Editor Tabs -&gt; Placement -&gt; 选择显示位置</p>

<h4 id="toc_639">设置文件标签超过一定数量时的关闭规则</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; General -&gt; Editor Tabs -&gt; Tab Closing Policy -&gt; 配置关闭规则</p>

<ul>
<li>打开文件标签限制数量</li>
<li>当打开的文件标签超过10个时关闭使用频率较少的</li>
<li>当关闭标签时，激活左边相邻的标签</li>
</ul>

<h3 id="toc_640">编辑器颜色</h3>

<h4 id="toc_641">设置是否显示条标和条标的显示颜色</h4>

<p>当编辑器中有报错的时候，在右边框上会显示一个红色的条，即条标</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Colors &amp; Fonts -&gt; General -&gt; 勾选【Error stripe mark】</p>

<h4 id="toc_642">设置控制台的颜色</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Colors &amp; Fonts -&gt; Console Colors</p>

<h4 id="toc_643">设置控制台的字体</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Colors &amp; Fonts -&gt; Console Font</p>

<h4 id="toc_644">自定义代码的颜色</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Colors &amp; Fonts -&gt; Java -&gt; 新建一个Scheme</p>

<h3 id="toc_645">代码风格</h3>

<h4 id="toc_646">设置Java注释按缩进显示</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Wrapping and Braces -&gt; Keep when reformatting -&gt; 取消勾选【Comment at first column】</p>

<h4 id="toc_647">设置语句不要都显示在一行</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Wrapping and Braces -&gt; Keep when reformatting -&gt; 取消勾选【Control statement in one line】</p>

<h4 id="toc_648">设置Java简单的类合并为一行</h4>

<p>Android Studio中的默认设置是代码格式化后不会把简单的类合并为一行</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Wrapping and Braces -&gt; Keep when reformatting -&gt; 勾选【Simple classes in one line】</p>

<h4 id="toc_649">设置Java字段和变量列对齐</h4>

<p>Android Studio中默认是没有列对齐的。</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Wrapping and Braces -&gt; Group declarations -&gt; 勾选【Align fields in columns】 和 【Align variables in columns】</p>

<h4 id="toc_650">设置自动生成字段名称时添加前缀</h4>

<p>默认自动生成字段名称是不会有任何前缀的。不过在Android Studio中提供了自动添加自定义前缀或后缀的功能，以便统一编码规范。</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Code Style -&gt; Java -&gt; Code Generation -&gt; 输入需要添加的前缀或后缀</p>

<h3 id="toc_651">文件和代码模板</h3>

<h4 id="toc_652">设置新建文件的注释模板</h4>

<p>当我们新建一个文件时会自动插入这个注释</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; File and Code Templates -&gt; Includes -&gt; File Header -&gt; 输入自定义的注释模板</p>

<h4 id="toc_653">模板中内置的变量</h4>

<ul>
<li>￥{PACKAGE_NAME}: 包名</li>
<li>￥{USER}: 系统的登录名</li>
<li>￥{DATE}: 系统日期</li>
<li>￥{TIME}: 系统时间</li>
<li>￥{YEAR}: 年份</li>
<li>￥{MONTH}: 月份</li>
<li>￥{MONTH_NAME_SHORT}: 月份的前三个字符</li>
<li>￥{MONTH_NAME_FULL}: 月份的全名</li>
<li>￥{DAY}: 天</li>
<li>￥{HOUR}: 时</li>
<li>￥{MINUTE}: 分钟</li>
<li>￥{PROJECT_NAME}: 项目名</li>
</ul>

<h4 id="toc_654">设置新建类文件模板</h4>

<p>在类文件中可以引用头文件的注释模板<br/><br/>
如果我们想在新建类文件时自动添加某段代码<br/><br/>
加了一段代码以后我们再新建一个类文件<br/><br/>
每次新建类文件时，这段代码模板都会被应用，效率会提高很多</p>

<h4 id="toc_655">设置IDE和项目的编码</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; File Encodings</p>

<p>为了防止中文乱码，一般都会勾选Transparent native-to-ascii conversion</p>

<h4 id="toc_656">对动态模板进行增删改查</h4>

<p>Android Studio中提供了快速插入常用代码的功能Live Templates</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; Live Templates -&gt; 对动态模板进行增删改查</p>

<ul>
<li>查看动态模板分组</li>
<li>新增/删除/复制一个模板</li>
<li>查看具体模板</li>
</ul>

<h4 id="toc_657">设置展开代码的按键</h4>

<p>当我们要插入动态模板的时候，输完代码片段的缩写以后默认按Tab键就可以展开diamante。当然也可以自定义展开按键。</p>

<h4 id="toc_658">给一个文件类型添加匹配规则</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; File Types -&gt; 在Recognized File Types列表中选中一个文件类型 -&gt; 在Registered Patterns中单击+，添加一个文件类型的匹配规则</p>

<h4 id="toc_659">添加一个自定义的文件类型</h4>

<p>如果Android Studio可识别的文件类型不能满足需求，可以自定义一个。Android Studio中支持自定义文件类型，可以对这个文件类型设置一些特性，如关键字、注释、高亮显示，还可以设置一些模板，提高操作效率。</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; File Types -&gt; 在Recognized File Types中单击+ -&gt; 设置新的文件类型</p>

<h4 id="toc_660">设置忽略某类文件或文件夹</h4>

<p>如果我们不想让某个文件或某类型的文件在编辑器中显示，就可以将其忽略</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Editor -&gt; File Types -&gt; 在Ignore files and folders中添加文件类型</p>

<h3 id="toc_661">插件</h3>

<p>Android Studio是基于IntelliJ IDEA开发的，自然继承了IntelliJ IDEA优秀的插件系统。我们可以通过安装插件来扩展Android Studio的功能，这会极大地方便我们日常的开发工作。</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Plugins</p>

<ul>
<li>All plugins: 所有插件</li>
<li>Enabled: 所有已启用的插件</li>
<li>Disabled: 所有已禁用的插件</li>
<li>Bundled: 所有IDEA自带的插件</li>
<li>Custom: 所有我们自己安装的插件</li>
</ul>

<h4 id="toc_662">安装插件</h4>

<h5 id="toc_663">Install JetBrains plugins(安装JetBrains插件)</h5>

<p>单击【Install JetBrains plugin】，然后弹出插件列表</p>

<ul>
<li>插件排序: 插件列表默认按name排序，同时允许添加排序条件(多选)</li>
<li>插件分类</li>
<li>安装插件
<ul>
<li>选中插件 -&gt; 在插件简介中单击【Install】按钮</li>
<li>下载插件</li>
<li>下载完成后重启Android Studio，插件安装成功</li>
</ul></li>
<li>设置代理</li>
</ul>

<h5 id="toc_664">Browse Repositories(浏览插件仓库)</h5>

<p>我们想查看插件仓库中所有的插件，可以单击【Browse repositories】，然后弹出插件列表，这里的操作跟安装JetBrains插件是一样的。</p>

<h5 id="toc_665">Install plugin from disk(从本地磁盘安装插件)</h5>

<ul>
<li>下载插件到本地。到Android Studio插件官网(<a href="https://plugins.jetbrains.com/?androidstudio)%E6%89%BE%E5%88%B0%E8%87%AA%E5%B7%B1%E6%83%B3%E8%A6%81%E7%9A%84%E6%8F%92%E4%BB%B6%EF%BC%8C%E4%B8%8B%E8%BD%BD%E5%88%B0%E6%9C%AC%E5%9C%B0%E3%80%82">https://plugins.jetbrains.com/?androidstudio)找到自己想要的插件，下载到本地。</a></li>
<li>单击【Install plugin from disk】 -&gt; 选择下载的插件</li>
<li>重启Android Studio</li>
</ul>

<h4 id="toc_666">禁用插件</h4>

<p>Android Studio中默认安装了一些根本用不到的插件，可以禁用这些插件</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Plugins -&gt; 取消勾选想禁用的插件 -&gt; 重启 -&gt; 生效</p>

<h4 id="toc_667">卸载插件</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Plugins -&gt; 选中插件 -&gt; Uninstall</p>

<h4 id="toc_668">常用插件</h4>

<h5 id="toc_669">编辑器插件</h5>

<table>
<thead>
<tr>
<th style="text-align: left">插件名</th>
<th style="text-align: left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">Key promoter</td>
<td style="text-align: left">用于生成快捷键提示</td>
</tr>
<tr>
<td style="text-align: left">CodeGlance</td>
<td style="text-align: left">用于生成代码缩略图，方便快速定位</td>
</tr>
<tr>
<td style="text-align: left">Eclipse Code Formatter</td>
<td style="text-align: left">用于使用Eclipse的代码格式化风格</td>
</tr>
<tr>
<td style="text-align: left">BashSupport</td>
<td style="text-align: left">用于支持Bash语言</td>
</tr>
<tr>
<td style="text-align: left">IdeaVim</td>
<td style="text-align: left">用于支持VIM</td>
</tr>
<tr>
<td style="text-align: left">Grep Console</td>
<td style="text-align: left">用于自定义控制台输出颜色</td>
</tr>
<tr>
<td style="text-align: left">Maven Helper</td>
<td style="text-align: left">用于查看Maven依赖树</td>
</tr>
</tbody>
</table>

<h5 id="toc_670">代码工具插件</h5>

<table>
<thead>
<tr>
<th style="text-align: left">插件名</th>
<th style="text-align: left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">String Manipulation</td>
<td style="text-align: left">用于快速切换驼峰式命名和下划线命名</td>
</tr>
<tr>
<td style="text-align: left">GsonFormat</td>
<td style="text-align: left">用于快速格式化json数据，自动生成实体类参数</td>
</tr>
<tr>
<td style="text-align: left">Android ButterKnife Zelezny</td>
<td style="text-align: left">用于快速添加Butterknife注解</td>
</tr>
<tr>
<td style="text-align: left">Android Drawable Importer</td>
<td style="text-align: left">用于快速导入缩放图标到Android项目中</td>
</tr>
<tr>
<td style="text-align: left">Android Parcelable code generator</td>
<td style="text-align: left">用于快速实现Parcelable 接口</td>
</tr>
<tr>
<td style="text-align: left">Android Postfix completion</td>
<td style="text-align: left">用于根据后缀快速完成代码</td>
</tr>
<tr>
<td style="text-align: left">AndroidAccessors</td>
<td style="text-align: left">用于快速实现get和set方法的插件</td>
</tr>
<tr>
<td style="text-align: left">Android Postfix Completion</td>
<td style="text-align: left">用于快速编写Toast，Log，isEmpty,FindView等代码</td>
</tr>
<tr>
<td style="text-align: left">JavaDoc</td>
<td style="text-align: left">用于快速生成Java注释，可自定义模板</td>
</tr>
</tbody>
</table>

<h5 id="toc_671">检查工具插件</h5>

<table>
<thead>
<tr>
<th style="text-align: left">插件名</th>
<th style="text-align: left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">CheckStyle-IDEA</td>
<td style="text-align: left">用于检查Java源代码是否符合编码规则</td>
</tr>
<tr>
<td style="text-align: left">FindBugs-IDEA</td>
<td style="text-align: left">用于检查Java代码中潜在的问题</td>
</tr>
<tr>
<td style="text-align: left">MetricsReloaded</td>
<td style="text-align: left">用于检查代码复杂度</td>
</tr>
</tbody>
</table>

<h5 id="toc_672">其他常用插件</h5>

<table>
<thead>
<tr>
<th style="text-align: left">插件名</th>
<th style="text-align: left">描述</th>
</tr>
</thead>

<tbody>
<tr>
<td style="text-align: left">Android WiFi Adb</td>
<td style="text-align: left">用于通过WIFI连接ADB，不需要root</td>
</tr>
<tr>
<td style="text-align: left">ADB Idea</td>
<td style="text-align: left">用于在Android Studio中可视化使用ADB命令</td>
</tr>
<tr>
<td style="text-align: left">RESTClient</td>
<td style="text-align: left">用于测试RESTful web services</td>
</tr>
<tr>
<td style="text-align: left">JSONOnlineViewer</td>
<td style="text-align: left">用于直接在Android Studio中调试接口数据</td>
</tr>
<tr>
<td style="text-align: left">jimu Mirror</td>
<td style="text-align: left">用于在真机上快速测试布局</td>
</tr>
<tr>
<td style="text-align: left">Codota</td>
<td style="text-align: left">用于搜索Android代码实例</td>
</tr>
<tr>
<td style="text-align: left">Genymotion</td>
<td style="text-align: left">用于使用Genymotion运行和调试应用</td>
</tr>
</tbody>
</table>

<h3 id="toc_673">编译和构建</h3>

<h4 id="toc_674">设置Android Studio的内存参数</h4>

<p><strong>操作步骤</strong>: 菜单栏 -&gt; Help -&gt; Edit Custom VM Options</p>

<h4 id="toc_675">设置自动编译项目</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Compiler -&gt; 勾选【Make project automatically】</p>

<h4 id="toc_676">设置并行编译</h4>

<p>想提升编译速度，可开启并行编译，这样会比单线程一次编译快很多。</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Compiler -&gt; 勾选【Compile independent modules in parallel】</p>

<h4 id="toc_677">调整编译内存大小</h4>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Compiler -&gt; 在【Command-line Options】中输入调整的内存参数</p>

<h4 id="toc_678">Gradle离线工作</h4>

<p>每次打开项目或者导入项目，Android Studio总会联网检查依赖的文件是否已经下载，是否有新版本，这样会导致速度很慢。如果我们清楚依赖的文件已经下载且不想更新到最新版本，可以使用Gradle离线工作模式</p>

<p><strong>操作步骤</strong>: 偏好设置 -&gt; Build,Execution,Deployment -&gt; Build Tools -&gt; Gradle -&gt; 勾选【Offline work】</p>

<p>如果使用离线工作模式可能导致项目报错，这时可以单击同步项目: Sync Project with Gradle Files</p>

<h2 id="toc_679">参考资料</h2>

<p>《精通Android Studio》</p>


    

      </div>

      <div class="row">
        <div class="large-6 columns">
        <p class="text-left" style="padding:15px 0px;">
      
          <a href="15561207873102.html" 
          title="Previous Post: Android 基础复习">&laquo; Android 基础复习</a>
      
        </p>
        </div>
        <div class="large-6 columns">
      <p class="text-right" style="padding:15px 0px;">
      
          <a  href="15561207872872.html" 
          title="Next Post: Kotlin学习笔记">Kotlin学习笔记 &raquo;</a>
      
      </p>
        </div>
      </div>
      <div class="comments-wrap">
        <div class="share-comments">
          

          

          
        </div>
      </div>
    </div><!-- article-wrap -->
  </div><!-- large 8 -->




 <div class="large-4 medium-4 columns">
  <div class="hide-for-small">
    <div id="sidebar" class="sidebar">
          <div id="site-info" class="site-info">
            
                <h1>MagicalRice的Blog</h1>
                <div class="site-des">技术博客</div>
                <div class="social">











  <a target="_blank" class="rss" href="atom.xml" title="RSS">RSS</a>
                
              	 </div>
          	</div>

             

              <div id="site-categories" class="side-item ">
                <div class="side-header">
                  <h2>Categories</h2>
                </div>
                <div class="side-content">

      	<p class="cat-list">
        
            <a href="Android.html"><strong>Android</strong></a>
        
            <a href="%E6%9C%8D%E5%8A%A1%E5%99%A8.html"><strong>服务器</strong></a>
        
            <a href="C++.html"><strong>C++</strong></a>
        
            <a href="UI.html"><strong>UI</strong></a>
        
            <a href="MySQL.html"><strong>MySQL</strong></a>
        
            <a href="%E7%AE%97%E6%B3%95.html"><strong>算法</strong></a>
        
            <a href="Game.html"><strong>Game</strong></a>
        
            <a href="Python.html"><strong>Python</strong></a>
        
            <a href="%E8%B7%A8%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91.html"><strong>跨平台开发</strong></a>
         
        </p>


                </div>
              </div>

              <div id="site-categories" class="side-item">
                <div class="side-header">
                  <h2>Recent Posts</h2>
                </div>
                <div class="side-content">
                <ul class="posts-list">
	      
		      
			      <li class="post">
			        <a href="15818619982581.html">IDEA 远程一键部署Spring Boot到Docker</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15813395132789.html">Flutter VsCode插件</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15809146907844.html">Flutter 组件小记</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15808782889824.html">Flutter常用第三方库</a>
			      </li>
		     
		  
		      
			      <li class="post">
			        <a href="15767453112302.html">添加环境变量</a>
			      </li>
		     
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		  
		      
		   
		  		</ul>
                </div>
              </div>
        </div><!-- sidebar -->
      </div><!-- hide for small -->
</div><!-- large 4 -->

</div><!-- row -->

 <div class="page-bottom clearfix">
  <div class="row">
   <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
</div>

        </section>
      </div>
    </div>

  
    

    <script src="asset/js/foundation.min.js"></script>
    <script>
      $(document).foundation();
      function fixSidebarHeight(){
        var w1 = $('.markdown-body').height();
          var w2 = $('#sidebar').height();
          if (w1 > w2) { $('#sidebar').height(w1); };
      }
      $(function(){
        fixSidebarHeight();
      })
      $(window).load(function(){
          fixSidebarHeight();
      });
     
    </script>

    
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-AMS_SVG-full"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>


  </body>
</html>
